window.CustomEvent||function(){var t;(t=function(t,e){var n;return e=e||{bubbles:!1,cancelable:!1,detail:void 0},(n=document.createEvent("CustomEvent")).initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}).prototype=window.Event.prototype,window.CustomEvent=t}(),"undefined"==typeof WeakMap&&function(){var t=Object.defineProperty,e=Date.now()%1e9,n=function(){this.name="__st"+(1e9*Math.random()>>>0)+e+++"__"};n.prototype={set:function(e,n){var i=e[this.name];return i&&i[0]===e?i[1]=n:t(e,this.name,{value:[e,n],writable:!0}),this},get:function(t){var e;return(e=t[this.name])&&e[0]===t?e[1]:void 0},delete:function(t){var e=t[this.name];return!(!e||e[0]!==t)&&(e[0]=e[1]=void 0,!0)},has:function(t){var e=t[this.name];return!!e&&e[0]===t}},window.WeakMap=n}(),function(t){if(!t.JsMutationObserver){var e,n=new WeakMap;if(/Trident|Edge/.test(navigator.userAgent))e=setTimeout;else if(window.setImmediate)e=window.setImmediate;else{var i=[],r=String(Math.random());window.addEventListener("message",function(t){if(t.data===r){var e=i;i=[],e.forEach(function(t){t()})}}),e=function(t){i.push(t),window.postMessage(r,"*")}}var a,o,s=!1,l=[],u=0;d.prototype={observe:function(t,e){var i;if(i=t,t=window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(i)||i,!e.childList&&!e.attributes&&!e.characterData||e.attributeOldValue&&!e.attributes||e.attributeFilter&&e.attributeFilter.length&&!e.attributes||e.characterDataOldValue&&!e.characterData)throw new SyntaxError;var r,a=n.get(t);a||n.set(t,a=[]);for(var o=0;o<a.length;o++)if(a[o].observer===this){(r=a[o]).removeListeners(),r.options=e;break}r||(r=new v(this,t,e),a.push(r),this.nodes_.push(t)),r.addListeners()},disconnect:function(){this.nodes_.forEach(function(t){for(var e=n.get(t),i=0;i<e.length;i++){var r=e[i];if(r.observer===this){r.removeListeners(),e.splice(i,1);break}}},this),this.records_=[]},takeRecords:function(){var t=this.records_;return this.records_=[],t}},v.prototype={enqueue:function(t){var n,i=this.observer.records_,r=i.length;if(i.length>0){var a=g(i[r-1],t);if(a)return void(i[r-1]=a)}else n=this.observer,l.push(n),s||(s=!0,e(c));i[r]=t},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(t){var e=this.options;e.attributes&&t.addEventListener("DOMAttrModified",this,!0),e.characterData&&t.addEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.addEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(t){var e=this.options;e.attributes&&t.removeEventListener("DOMAttrModified",this,!0),e.characterData&&t.removeEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.removeEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(t){if(t!==this.target){this.addListeners_(t),this.transientObservedNodes.push(t);var e=n.get(t);e||n.set(t,e=[]),e.push(this)}},removeTransientObservers:function(){var t=this.transientObservedNodes;this.transientObservedNodes=[],t.forEach(function(t){this.removeListeners_(t);for(var e=n.get(t),i=0;i<e.length;i++)if(e[i]===this){e.splice(i,1);break}},this)},handleEvent:function(t){switch(t.stopImmediatePropagation(),t.type){case"DOMAttrModified":var e=t.attrName,n=t.relatedNode.namespaceURI,i=t.target;(s=new p("attributes",i)).attributeName=e,s.attributeNamespace=n;var r=t.attrChange===MutationEvent.ADDITION?null:t.prevValue;h(i,function(t){if(t.attributes&&(!t.attributeFilter||!t.attributeFilter.length||-1!==t.attributeFilter.indexOf(e)||-1!==t.attributeFilter.indexOf(n)))return t.attributeOldValue?m(r):s});break;case"DOMCharacterDataModified":var s=p("characterData",i=t.target);r=t.prevValue;h(i,function(t){if(t.characterData)return t.characterDataOldValue?m(r):s});break;case"DOMNodeRemoved":this.addTransientObserver(t.target);case"DOMNodeInserted":var l,u,c=t.target;"DOMNodeInserted"===t.type?(l=[c],u=[]):(l=[],u=[c]);var d=c.previousSibling,f=c.nextSibling;(s=p("childList",t.target.parentNode)).addedNodes=l,s.removedNodes=u,s.previousSibling=d,s.nextSibling=f,h(t.relatedNode,function(t){if(t.childList)return s})}a=o=void 0}},t.JsMutationObserver=d,t.MutationObserver||(t.MutationObserver=d,d._isPolyfilled=!0)}function c(){s=!1;var t=l;l=[],t.sort(function(t,e){return t.uid_-e.uid_});var e=!1;t.forEach(function(t){var i,r=t.takeRecords();(i=t).nodes_.forEach(function(t){var e=n.get(t);e&&e.forEach(function(t){t.observer===i&&t.removeTransientObservers()})}),r.length&&(t.callback_(r,t),e=!0)}),e&&c()}function h(t,e){for(var i=t;i;i=i.parentNode){var r=n.get(i);if(r)for(var a=0;a<r.length;a++){var o=r[a],s=o.options;if(i===t||s.subtree){var l=e(s);l&&o.enqueue(l)}}}}function d(t){this.callback_=t,this.nodes_=[],this.records_=[],this.uid_=++u}function f(t,e){this.type=t,this.target=e,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function p(t,e){return a=new f(t,e)}function m(t){return o||((n=new f((e=a).type,e.target)).addedNodes=e.addedNodes.slice(),n.removedNodes=e.removedNodes.slice(),n.previousSibling=e.previousSibling,n.nextSibling=e.nextSibling,n.attributeName=e.attributeName,n.attributeNamespace=e.attributeNamespace,n.oldValue=e.oldValue,(o=n).oldValue=t,o);var e,n}function g(t,e){return t===e?t:o&&((n=t)===o||n===a)?o:null;var n}function v(t,e,n){this.observer=t,this.target=e,this.options=n,this.transientObservedNodes=[]}}(self),window.animit=function(){"use strict";var t,e,n,i,r={};r.capitalize=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},r.buildTransitionValue=function(t){return t.property=t.property||"all",t.duration=t.duration||.4,t.timing=t.timing||"linear",t.property.split(/ +/).map(function(e){return e+" "+t.duration+"s "+t.timing}).join(", ")},r.onceOnTransitionEnd=function(t,e){if(!t)return function(){};var n=function(n){t==n.target&&(n.stopPropagation(),i(),e())},i=function(){r._transitionEndEvents.forEach(function(e){t.removeEventListener(e,n,!1)})};return r._transitionEndEvents.forEach(function(e){t.addEventListener(e,n,!1)}),i},r._transitionEndEvents="ontransitionend"in window?["transitionend"]:"onwebkittransitionend"in window?["webkitTransitionEnd"]:"webkit"===r.vendorPrefix||"o"===r.vendorPrefix||"moz"===r.vendorPrefix||"ms"===r.vendorPrefix?[r.vendorPrefix+"TransitionEnd","transitionend"]:[],r._cssPropertyDict=function(){for(var t=window.getComputedStyle(document.documentElement,""),e={},n="A".charCodeAt(0),i="z".charCodeAt(0),r=function(t){return t.substr(1).toUpperCase()},a=0;a<t.length;a++){var o=t[a].replace(/^[\-]+/,"").replace(/[\-][a-z]/g,r).replace(/^moz/,"Moz");n<=o.charCodeAt(0)&&i>=o.charCodeAt(0)&&"cssText"!==o&&"parentText"!==o&&(e[o]=!0)}return e}(),r.hasCssProperty=function(t){return t in r._cssPropertyDict},r.vendorPrefix=(t=window.getComputedStyle(document.documentElement,""),(Array.prototype.slice.call(t).join("").match(/-(moz|webkit|ms)-/)||""===t.OLink&&["","o"])[1]),r.forceLayoutAtOnce=function(t,e){this.batchImmediate(function(){t.forEach(function(t){t.offsetHeight}),e()})},r.batchImmediate=(e=[],function(t){0===e.length&&setImmediate(function(){var t=e.slice(0);e=[],t.forEach(function(t){t()})}),e.push(t)}),r.batchAnimationFrame=(n=[],i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,1e3/60)},function(t){0===n.length&&i(function(){var t=n.slice(0);n=[],t.forEach(function(t){t()})}),n.push(t)}),r.transitionPropertyName=function(){if(r.hasCssProperty("transitionDuration"))return"transition";if(r.hasCssProperty(r.vendorPrefix+"TransitionDuration"))return r.vendorPrefix+"Transition";throw new Error("Invalid state")}();var a=function(t){if(!(this instanceof a))return new a(t);if(t instanceof HTMLElement)this.elements=[t];else{if("[object Array]"!==Object.prototype.toString.call(t))throw new Error("First argument must be an array or an instance of HTMLElement.");this.elements=t}this.transitionQueue=[],this.lastStyleAttributeDict=[]};return a.prototype={transitionQueue:void 0,elements:void 0,play:function(t){return"function"==typeof t&&this.transitionQueue.push(function(e){t(),e()}),this.startAnimation(),this},queue:function(t,e){var n=this.transitionQueue;if(t&&e&&(e.css=t,t=new a.Transition(e)),t instanceof Function||t instanceof a.Transition||(t=t.css?new a.Transition(t):new a.Transition({css:t})),t instanceof Function)n.push(t);else{if(!(t instanceof a.Transition))throw new Error("Invalid arguments");n.push(t.build())}return this},wait:function(t){return t>0&&this.transitionQueue.push(function(e){setTimeout(e,1e3*t)}),this},saveStyle:function(){return this.transitionQueue.push(function(t){this.elements.forEach(function(t,e){for(var n=this.lastStyleAttributeDict[e]={},i=0;i<t.style.length;i++)n[t.style[i]]=t.style[t.style[i]]}.bind(this)),t()}.bind(this)),this},restoreStyle:function(t){var e=this;if((t=t||{}).transition&&!t.duration)throw new Error('"options.duration" is required when "options.transition" is enabled.');var n=r.transitionPropertyName;if(t.transition||t.duration&&t.duration>0){var i=t.transition||"all "+t.duration+"s "+(t.timing||"linear");this.transitionQueue.push(function(a){var o,s=this.elements,l=function(){s.forEach(function(t){t.style[n]=""})},u=r.onceOnTransitionEnd(s[0],function(){clearTimeout(o),l(),a()});o=setTimeout(function(){u(),l(),a()},1e3*t.duration*1.4),s.forEach(function(t,r){var a,o=e.lastStyleAttributeDict[r];if(!o)throw new Error("restoreStyle(): The style is not saved. Invoke saveStyle() before.");e.lastStyleAttributeDict[r]=void 0;for(var s=0,l=t.style.length;s<l;s++)a=t.style[s],void 0===o[a]&&(o[a]="");t.style[n]=i,Object.keys(o).forEach(function(e){e!==n&&(t.style[e]=o[e])}),t.style[n]=i})})}else this.transitionQueue.push(function(t){e.elements.forEach(function(t,i){t.style[n]="none";var r=e.lastStyleAttributeDict[i];if(!r)throw new Error("restoreStyle(): The style is not saved. Invoke saveStyle() before.");e.lastStyleAttributeDict[i]=void 0;for(var a=0;a<t.style.length;a++)t.style[a],void 0===r[t.style[a]]&&(r[t.style[a]]="");Object.keys(r).forEach(function(e){t.style[e]=r[e]})}),t()});return this},startAnimation:function(){return this._dequeueTransition(),this},_dequeueTransition:function(){var t=this.transitionQueue.shift();if(this._currentTransition)throw new Error("Current transition exists.");this._currentTransition=t;var e=this,n=!1;t&&t.call(this,function(){if(n)throw new Error("Invalid state: This callback is called twice.");n=!0,e._currentTransition=void 0,e._dequeueTransition()})}},a.runAll=function(){for(var t=0;t<arguments.length;t++)arguments[t].play()},a.Transition=function(t){this.options=t||{},this.options.duration=this.options.duration||0,this.options.timing=this.options.timing||"linear",this.options.css=this.options.css||{},this.options.property=this.options.property||"all"},a.Transition.prototype={build:function(){if(0===Object.keys(this.options.css).length)throw new Error("options.css is required.");var t,e,n=(t=this.options.css,e={},Object.keys(t).forEach(function(n){var i=t[n];if(r.hasCssProperty(n))e[n]=i;else{var a=r.vendorPrefix+r.capitalize(n);r.hasCssProperty(a)?e[a]=i:(e[a]=i,e[n]=i)}}),e);if(this.options.duration>0){var i=r.buildTransitionValue(this.options),a=this;return function(t){var e,o=this.elements,s=1e3*a.options.duration*1.4,l=r.onceOnTransitionEnd(o[0],function(){clearTimeout(e),t()});e=setTimeout(function(){l(),t()},s),o.forEach(function(t){t.style[r.transitionPropertyName]=i,Object.keys(n).forEach(function(e){t.style[e]=n[e]})})}}if(this.options.duration<=0)return function(t){var e=this.elements;e.forEach(function(t){t.style[r.transitionPropertyName]="",Object.keys(n).forEach(function(e){t.style[e]=n[e]})}),e.length>0?r.forceLayoutAtOnce(e,function(){r.batchAnimationFrame(t)}):r.batchAnimationFrame(t)}}},a}(),"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))?function(){"use strict";var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var n,i=arguments.length;for(n=0;n<i;n++)t=arguments[n],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:n.call(this,t)}}t=null}():function(t){"use strict";if("Element"in t){var e="classList",n="prototype",i=t.Element[n],r=Object,a=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array[n].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},s=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},l=function(t,e){if(""===e)throw new s("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new s("INVALID_CHARACTER_ERR","String contains an invalid character");return o.call(t,e)},u=function(t){for(var e=a.call(t.getAttribute("class")||""),n=e?e.split(/\s+/):[],i=0,r=n.length;i<r;i++)this.push(n[i]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},c=u[n]=[],h=function(){return new u(this)};if(s[n]=Error[n],c.item=function(t){return this[t]||null},c.contains=function(t){return-1!==l(this,t+="")},c.add=function(){for(var t,e=arguments,n=0,i=e.length,r=!1;t=e[n]+"",-1===l(this,t)&&(this.push(t),r=!0),++n<i;);r&&this._updateClassName()},c.remove=function(){var t,e,n=arguments,i=0,r=n.length,a=!1;do{for(t=n[i]+"",e=l(this,t);-1!==e;)this.splice(e,1),a=!0,e=l(this,t)}while(++i<r);a&&this._updateClassName()},c.toggle=function(t,e){t+="";var n=this.contains(t),i=n?!0!==e&&"remove":!1!==e&&"add";return i&&this[i](t),!0===e||!1===e?e:!n},c.toString=function(){return this.join(" ")},r.defineProperty){var d={get:h,enumerable:!0,configurable:!0};try{r.defineProperty(i,e,d)}catch(t){-2146823252===t.number&&(d.enumerable=!1,r.defineProperty(i,e,d))}}else r[n].__defineGetter__&&i.__defineGetter__(e,h)}}(self)),"customElements"in window&&(window.customElements.define=void 0),function(t){"use strict";var e,n,i,r,a,o,s,l,u,c,h,d,f,p=t.document,m=t.Object,g=function(t){var e,n,i,r,a=/^[A-Z]+[a-z]/,o=function(t,e){(e=e.toLowerCase())in s||(s[t]=(s[t]||[]).concat(e),s[e]=s[e.toUpperCase()]=t)},s=(m.create||m)(null),l={};for(n in t)for(r in t[n])for(i=t[n][r],s[r]=i,e=0;e<i.length;e++)s[i[e].toLowerCase()]=s[i[e].toUpperCase()]=r;return l.get=function(t){return"string"==typeof t?s[t]||(a.test(t)?[]:""):function(t){var e,n=[];for(e in s)t.test(e)&&n.push(e);return n}(t)},l.set=function(t,e){return a.test(t)?o(t,e):o(e,t),l},l}({collections:{HTMLAllCollection:["all"],HTMLCollection:["forms"],HTMLFormControlsCollection:["elements"],HTMLOptionsCollection:["options"]},elements:{Element:["element"],HTMLAnchorElement:["a"],HTMLAppletElement:["applet"],HTMLAreaElement:["area"],HTMLAttachmentElement:["attachment"],HTMLAudioElement:["audio"],HTMLBRElement:["br"],HTMLBaseElement:["base"],HTMLBodyElement:["body"],HTMLButtonElement:["button"],HTMLCanvasElement:["canvas"],HTMLContentElement:["content"],HTMLDListElement:["dl"],HTMLDataElement:["data"],HTMLDataListElement:["datalist"],HTMLDetailsElement:["details"],HTMLDialogElement:["dialog"],HTMLDirectoryElement:["dir"],HTMLDivElement:["div"],HTMLDocument:["document"],HTMLElement:["element","abbr","address","article","aside","b","bdi","bdo","cite","code","command","dd","dfn","dt","em","figcaption","figure","footer","header","i","kbd","mark","nav","noscript","rp","rt","ruby","s","samp","section","small","strong","sub","summary","sup","u","var","wbr"],HTMLEmbedElement:["embed"],HTMLFieldSetElement:["fieldset"],HTMLFontElement:["font"],HTMLFormElement:["form"],HTMLFrameElement:["frame"],HTMLFrameSetElement:["frameset"],HTMLHRElement:["hr"],HTMLHeadElement:["head"],HTMLHeadingElement:["h1","h2","h3","h4","h5","h6"],HTMLHtmlElement:["html"],HTMLIFrameElement:["iframe"],HTMLImageElement:["img"],HTMLInputElement:["input"],HTMLKeygenElement:["keygen"],HTMLLIElement:["li"],HTMLLabelElement:["label"],HTMLLegendElement:["legend"],HTMLLinkElement:["link"],HTMLMapElement:["map"],HTMLMarqueeElement:["marquee"],HTMLMediaElement:["media"],HTMLMenuElement:["menu"],HTMLMenuItemElement:["menuitem"],HTMLMetaElement:["meta"],HTMLMeterElement:["meter"],HTMLModElement:["del","ins"],HTMLOListElement:["ol"],HTMLObjectElement:["object"],HTMLOptGroupElement:["optgroup"],HTMLOptionElement:["option"],HTMLOutputElement:["output"],HTMLParagraphElement:["p"],HTMLParamElement:["param"],HTMLPictureElement:["picture"],HTMLPreElement:["pre"],HTMLProgressElement:["progress"],HTMLQuoteElement:["blockquote","q","quote"],HTMLScriptElement:["script"],HTMLSelectElement:["select"],HTMLShadowElement:["shadow"],HTMLSlotElement:["slot"],HTMLSourceElement:["source"],HTMLSpanElement:["span"],HTMLStyleElement:["style"],HTMLTableCaptionElement:["caption"],HTMLTableCellElement:["td","th"],HTMLTableColElement:["col","colgroup"],HTMLTableElement:["table"],HTMLTableRowElement:["tr"],HTMLTableSectionElement:["thead","tbody","tfoot"],HTMLTemplateElement:["template"],HTMLTextAreaElement:["textarea"],HTMLTimeElement:["time"],HTMLTitleElement:["title"],HTMLTrackElement:["track"],HTMLUListElement:["ul"],HTMLUnknownElement:["unknown","vhgroupv","vkeygen"],HTMLVideoElement:["video"]},nodes:{Attr:["node"],Audio:["audio"],CDATASection:["node"],CharacterData:["node"],Comment:["#comment"],Document:["#document"],DocumentFragment:["#document-fragment"],DocumentType:["node"],HTMLDocument:["#document"],Image:["img"],Option:["option"],ProcessingInstruction:["node"],ShadowRoot:["#shadow-root"],Text:["#text"],XMLDocument:["xml"]}}),v="registerElement",_="__"+v+(1e5*t.Math.random()>>0),b="addEventListener",y="attached",k="Callback",E="detached",C="extends",w="attributeChanged"+k,A=y+k,L="connected"+k,T="disconnected"+k,O="created"+k,S=E+k,P="ADDITION",M="MODIFICATION",D="REMOVAL",x="DOMAttrModified",I="DOMContentLoaded",H="DOMSubtreeModified",N="<",q="=",B=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,R=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],F=[],j=[],z="",V=p.documentElement,U=F.indexOf||function(t){for(var e=this.length;e--&&this[e]!==t;);return e},W=m.prototype,Y=W.hasOwnProperty,X=W.isPrototypeOf,G=m.defineProperty,$=[],K=m.getOwnPropertyDescriptor,Q=m.getOwnPropertyNames,Z=m.getPrototypeOf,J=m.setPrototypeOf,tt=!!m.__proto__,et="__dreCEv1",nt=t.customElements,it=!!(nt&&nt.define&&nt.get&&nt.whenDefined),rt=m.create||m,at=t.Map||function(){var t,e=[],n=[];return{get:function(t){return n[U.call(e,t)]},set:function(i,r){(t=U.call(e,i))<0?n[e.push(i)-1]=r:n[t]=r}}},ot=t.Promise||function(t){var e=[],n=!1,i={catch:function(){return i},then:function(t){return e.push(t),n&&setTimeout(r,1),i}};function r(t){for(n=!0;e.length;)e.shift()(t)}return t(r),i},st=!1,lt=rt(null),ut=rt(null),ct=new at,ht=String,dt=m.create||function t(e){return e?(t.prototype=e,new t):this},ft=J||(tt?function(t,e){return t.__proto__=e,t}:Q&&K?function(){function t(t,e){for(var n,i=Q(e),r=0,a=i.length;r<a;r++)n=i[r],Y.call(t,n)||G(t,n,K(e,n))}return function(e,n){for(;t(e,n),(n=Z(n))&&!X.call(n,e););return e}}():function(t,e){for(var n in e)t[n]=e[n];return t}),pt=t.MutationObserver||t.WebKitMutationObserver,mt=(t.HTMLElement||t.Element||t.Node).prototype,gt=!X.call(mt,V),vt=gt?function(t,e,n){return t[e]=n.value,t}:G,_t=gt?function(t){return 1===t.nodeType}:function(t){return X.call(mt,t)},bt=gt&&[],yt=mt.attachShadow,kt=mt.cloneNode,Et=mt.dispatchEvent,Ct=mt.getAttribute,wt=mt.hasAttribute,At=mt.removeAttribute,Lt=mt.setAttribute,Tt=p.createElement,Ot=Tt,St=pt&&{attributes:!0,characterData:!0,attributeOldValue:!0},Pt=pt||function(t){xt=!1,V.removeEventListener(x,Pt)},Mt=0,Dt=!1,xt=!0,It=!0,Ht=!0;function Nt(){var t=e.splice(0,e.length);for(Mt=0;t.length;)t.shift().call(null,t.shift())}function qt(t,e){for(var n=0,i=t.length;n<i;n++)Xt(t[n],e)}function Bt(t){return function(e){_t(e)&&(Xt(e,t),qt(e.querySelectorAll(z),t))}}function Rt(t){var e=Ct.call(t,"is"),n=t.nodeName.toUpperCase(),i=U.call(F,e?q+e.toUpperCase():N+n);return e&&-1<i&&!Ft(n,e)?-1:i}function Ft(t,e){return-1<z.indexOf(t+'[is="'+e+'"]')}function jt(t){var e=t.currentTarget,n=t.attrChange,i=t.attrName,r=t.target,a=t[P]||2,o=t[D]||3;!Ht||r&&r!==e||!e[w]||"style"===i||t.prevValue===t.newValue&&(""!==t.newValue||n!==a&&n!==o)||e[w](i,n===a?null:t.prevValue,n===o?null:t.newValue)}function zt(t){var n=Bt(t);return function(t){e.push(n,t.target),Mt&&clearTimeout(Mt),Mt=setTimeout(Nt,1)}}function Vt(t){It&&(It=!1,t.currentTarget.removeEventListener(I,Vt)),qt((t.target||p).querySelectorAll(z),t.detail===E?E:y),gt&&function(){for(var t,e=0,n=bt.length;e<n;e++)t=bt[e],V.contains(t)||(n--,bt.splice(e--,1),Xt(t,E))}()}function Ut(t,e){Lt.call(this,t,e),n.call(this,{target:this})}function Wt(t,e){ft(t,e),a?a.observe(t,St):(xt&&(t.setAttribute=Ut,t[_]=r(t),t[b](H,n)),t[b](x,jt)),t[O]&&Ht&&(t.created=!0,t[O](),t.created=!1)}function Yt(t){throw new Error("A "+t+" type is already registered")}function Xt(t,e){var n,i=Rt(t);-1<i&&(s(t,j[i]),i=0,e!==y||t[y]?e!==E||t[E]||(t[y]=!1,t[E]=!0,i=1):(t[E]=!1,t[y]=!0,i=1,gt&&U.call(bt,t)<0&&bt.push(t)),i&&(n=t[e+k])&&n.call(t))}function Gt(){}function $t(t,e,n){var i=n&&n[C]||"",r=e.prototype,a=dt(r),o=e.observedAttributes||$,s={prototype:a};vt(a,O,{value:function(){if(st)st=!1;else if(!this[et]){this[et]=!0,new e(this),r[O]&&r[O].call(this);var t=lt[ct.get(e)];(!it||t.create.length>1)&&Zt(this)}}}),vt(a,w,{value:function(t){-1<U.call(o,t)&&r[w].apply(this,arguments)}}),r[L]&&vt(a,A,{value:r[L]}),r[T]&&vt(a,S,{value:r[T]}),i&&(s[C]=i),t=t.toUpperCase(),lt[t]={constructor:e,create:i?[i,ht(t)]:[t]},ct.set(e,t),p[v](t.toLowerCase(),s),Jt(t),ut[t].r()}function Kt(t){var e=lt[t.toUpperCase()];return e&&e.constructor}function Qt(t){return"string"==typeof t?t:t&&t.is||""}function Zt(t){for(var e,n=t[w],i=n?t.attributes:$,r=i.length;r--;)e=i[r],n.call(t,e.name||e.nodeName,null,e.value||e.nodeValue)}function Jt(t){return(t=t.toUpperCase())in ut||(ut[t]={},ut[t].p=new ot(function(e){ut[t].r=e})),ut[t].p}function te(){nt&&delete t.customElements,G(t,"customElements",{configurable:!0,value:new Gt}),G(t,"CustomElementRegistry",{configurable:!0,value:Gt});for(var e=function(e){var n=t[e];if(n){t[e]=function(t){var e,i;return t||(t=this),t[et]||(st=!0,e=lt[ct.get(t.constructor)],(t=(i=it&&1===e.create.length)?Reflect.construct(n,$,e.constructor):p.createElement.apply(p,e.create))[et]=!0,st=!1,i||Zt(t)),t},t[e].prototype=n.prototype;try{n.prototype.constructor=t[e]}catch(i){!0,G(n,et,{value:t[e]})}}},n=g.get(/^HTML[A-Z]*[a-z]/),i=n.length;i--;e(n[i]));p.createElement=function(t,e){var n=Qt(e);return n?Ot.call(this,t,ht(n)):Ot.call(this,t)}}if(v in p||(J||tt?(s=function(t,e){X.call(e,t)||Wt(t,e)},l=Wt):l=s=function(t,e){t[_]||(t[_]=m(!0),Wt(t,e))},gt?(xt=!1,u=K(mt,b),c=u.value,h=function(t){var e=new CustomEvent(x,{bubbles:!0});e.attrName=t,e.prevValue=Ct.call(this,t),e.newValue=null,e[D]=e.attrChange=2,At.call(this,t),Et.call(this,e)},d=function(t,e){var n=wt.call(this,t),i=n&&Ct.call(this,t),r=new CustomEvent(x,{bubbles:!0});Lt.call(this,t,e),r.attrName=t,r.prevValue=n?i:null,r.newValue=e,n?r[M]=r.attrChange=1:r[P]=r.attrChange=0,Et.call(this,r)},f=function(t){var e,n=t.currentTarget,i=n[_],r=t.propertyName;i.hasOwnProperty(r)&&(i=i[r],(e=new CustomEvent(x,{bubbles:!0})).attrName=i.name,e.prevValue=i.value||null,e.newValue=i.value=n[r]||null,null==e.prevValue?e[P]=e.attrChange=0:e[M]=e.attrChange=1,Et.call(n,e))},u.value=function(t,e,n){t===x&&this[w]&&this.setAttribute!==d&&(this[_]={className:{name:"class",value:this.className}},this.setAttribute=d,this.removeAttribute=h,c.call(this,"propertychange",f)),c.call(this,t,e,n)},G(mt,b,u)):pt||(V[b](x,Pt),V.setAttribute(_,1),V.removeAttribute(_),xt&&(n=function(t){var e,n,a,o=this;if(o===t.target){for(a in e=o[_],o[_]=n=r(o),n){if(!(a in e))return i(0,o,a,e[a],n[a],P);if(n[a]!==e[a])return i(1,o,a,e[a],n[a],M)}for(a in e)if(!(a in n))return i(2,o,a,e[a],n[a],D)}},i=function(t,e,n,i,r,a){var o={attrChange:t,currentTarget:e,attrName:n,prevValue:i,newValue:r};o[a]=t,jt(o)},r=function(t){for(var e,n,i={},r=t.attributes,a=0,o=r.length;a<o;a++)"setAttribute"!==(n=(e=r[a]).name)&&(i[n]=e.value);return i})),p[v]=function(t,n){if(i=t.toUpperCase(),Dt||(Dt=!0,pt?(a=function(t,e){function n(t,e){for(var n=0,i=t.length;n<i;e(t[n++]));}return new pt(function(i){for(var r,a,o,s=0,l=i.length;s<l;s++)"childList"===(r=i[s]).type?(n(r.addedNodes,t),n(r.removedNodes,e)):(a=r.target,Ht&&a[w]&&"style"!==r.attributeName&&(o=Ct.call(a,r.attributeName))!==r.oldValue&&a[w](r.attributeName,r.oldValue,o))})}(Bt(y),Bt(E)),(o=function(t){return a.observe(t,{childList:!0,subtree:!0}),t})(p),yt&&(mt.attachShadow=function(){return o(yt.apply(this,arguments))})):(e=[],p[b]("DOMNodeInserted",zt(y)),p[b]("DOMNodeRemoved",zt(E))),p[b](I,Vt),p[b]("readystatechange",Vt),mt.cloneNode=function(t){var e=kt.call(this,!!t),n=Rt(e);return-1<n&&l(e,j[n]),t&&function(t){for(var e,n=0,i=t.length;n<i;n++)e=t[n],l(e,j[Rt(e)])}(e.querySelectorAll(z)),e}),-2<U.call(F,q+i)+U.call(F,N+i)&&Yt(t),!B.test(i)||-1<U.call(R,i))throw new Error("The type "+t+" is invalid");var i,r,s=function(){return c?p.createElement(h,i):p.createElement(h)},u=n||W,c=Y.call(u,C),h=c?n[C].toUpperCase():i;return c&&-1<U.call(F,N+h)&&Yt(h),r=F.push((c?q:N)+i)-1,z=z.concat(z.length?",":"",c?h+'[is="'+t.toLowerCase()+'"]':h),s.prototype=j[r]=Y.call(u,"prototype")?u.prototype:dt(mt),qt(p.querySelectorAll(z),y),s},p.createElement=Ot=function(t,e){var n=Qt(e),i=n?Tt.call(p,t,ht(n)):Tt.call(p,t),r=""+t,a=U.call(F,(n?q:N)+(n||r).toUpperCase()),o=-1<a;return n&&(i.setAttribute("is",n=n.toLowerCase()),o&&(o=Ft(r.toUpperCase(),n))),Ht=!p.createElement.innerHTMLHelper,o&&l(i,j[a]),i}),Gt.prototype={constructor:Gt,define:it?function(t,e,n){if(n)$t(t,e,n);else{var i=t.toUpperCase();lt[i]={constructor:e,create:[i]},ct.set(e,i),nt.define(t,e)}}:$t,get:it?function(t){return nt.get(t)||Kt(t)}:Kt,whenDefined:it?function(t){return ot.race([nt.whenDefined(t),Jt(t)])}:Jt},nt)try{!function(e,n,i){if(n[C]="a",(e.prototype=dt(HTMLAnchorElement.prototype)).constructor=e,t.customElements.define(i,e,n),Ct.call(p.createElement("a",{is:i}),"is")!==i||it&&Ct.call(new e,"is")!==i)throw n}(function t(){return Reflect.construct(HTMLAnchorElement,[],t)},{},"document-register-element-a")}catch(t){te()}else te();try{Tt.call(p,"a","a")}catch(t){ht=function(t){return{is:t}}}}(window),function(){"use strict";function t(e,i){var r;if(i=i||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=i.touchBoundary||10,this.layer=e,this.tapDelay=i.tapDelay||200,this.tapTimeout=i.tapTimeout||700,!t.notNeeded(e)){for(var a=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],o=0,s=a.length;o<s;o++)this[a[o]]=l(this[a[o]],this);n&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,n,i){var r=Node.prototype.removeEventListener;"click"===t?r.call(e,t,n.hijacked||n,i):r.call(e,t,n,i)},e.addEventListener=function(t,n,i){var r=Node.prototype.addEventListener;"click"===t?r.call(e,t,n.hijacked||(n.hijacked=function(t){t.propagationStopped||n(t)}),i):r.call(e,t,n,i)}),"function"==typeof e.onclick&&(r=e.onclick,e.addEventListener("click",function(t){r(t)},!1),e.onclick=null)}function l(t,e){return function(){return t.apply(e,arguments)}}}var e=navigator.userAgent.indexOf("Windows Phone")>=0,n=navigator.userAgent.indexOf("Android")>0&&!e,i=/iP(ad|hone|od)/.test(navigator.userAgent)&&!e,r=i&&/OS 4_\d(_\d)?/.test(navigator.userAgent),a=i&&/OS [6-7]_\d/.test(navigator.userAgent),o=navigator.userAgent.indexOf("BB10")>0;t.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(i&&"file"===t.type||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)},t.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!n;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},t.prototype.sendClick=function(t,e){var n,i;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),i=e.changedTouches[0],(n=document.createEvent("MouseEvents")).initMouseEvent(this.determineEventType(t),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,t.dispatchEvent(n)},t.prototype.determineEventType=function(t){return n&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},t.prototype.focus=function(t){var e;i&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type&&"month"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},t.prototype.updateScrollParent=function(t){var e,n;if(!(e=t.fastClickScrollParent)||!e.contains(t)){n=t;do{if(n.scrollHeight>n.offsetHeight){e=n,t.fastClickScrollParent=n;break}n=n.parentElement}while(n)}e&&(e.fastClickLastScrollTop=e.scrollTop)},t.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},t.prototype.onTouchStart=function(t){var e,n,a;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),n=t.targetTouches[0],e.isContentEditable)return!0;if(i){if((a=window.getSelection()).rangeCount&&!a.isCollapsed)return!0;if(!r){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=n.pageX,this.touchStartY=n.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.timeStamp-this.lastClickTime>-1&&t.preventDefault(),!0},t.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],n=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>n||Math.abs(e.pageY-this.touchStartY)>n},t.prototype.onTouchMove=function(t){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0)},t.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},t.prototype.onTouchEnd=function(t){var e,o,s,l,u,c=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay&&t.timeStamp-this.lastClickTime>-1)return this.cancelNextClick=!0,!0;if(t.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,o=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,a&&(u=t.changedTouches[0],(c=document.elementFromPoint(u.pageX-window.pageXOffset,u.pageY-window.pageYOffset)||c).fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(s=c.tagName.toLowerCase())){if(e=this.findControl(c)){if(this.focus(c),n)return!1;c=e}}else if(this.needsFocus(c))return t.timeStamp-o>100||i&&window.top!==window&&"input"===s?(this.targetElement=null,!1):(this.focus(c),this.sendClick(c,t),i&&"select"===s||(this.targetElement=null,t.preventDefault()),!1);return!(!i||r||!(l=c.fastClickScrollParent)||l.fastClickLastScrollTop===l.scrollTop)||(this.needsClick(c)||(t.preventDefault(),this.sendClick(c,t)),!1)},t.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},t.prototype.onMouse=function(t){return!this.targetElement||(!!t.forwardedTouchEvent||(!t.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1))))},t.prototype.onClick=function(t){var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail||((e=this.onMouse(t))||(this.targetElement=null),e)},t.prototype.destroy=function(){var t=this.layer;n&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},t.notNeeded=function(t){var e,i,r;if(void 0===window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!n)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(i>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(o&&(r=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/))[1]>=10&&r[2]>=3&&(e=document.querySelector("meta[name=viewport]"))){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction||"manipulation"===t.style.touchAction||(!!(+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]>=27&&(e=document.querySelector("meta[name=viewport]"))&&(-1!==e.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))||("none"===t.style.touchAction||"manipulation"===t.style.touchAction))},t.attach=function(e,n){return new t(e,n)},window.FastClick=t}();var innerHTML=function(t){var e,n,i="extends",r=t.registerElement,a=t.createElement("div"),o="document-register-element",s=r.innerHTML;if(s)return s;try{if(r.call(t,o,{prototype:Object.create(HTMLElement.prototype,{createdCallback:{value:Object}})}),a.innerHTML="<"+o+"></"+o+">","createdCallback"in a.querySelector(o))return r.innerHTML=function(t,e){return t.innerHTML=e,t}}catch(t){}return n=[],e=function(e){if(!("createdCallback"in e||"attachedCallback"in e||"detachedCallback"in e||"attributeChangedCallback"in e)){t.createElement.innerHTMLHelper=!0;for(var n,i,r=e.parentNode,a=e.getAttribute("is"),o=e.nodeName,s=t.createElement.apply(t,a?[o,a]:[o]),l=e.attributes,u=0,c=l.length;u<c;u++)n=l[u],s.setAttribute(n.name,n.value);for(s.createdCallback&&(s.created=!0,s.createdCallback(),s.created=!1);i=e.firstChild;)s.appendChild(i);t.createElement.innerHTMLHelper=!1,r&&r.replaceChild(s,e)}},(t.registerElement=function(e,a){var o=(a[i]?a[i]+'[is="'+e+'"]':e).toLowerCase();return n.indexOf(o)<0&&n.push(o),r.apply(t,arguments)}).innerHTML=function(t,i){t.innerHTML=i;for(var r=t.querySelectorAll(n.join(",")),a=r.length;a--;e(r[a]));return t}}(document),MicroEvent=function(){};MicroEvent.prototype={on:function(t,e){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e)},once:function(t,e){var n=this,i=function(){return n.off(t,i),e.apply(null,arguments)};this.on(t,i)},off:function(t,e){this._events=this._events||{},t in this._events!=!1&&this._events[t].splice(this._events[t].indexOf(e),1)},emit:function(t){if(this._events=this._events||{},t in this._events!=!1)for(var e=0;e<this._events[t].length;e++)this._events[t][e].apply(this,Array.prototype.slice.call(arguments,1))}},MicroEvent.mixin=function(t){for(var e=["on","once","off","emit"],n=0;n<e.length;n++)"function"==typeof t?t.prototype[e[n]]=MicroEvent.prototype[e[n]]:t[e[n]]=MicroEvent.prototype[e[n]]},"undefined"!=typeof module&&"exports"in module&&(module.exports=MicroEvent),window.MicroEvent=MicroEvent,function(t){var e=setTimeout;function n(){}function i(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(t,this)}function r(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,i._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var i;try{i=n(t._value)}catch(t){return void o(e.promise,t)}a(e.promise,i)}else(1===t._state?a:o)(e.promise,t._value)})):t._deferreds.push(e)}function a(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof i)return t._state=3,t._value=e,void s(t);if("function"==typeof n)return void l((r=n,a=e,function(){r.apply(a,arguments)}),t)}t._state=1,t._value=e,s(t)}catch(e){o(t,e)}var r,a}function o(t,e){t._state=2,t._value=e,s(t)}function s(t){2===t._state&&0===t._deferreds.length&&i._immediateFn(function(){t._handled||i._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)r(t,t._deferreds[e]);t._deferreds=null}function l(t,e){var n=!1;try{t(function(t){n||(n=!0,a(e,t))},function(t){n||(n=!0,o(e,t))})}catch(t){if(n)return;n=!0,o(e,t)}}i.prototype.catch=function(t){return this.then(null,t)},i.prototype.then=function(t,e){var i=new this.constructor(n);return r(this,new function(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}(t,e,i)),i},i.all=function(t){var e=Array.prototype.slice.call(t);return new i(function(t,n){if(0===e.length)return t([]);var i=e.length;function r(a,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var s=o.then;if("function"==typeof s)return void s.call(o,function(t){r(a,t)},n)}e[a]=o,0==--i&&t(e)}catch(t){n(t)}}for(var a=0;a<e.length;a++)r(a,e[a])})},i.resolve=function(t){return t&&"object"==typeof t&&t.constructor===i?t:new i(function(e){e(t)})},i.reject=function(t){return new i(function(e,n){n(t)})},i.race=function(t){return new i(function(e,n){for(var i=0,r=t.length;i<r;i++)t[i].then(e,n)})},i._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){e(t,0)},i._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console},i._setImmediateFn=function(t){i._immediateFn=t},i._setUnhandledRejectionFn=function(t){i._unhandledRejectionFn=t},window.Promise||(window.Promise=i)}(),function(t,e){"use strict";if(!t.setImmediate){var n,i,r,a,o,s=1,l={},u=!1,c=t.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(t);h=h&&h.setTimeout?h:t,"[object process]"==={}.toString.call(t.process)?n=function(){var t=d(arguments);return process.nextTick(f(p,t)),t}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((r=new MessageChannel).port1.onmessage=function(t){p(t.data)},n=function(){var t=d(arguments);return r.port2.postMessage(t),t}):c&&"onreadystatechange"in c.createElement("script")?(i=c.documentElement,n=function(){var t=d(arguments),e=c.createElement("script");return e.onreadystatechange=function(){p(t),e.onreadystatechange=null,i.removeChild(e),e=null},i.appendChild(e),t}):n=function(){var t=d(arguments);return setTimeout(f(p,t),0),t}:(a="setImmediate$"+Math.random()+"$",o=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&p(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",o,!1):t.attachEvent("onmessage",o),n=function(){var e=d(arguments);return t.postMessage(a+e,"*"),e}),h.setImmediate=n,h.clearImmediate=m}function d(t){return l[s]=f.apply(e,t),s++}function f(t){var n=[].slice.call(arguments,1);return function(){"function"==typeof t?t.apply(e,n):new Function(""+t)()}}function p(t){if(u)setTimeout(f(p,t),0);else{var e=l[t];if(e){u=!0;try{e()}finally{m(t),u=!1}}}}function m(t){delete l[t]}}(function(){return this}()),function(){function t(){return this.PRE_IOS7_VIEWPORT="initial-scale=1, maximum-scale=1, user-scalable=no",this.IOS7_VIEWPORT="initial-scale=1, maximum-scale=1, user-scalable=no",this.DEFAULT_VIEWPORT="initial-scale=1, maximum-scale=1, user-scalable=no",this.ensureViewportElement(),this.platform={},this.platform.name=this.getPlatformName(),this.platform.version=this.getPlatformVersion(),this}t.prototype.ensureViewportElement=function(){this.viewportElement=document.querySelector("meta[name=viewport]"),this.viewportElement||(this.viewportElement=document.createElement("meta"),this.viewportElement.name="viewport",document.head.appendChild(this.viewportElement))},t.prototype.setup=function(){this.viewportElement&&"true"!=this.viewportElement.getAttribute("data-no-adjust")&&(this.viewportElement.getAttribute("content")||("ios"==this.platform.name?this.platform.version>=7&&(window.cordova||window.phonegap||window.PhoneGap)?this.viewportElement.setAttribute("content",this.IOS7_VIEWPORT):this.viewportElement.setAttribute("content",this.PRE_IOS7_VIEWPORT):this.viewportElement.setAttribute("content",this.DEFAULT_VIEWPORT)))},t.prototype.getPlatformName=function(){return navigator.userAgent.match(/Android/i)?"android":navigator.userAgent.match(/iPhone|iPad|iPod/i)?"ios":void 0},t.prototype.getPlatformVersion=function(){var t=window.navigator.userAgent.indexOf("OS ");return window.Number(window.navigator.userAgent.substr(t+3,3).replace("_","."))},window.Viewport=t}(),function(){if(window.MSApp&&MSApp.execUnsafeLocalFunction){var t=Object.getOwnPropertyDescriptor(Element.prototype,"setAttribute").value,e=Object.getOwnPropertyDescriptor(Element.prototype,"removeAttribute").value,n=Object.getOwnPropertyDescriptor(HTMLElement.prototype,"insertAdjacentHTML"),i=Object.getOwnPropertyDescriptor(Node.prototype,"attributes").get,r=Object.getOwnPropertyDescriptor(Node.prototype,"childNodes").get,a=document.createElement("div");function o(e,n,i){try{t.call(e,n,i)}catch(t){}}function s(t){for(;t.childNodes.length;)t.removeChild(t.lastChild)}function l(t,a){var l=document.implementation.createHTMLDocument("cleaner");s(l.documentElement),MSApp.execUnsafeLocalFunction(function(){var e,i,r;e=l.documentElement,i="afterbegin",r=t,n.value.call(e,i,r)});var u=l.documentElement.querySelectorAll("script");Array.prototype.forEach.call(u,function(t){switch(t.type.toLowerCase()){case"":t.type="text/inert";break;case"text/javascript":case"text/ecmascript":case"text/x-javascript":case"text/jscript":case"text/livescript":case"text/javascript1.1":case"text/javascript1.2":case"text/javascript1.3":t.type="text/inert-"+t.type.slice("text/".length);break;case"application/javascript":case"application/ecmascript":case"application/x-javascript":t.type="application/inert-"+t.type.slice("application/".length)}}),function t(n){var a,s,l,u=(a=n,i.call(a));if(u&&u.length){for(var c,h=0,d=u.length;h<d;h++){var f=(p=u[h]).name;"o"!==f[0]&&"O"!==f[0]||"n"!==f[1]&&"N"!==f[1]||(c=c||[]).push({name:p.name,value:p.value})}if(c)for(h=0,d=c.length;h<d;h++){var p=c[h];s=n,l=p.name,e.call(s,l),o(n,"x-"+p.name,p.value)}}var m,g=(m=n,r.call(m));for(h=0,d=g.length;h<d;h++)t(g[h])}(l.documentElement);var c=[];return"HTML"===a.tagName?c=Array.prototype.slice.call(document.adoptNode(l.documentElement).childNodes):(l.head&&(c=c.concat(Array.prototype.slice.call(document.adoptNode(l.head).childNodes))),l.body&&(c=c.concat(Array.prototype.slice.call(document.adoptNode(l.body).childNodes)))),c}function u(t,e){var n=Object.getOwnPropertyDescriptor(HTMLElement.prototype,t),i=n.set;Object.defineProperty(HTMLElement.prototype,t,{get:n.get,set:function(t){if(window.WinJS&&window.WinJS._execUnsafe&&function(){var t=!0;try{a.innerHTML="<test/>"}catch(e){t=!1}return t}())i.call(this,t);else{var r=this,o=l(t,r);MSApp.execUnsafeLocalFunction(function(){e(n,r,o)})}},enumerable:n.enumerable,configurable:n.configurable})}u("innerHTML",function(t,e,n){s(e);for(var i=0,r=n.length;i<r;i++)e.appendChild(n[i])}),u("outerHTML",function(t,e,n){for(var i=0,r=n.length;i<r;i++)e.insertAdjacentElement("afterend",n[i]);e.parentNode.removeChild(e)})}}(),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.ons=e()}(this,function(){"use strict";var t={};t.typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},t.classCallCheck=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),t.extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},t.inherits=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},t.possibleConstructorReturn=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e};var e,n,i,r,a=function(t){return t.slice(1,-1)},o=function(t){return t.startsWith("{")&&t.endsWith("}")},s=function(t){return t.startsWith("[")&&t.endsWith("]")},l=function(t,e,n){throw new Error("Unexpected token '"+t+"' at position "+(n.length-e.length-1)+" in string: '"+n+"'")},u=function(t,e,n){return"true"===t||"false"===t?"true"===t:(i=t).startsWith("'")&&i.endsWith("'")||i.startsWith('"')&&i.endsWith('"')?a(t):isNaN(t)?o(t)?h(a(t)):s(t)?d(a(t)):void l(t,e,n):+t;var i},c=function(t){var e=(t=t.trimLeft()).length;if(":"===t[0]||","===t[0])e=1;else if("{"===t[0]||"["===t[0]){for(var n=t.charCodeAt(0),i=1,r=1;r<t.length;r++)if(t.charCodeAt(r)===n)i++;else if(t.charCodeAt(r)===n+2&&0===--i){e=r+1;break}}else if("'"===t[0]||'"'===t[0]){for(var a=1;a<t.length;a++)if(t[a]===t[0]){e=a+1;break}}else for(var o=1;o<t.length;o++)if(-1!==[" ",",",":"].indexOf(t[o])){e=o;break}return t.slice(0,e)},h=function(t){for(var e=t=t.trim(),n={},i=!0,r=void 0,a=void 0,o=void 0;t.length>0;)if(a=o,o=c(t),t=t.slice(o.length,t.length).trimLeft(),":"===o&&(!i||!a||","===a)||","===o&&i||":"!==o&&","!==o&&a&&","!==a&&":"!==a)l(o,t,e);else if(":"===o&&i&&a){if(!/^[A-Z_\$][A-Z0-9_\$]*$/i.test(a))throw new Error("Invalid key token '"+a+"' at position 0 in string: '"+e+"'");r=a,i=!1}else","===o&&!i&&a&&(n[r]=u(a,t,e),i=!0);return o&&(n[r]=u(o,t,e)),n},d=function(t){for(var e=t=t.trim(),n=[],i=void 0,r=void 0;t.length>0;)i=r,r=c(t),t=t.slice(r.length,t.length).trimLeft(),","!==r||i&&","!==i?","===r&&n.push(u(i,t,e)):l(r,t,e);return r&&(","!==r?n.push(u(r,t,e)):l(r,t,e)),n},f=function(t){if(t=t.trim(),o(t))return h(a(t));if(s(t))return d(a(t));throw new Error("Provided string must be object or array like: "+t)},p={};p.prepareQuery=function(t){return t instanceof Function?t:function(e){return p.match(e,t)}},p.match=function(t,e){return"."===e[0]?t.classList.contains(e.slice(1)):t.nodeName.toLowerCase()===e},p.findChild=function(t,e){for(var n=p.prepareQuery(e),i=0;i<t.children.length;i++){var r=t.children[i];if(n(r))return r}return null},p.findParent=function(t,e){for(var n=p.prepareQuery(e),i=t.parentNode;;){if(!i||i===document)return null;if(n(i))return i;i=i.parentNode}},p.isAttached=function(t){for(;document.documentElement!==t;){if(!t)return!1;t=t.parentNode}return!0},p.hasAnyComponentAsParent=function(t){for(;t&&document.documentElement!==t;)if((t=t.parentNode)&&t.nodeName.toLowerCase().match(/(ons-navigator|ons-tabbar|ons-sliding-menu|ons-split-view)/))return!0;return!1},p.propagateAction=function(t,e){for(var n=0;n<t.childNodes.length;n++){var i=t.childNodes[n];i[e]instanceof Function?i[e]():p.propagateAction(i,e)}},p.create=function(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0],e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=t.split("."),i=document.createElement(n.shift()||"div");return n.length&&(i.className=n.join(" ")),p.extend(i.style,e),i},p.createElement=function(t){var e=document.createElement("div");if(innerHTML(e,t),e.children.length>1)throw new Error('"html" must be one wrapper element.');return e.children[0]},p.createFragment=function(t){var e=document.createElement("div");innerHTML(e,t);for(var n=document.createDocumentFragment();e.firstChild;)n.appendChild(e.firstChild);return n},p.extend=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(var r=0;r<n.length;r++)if(n[r])for(var a=Object.keys(n[r]),o=0;o<a.length;o++){var s=a[o];t[s]=n[r][s]}return t},p.arrayFrom=function(t){return Array.prototype.slice.apply(t)},p.parseJSONObjectSafely=function(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];try{var i=JSON.parse(""+e);if("object"===(void 0===i?"undefined":t.typeof(i))&&null!==i)return i}catch(t){return n}return n},p.findFromPath=function(t){t=t.split(".");for(var e,n=window;e=t.shift();)n=n[e];return n},p.triggerElementEvent=function(t,e){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});return Object.keys(n).forEach(function(t){i[t]=n[t]}),t.dispatchEvent(i),i},p.hasModifier=function(t,e){return!!t.hasAttribute("modifier")&&t.getAttribute("modifier").split(/\s+/).some(function(t){return t===e})},p.addModifier=function(t,e){if(p.hasModifier(t,e))return!1;e=e.trim();var n=t.getAttribute("modifier")||"";return t.setAttribute("modifier",(n+" "+e).trim()),!0},p.removeModifier=function(t,e){if(!t.getAttribute("modifier"))return!1;var n=t.getAttribute("modifier").split(/\s+/),i=n.filter(function(t){return t&&t!==e});return t.setAttribute("modifier",i.join(" ")),n.length!==i.length},p.updateParentPosition=function(t){!t._parentUpdated&&t.parentElement&&("static"===window.getComputedStyle(t.parentElement).getPropertyValue("position")&&(t.parentElement.style.position="relative"),t._parentUpdated=!0)},p.toggleAttribute=function(t,e,n){n?t.setAttribute(e,""):t.removeAttribute(e)},p.bindListeners=function(t,e){e.forEach(function(e){var n=e.replace(/^_[a-z]/,"_bound"+e[1].toUpperCase());t[n]=t[n]||t[e].bind(t)})},p.each=function(t,e){return Object.keys(t).forEach(function(n){return e(n,t[n])})},p.updateRipple=function(t){var e=p.findChild(t,"ons-ripple");t.hasAttribute("ripple")?e||t.insertBefore(document.createElement("ons-ripple"),t.firstChild):e&&e.remove()},p.animationOptionsParse=f,p.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},p.defer=function(){var t={};return t.promise=new Promise(function(e,n){t.resolve=e,t.reject=n}),t};var m=function t(e,n){return new t.Instance(e,n||{})};m.defaults={behavior:{touchAction:"pan-y",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},m.DOCUMENT=document,m.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled,m.HAS_TOUCHEVENTS="ontouchstart"in window,m.IS_MOBILE=/mobile|tablet|ip(ad|hone|od)|android|silk/i.test(navigator.userAgent),m.NO_MOUSEEVENTS=m.HAS_TOUCHEVENTS&&m.IS_MOBILE||m.HAS_POINTEREVENTS,m.CALCULATE_INTERVAL=25;var g={},v=m.DIRECTION_DOWN="down",_=m.DIRECTION_LEFT="left",b=m.DIRECTION_UP="up",y=m.DIRECTION_RIGHT="right",k=m.POINTER_MOUSE="mouse",E=m.POINTER_TOUCH="touch",C=m.POINTER_PEN="pen",w=m.EVENT_START="start",A=m.EVENT_MOVE="move",L=m.EVENT_END="end",T=m.EVENT_RELEASE="release",O=m.EVENT_TOUCH="touch";m.READY=!1,m.plugins=m.plugins||{},m.gestures=m.gestures||{},n=m.utils={extend:function(t,e,n){for(var i in e)!e.hasOwnProperty(i)||void 0!==t[i]&&n||(t[i]=e[i]);return t},on:function(t,e,n){t.addEventListener(e,n,!1)},off:function(t,e,n){t.removeEventListener(e,n,!1)},each:function(t,e,n){var i,r;if("forEach"in t)t.forEach(e,n);else if(void 0!==t.length){for(i=0,r=t.length;i<r;i++)if(!1===e.call(n,t[i],i,t))return}else for(i in t)if(t.hasOwnProperty(i)&&!1===e.call(n,t[i],i,t))return},inStr:function(t,e){return t.indexOf(e)>-1},inArray:function(t,e){if(t.indexOf){var n=t.indexOf(e);return-1!==n&&n}for(var i=0,r=t.length;i<r;i++)if(t[i]===e)return i;return!1},toArray:function(t){return Array.prototype.slice.call(t,0)},hasParent:function(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1},getCenter:function(t){var e=[],i=[],r=[],a=[],o=Math.min,s=Math.max;return 1===t.length?{pageX:t[0].pageX,pageY:t[0].pageY,clientX:t[0].clientX,clientY:t[0].clientY}:(n.each(t,function(t){e.push(t.pageX),i.push(t.pageY),r.push(t.clientX),a.push(t.clientY)}),{pageX:(o.apply(Math,e)+s.apply(Math,e))/2,pageY:(o.apply(Math,i)+s.apply(Math,i))/2,clientX:(o.apply(Math,r)+s.apply(Math,r))/2,clientY:(o.apply(Math,a)+s.apply(Math,a))/2})},getVelocity:function(t,e,n){return{x:Math.abs(e/t)||0,y:Math.abs(n/t)||0}},getAngle:function(t,e){var n=e.clientX-t.clientX,i=e.clientY-t.clientY;return 180*Math.atan2(i,n)/Math.PI},getDirection:function(t,e){return Math.abs(t.clientX-e.clientX)>=Math.abs(t.clientY-e.clientY)?t.clientX-e.clientX>0?_:y:t.clientY-e.clientY>0?b:v},getDistance:function(t,e){var n=e.clientX-t.clientX,i=e.clientY-t.clientY;return Math.sqrt(n*n+i*i)},getScale:function(t,e){return t.length>=2&&e.length>=2?this.getDistance(e[0],e[1])/this.getDistance(t[0],t[1]):1},getRotation:function(t,e){return t.length>=2&&e.length>=2?this.getAngle(e[1],e[0])-this.getAngle(t[1],t[0]):0},isVertical:function(t){return t==b||t==v},setPrefixedCss:function(t,e,i,r){var a=["","Webkit","Moz","O","ms"];e=n.toCamelCase(e);for(var o=0;o<a.length;o++){var s=e;if(a[o]&&(s=a[o]+s.slice(0,1).toUpperCase()+s.slice(1)),s in t.style){t.style[s]=(null===r||r)&&i||"";break}}},toggleBehavior:function(t,e,i){if(e&&t&&t.style){n.each(e,function(e,r){n.setPrefixedCss(t,r,e,i)});var r=i&&function(){return!1};"none"==e.userSelect&&(t.onselectstart=r),"none"==e.userDrag&&(t.ondragstart=r)}},toCamelCase:function(t){return t.replace(/[_-]([a-z])/g,function(t){return t[1].toUpperCase()})}},e=m.event={preventMouseEvents:!1,started:!1,shouldDetect:!1,on:function(t,e,i,r){var a=e.split(" ");n.each(a,function(e){n.on(t,e,i),r&&r(e)})},off:function(t,e,i,r){var a=e.split(" ");n.each(a,function(e){n.off(t,e,i),r&&r(e)})},onTouch:function(t,e,i){var a=this,o=function(o){var s,l=o.type.toLowerCase(),u=m.HAS_POINTEREVENTS,c=n.inStr(l,"mouse");c&&a.preventMouseEvents||(c&&e==w&&0===o.button?(a.preventMouseEvents=!1,a.shouldDetect=!0):u&&e==w?a.shouldDetect=1===o.buttons||r.matchType(E,o):c||e!=w||(a.preventMouseEvents=!0,a.shouldDetect=!0),u&&e!=L&&r.updatePointer(e,o),a.shouldDetect&&(s=a.doDetect.call(a,o,e,t,i)),s==L&&(a.preventMouseEvents=!1,a.shouldDetect=!1,r.reset()),u&&e==L&&r.updatePointer(e,o))};return this.on(t,g[e],o),o},doDetect:function(t,e,n,r){var a=this.getTouchList(t,e),o=a.length,s=e,l=a.trigger,u=o;e==w?l=O:e==L&&(l=T,u=a.length-(t.changedTouches?t.changedTouches.length:1)),u>0&&this.started&&(s=A),this.started=!0;var c=this.collectEventData(n,s,a,t);return e!=L&&r.call(i,c),l&&(c.changedLength=u,c.eventType=l,r.call(i,c),c.eventType=s,delete c.changedLength),s==L&&(r.call(i,c),this.started=!1),s},determineEventTypes:function(){var t;return t=m.HAS_POINTEREVENTS?window.PointerEvent?["pointerdown","pointermove","pointerup pointercancel lostpointercapture"]:["MSPointerDown","MSPointerMove","MSPointerUp MSPointerCancel MSLostPointerCapture"]:m.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],g[w]=t[0],g[A]=t[1],g[L]=t[2],g},getTouchList:function(t,e){if(m.HAS_POINTEREVENTS)return r.getTouchList();if(t.touches){if(e==A)return t.touches;var i=[],a=[].concat(n.toArray(t.touches),n.toArray(t.changedTouches)),o=[];return n.each(a,function(t){!1===n.inArray(i,t.identifier)&&o.push(t),i.push(t.identifier)}),o}return t.identifier=1,[t]},collectEventData:function(t,e,a,o){var s=E;return n.inStr(o.type,"mouse")||r.matchType(k,o)?s=k:r.matchType(C,o)&&(s=C),{center:n.getCenter(a),timeStamp:Date.now(),target:o.target,touches:a,eventType:e,pointerType:s,srcEvent:o,preventDefault:function(){var t=this.srcEvent;t.preventManipulation&&t.preventManipulation(),t.preventDefault&&t.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return i.stopDetect()}}}},r=m.PointerEvent={pointers:{},getTouchList:function(){var t=[];return n.each(this.pointers,function(e){t.push(e)}),t},updatePointer:function(t,e){t==L||t!=L&&1!==e.buttons?delete this.pointers[e.pointerId]:(e.identifier=e.pointerId,this.pointers[e.pointerId]=e)},matchType:function(t,e){if(!e.pointerType)return!1;var n=e.pointerType,i={};return i[k]=n===(e.MSPOINTER_TYPE_MOUSE||k),i[E]=n===(e.MSPOINTER_TYPE_TOUCH||E),i[C]=n===(e.MSPOINTER_TYPE_PEN||C),i[t]},reset:function(){this.pointers={}}},i=m.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(t,e){this.current||(this.stopped=!1,this.current={inst:t,startEvent:n.extend({},e),lastEvent:!1,lastCalcEvent:!1,futureCalcEvent:!1,lastCalcData:{},name:""},this.detect(e))},detect:function(t){if(this.current&&!this.stopped){t=this.extendEventData(t);var e=this.current.inst,i=e.options;return n.each(this.gestures,function(n){!this.stopped&&e.enabled&&i[n.name]&&n.handler.call(n,t,e)},this),this.current&&(this.current.lastEvent=t),t.eventType==L&&this.stopDetect(),t}},stopDetect:function(){this.previous=n.extend({},this.current),this.current=null,this.stopped=!0},getCalculatedData:function(t,e,i,r,a){var o=this.current,s=!1,l=o.lastCalcEvent,u=o.lastCalcData;l&&t.timeStamp-l.timeStamp>m.CALCULATE_INTERVAL&&(e=l.center,i=t.timeStamp-l.timeStamp,r=t.center.clientX-l.center.clientX,a=t.center.clientY-l.center.clientY,s=!0),t.eventType!=O&&t.eventType!=T||(o.futureCalcEvent=t),o.lastCalcEvent&&!s||(u.velocity=n.getVelocity(i,r,a),u.angle=n.getAngle(e,t.center),u.direction=n.getDirection(e,t.center),o.lastCalcEvent=o.futureCalcEvent||t,o.futureCalcEvent=t),t.velocityX=u.velocity.x,t.velocityY=u.velocity.y,t.interimAngle=u.angle,t.interimDirection=u.direction},extendEventData:function(t){var e=this.current,i=e.startEvent,r=e.lastEvent||i;t.eventType!=O&&t.eventType!=T||(i.touches=[],n.each(t.touches,function(t){i.touches.push({clientX:t.clientX,clientY:t.clientY})}));var a=t.timeStamp-i.timeStamp,o=t.center.clientX-i.center.clientX,s=t.center.clientY-i.center.clientY;return this.getCalculatedData(t,r.center,a,o,s),n.extend(t,{startEvent:i,deltaTime:a,deltaX:o,deltaY:s,distance:n.getDistance(i.center,t.center),angle:n.getAngle(i.center,t.center),direction:n.getDirection(i.center,t.center),scale:n.getScale(i.touches,t.touches),rotation:n.getRotation(i.touches,t.touches)}),t},register:function(t){var e=t.defaults||{};return void 0===e[t.name]&&(e[t.name]=!0),n.extend(m.defaults,e,!0),t.index=t.index||1e3,this.gestures.push(t),this.gestures.sort(function(t,e){return t.index<e.index?-1:t.index>e.index?1:0}),this.gestures}},m.Instance=function(t,r){var a=this;m.READY||(e.determineEventTypes(),n.each(m.gestures,function(t){i.register(t)}),e.onTouch(m.DOCUMENT,A,i.detect),e.onTouch(m.DOCUMENT,L,i.detect),m.READY=!0),this.element=t,this.enabled=!0,n.each(r,function(t,e){delete r[e],r[n.toCamelCase(e)]=t}),this.options=n.extend(n.extend({},m.defaults),r||{}),this.options.behavior&&n.toggleBehavior(this.element,this.options.behavior,!0),this.eventStartHandler=e.onTouch(t,w,function(t){a.enabled&&t.eventType==w?i.startDetect(a,t):t.eventType==O&&i.detect(t)}),this.eventHandlers=[]},m.Instance.prototype={on:function(t,n){var i=this;return e.on(i.element,t,n,function(t){i.eventHandlers.push({gesture:t,handler:n})}),i},off:function(t,i){var r=this;return e.off(r.element,t,i,function(t){var e=n.inArray({gesture:t,handler:i});!1!==e&&r.eventHandlers.splice(e,1)}),r},trigger:function(t,e){e||(e={});var i=m.DOCUMENT.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e;var r=this.element;return n.hasParent(e.target,r)&&(r=e.target),r.dispatchEvent(i),this},enable:function(t){return this.enabled=t,this},dispose:function(){var t,i;for(n.toggleBehavior(this.element,this.options.behavior,!1),t=-1;i=this.eventHandlers[++t];)n.off(this.element,i.gesture,i.handler);return this.eventHandlers=[],e.off(this.element,g[w],this.eventStartHandler),null}},function(t){var e=!1;m.gestures.Drag={name:t,index:50,handler:function(r,a){var o=i.current;if(!(a.options.dragMaxTouches>0&&r.touches.length>a.options.dragMaxTouches))switch(r.eventType){case w:e=!1;break;case A:if(r.distance<a.options.dragMinDistance&&o.name!=t)return;var s=o.startEvent.center;if(o.name!=t&&(o.name=t,a.options.dragDistanceCorrection&&r.distance>0)){var l=Math.abs(a.options.dragMinDistance/r.distance);s.pageX+=r.deltaX*l,s.pageY+=r.deltaY*l,s.clientX+=r.deltaX*l,s.clientY+=r.deltaY*l,r=i.extendEventData(r)}(o.lastEvent.dragLockToAxis||a.options.dragLockToAxis&&a.options.dragLockMinDistance<=r.distance)&&(r.dragLockToAxis=!0);var u=o.lastEvent.direction;r.dragLockToAxis&&u!==r.direction&&(n.isVertical(u)?r.direction=r.deltaY<0?b:v:r.direction=r.deltaX<0?_:y),e||(a.trigger(t+"start",r),e=!0),a.trigger(t,r),a.trigger(t+r.direction,r);var c=n.isVertical(r.direction);(a.options.dragBlockVertical&&c||a.options.dragBlockHorizontal&&!c)&&r.preventDefault();break;case T:e&&r.changedLength<=a.options.dragMaxTouches&&(a.trigger(t+"end",r),e=!1);break;case L:e=!1}},defaults:{dragMinDistance:10,dragDistanceCorrection:!0,dragMaxTouches:1,dragBlockHorizontal:!1,dragBlockVertical:!1,dragLockToAxis:!1,dragLockMinDistance:25}}}("drag"),m.gestures.Gesture={name:"gesture",index:1337,handler:function(t,e){e.trigger(this.name,t)}},function(t){var e;m.gestures.Hold={name:t,index:10,defaults:{holdTimeout:500,holdThreshold:2},handler:function(n,r){var a=r.options,o=i.current;switch(n.eventType){case w:clearTimeout(e),o.name=t,e=setTimeout(function(){o&&o.name==t&&r.trigger(t,n)},a.holdTimeout);break;case A:n.distance>a.holdThreshold&&clearTimeout(e);break;case T:clearTimeout(e)}}}}("hold"),m.gestures.Release={name:"release",index:1/0,handler:function(t,e){t.eventType==T&&e.trigger(this.name,t)}},m.gestures.Swipe={name:"swipe",index:40,defaults:{swipeMinTouches:1,swipeMaxTouches:1,swipeVelocityX:.6,swipeVelocityY:.6},handler:function(t,e){if(t.eventType==T){var n=t.touches.length,i=e.options;if(n<i.swipeMinTouches||n>i.swipeMaxTouches)return;(t.velocityX>i.swipeVelocityX||t.velocityY>i.swipeVelocityY)&&(e.trigger(this.name,t),e.trigger(this.name+t.direction,t))}}},function(t){var e=!1;m.gestures.Tap={name:t,index:100,handler:function(r,a){var o,s,l=a.options,u=i.current,c=i.previous;switch(r.eventType){case w:e=!1;break;case A:e=e||r.distance>l.tapMaxDistance;break;case L:!n.inStr(r.srcEvent.type,"cancel")&&r.deltaTime<l.tapMaxTime&&!e&&(o=c&&c.lastEvent&&r.timeStamp-c.lastEvent.timeStamp,s=!1,c&&c.name==t&&o&&o<l.doubleTapInterval&&r.distance<l.doubleTapDistance&&(a.trigger("doubletap",r),s=!0),s&&!l.tapAlways||(u.name=t,a.trigger(u.name,r)))}},defaults:{tapMaxTime:250,tapMaxDistance:10,tapAlways:!0,doubleTapDistance:20,doubleTapInterval:300}}}("tap"),m.gestures.Touch={name:"touch",index:-1/0,defaults:{preventDefault:!1,preventMouse:!1},handler:function(t,e){e.options.preventMouse&&t.pointerType==k?t.stopDetect():(e.options.preventDefault&&t.preventDefault(),t.eventType==O&&e.trigger("touch",t))}},function(t){var e=!1;m.gestures.Transform={name:t,index:45,defaults:{transformMinScale:.01,transformMinRotation:1},handler:function(n,r){switch(n.eventType){case w:e=!1;break;case A:if(n.touches.length<2)return;var a=Math.abs(1-n.scale),o=Math.abs(n.rotation);if(a<r.options.transformMinScale&&o<r.options.transformMinRotation)return;i.current.name=t,e||(r.trigger(t+"start",n),e=!0),r.trigger(t,n),o>r.options.transformMinRotation&&r.trigger("rotate",n),a>r.options.transformMinScale&&(r.trigger("pinch",n),r.trigger("pinch"+(n.scale<1?"in":"out"),n));break;case T:e&&n.changedLength<2&&(r.trigger(t+"end",n),e=!1)}}}}("transform");var S=new(function(){function e(){t.classCallCheck(this,e),this._renderPlatform=null}return t.createClass(e,[{key:"select",value:function(t){"string"==typeof t&&(this._renderPlatform=t.trim().toLowerCase())}},{key:"isWebView",value:function(){if("loading"===document.readyState||"uninitialized"==document.readyState)throw new Error("isWebView() method is available after dom contents loaded.");return!!(window.cordova||window.phonegap||window.PhoneGap)}},{key:"isIOS",value:function(){return this._renderPlatform?"ios"===this._renderPlatform:"object"!==("undefined"==typeof device?"undefined":t.typeof(device))||/browser/i.test(device.platform)?/iPhone|iPad|iPod/i.test(navigator.userAgent):/iOS/i.test(device.platform)}},{key:"isAndroid",value:function(){return this._renderPlatform?"android"===this._renderPlatform:"object"!==("undefined"==typeof device?"undefined":t.typeof(device))||/browser/i.test(device.platform)?/Android/i.test(navigator.userAgent):/Android/i.test(device.platform)}},{key:"isAndroidPhone",value:function(){return/Android/i.test(navigator.userAgent)&&/Mobile/i.test(navigator.userAgent)}},{key:"isAndroidTablet",value:function(){return/Android/i.test(navigator.userAgent)&&!/Mobile/i.test(navigator.userAgent)}},{key:"isWP",value:function(){return this._renderPlatform?"wp"===this._renderPlatform:"object"!==("undefined"==typeof device?"undefined":t.typeof(device))||/browser/i.test(device.platform)?/Windows Phone|IEMobile|WPDesktop/i.test(navigator.userAgent):/Win32NT|WinCE/i.test(device.platform)}},{key:"isIPhone",value:function(){return/iPhone/i.test(navigator.userAgent)}},{key:"isIPad",value:function(){return/iPad/i.test(navigator.userAgent)}},{key:"isIPod",value:function(){return/iPod/i.test(navigator.userAgent)}},{key:"isBlackBerry",value:function(){return this._renderPlatform?"blackberry"===this._renderPlatform:"object"!==("undefined"==typeof device?"undefined":t.typeof(device))||/browser/i.test(device.platform)?/BlackBerry|RIM Tablet OS|BB10/i.test(navigator.userAgent):/BlackBerry/i.test(device.platform)}},{key:"isOpera",value:function(){return this._renderPlatform?"opera"===this._renderPlatform:!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0}},{key:"isFirefox",value:function(){return this._renderPlatform?"firefox"===this._renderPlatform:"undefined"!=typeof InstallTrigger}},{key:"isSafari",value:function(){return this._renderPlatform?"safari"===this._renderPlatform:Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0}},{key:"isChrome",value:function(){return this._renderPlatform?"chrome"===this._renderPlatform:!(!window.chrome||window.opera||navigator.userAgent.indexOf(" OPR/")>=0||navigator.userAgent.indexOf(" Edge/")>=0)}},{key:"isIE",value:function(){return this._renderPlatform?"ie"===this._renderPlatform:!!document.documentMode}},{key:"isEdge",value:function(){return this._renderPlatform?"edge"===this._renderPlatform:navigator.userAgent.indexOf(" Edge/")>=0}},{key:"isIOS7above",value:function(){if("object"===("undefined"==typeof device?"undefined":t.typeof(device))&&!/browser/i.test(device.platform))return/iOS/i.test(device.platform)&&parseInt(device.version.split(".")[0])>=7;if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){var e=(navigator.userAgent.match(/\b[0-9]+_[0-9]+(?:_[0-9]+)?\b/)||[""])[0].replace(/_/g,".");return parseInt(e.split(".")[0])>=7}return!1}},{key:"getMobileOS",value:function(){return this.isAndroid()?"android":this.isIOS()?"ios":this.isWP()?"wp":"other"}},{key:"getIOSDevice",value:function(){return this.isIPhone()?"iphone":this.isIPad()?"ipad":this.isIPod()?"ipod":"na"}}]),e}()),P=new WeakMap,M=new WeakMap;function D(t){P.set(t,!0)}function x(t){var e=M.get(t,[])||[];M.delete(t),e.forEach(function(t){return t()})}function I(t){var e,n,i,r=arguments.length<=1||void 0===arguments[1]?function(){}:arguments[1];(e=t,n=r,M.has(e)||M.set(e,[]),M.get(e).push(n),(i=t).childNodes.length>0&&D(i),P.has(i))?x(t):(new MutationObserver(function(e){D(t),x(t)}).observe(t,{childList:!0,characterData:!0}),setImmediate(function(){D(t),x(t)}))}var H={_createAlertDialog:function(t){var e="";t.isPrompt&&(e='\n      <input\n        class="text-input text-input--underbar"\n        type="'+(t.inputType||"text")+'"\n        placeholder="'+(t.placeholder||"")+'"\n        value="'+(t.defaultValue||"")+'"\n        style="width: 100%; margin-top: 10px;"\n      />\n    ');var n="";t.buttonLabels.forEach(function(e,i){n+='\n      <button class="\n        alert-dialog-button\n        '+(i===t.primaryButtonIndex?" alert-dialog-button--primal":"")+"\n        "+(t.buttonLabels.length<=2?" alert-dialog-button--one":"")+'\n      ">\n        '+e+"\n      </button>\n    "});var i={},r=function(){i.dialog.onDialogCancel&&i.dialog.removeEventListener("dialog-cancel",i.dialog.onDialogCancel),Object.keys(i).forEach(function(t){return delete i[t]}),i=null,t.destroy instanceof Function&&t.destroy()};i.dialog=document.createElement("ons-alert-dialog"),innerHTML(i.dialog,'\n    <div class="alert-dialog-mask"></div>\n    <div class="alert-dialog">\n      <div class="alert-dialog-container">\n        <div class="alert-dialog-title">\n          '+(t.title||"")+'\n        </div>\n        <div class="alert-dialog-content">\n          '+(t.message||t.messageHTML)+"\n          "+e+'\n        </div>\n        <div class="\n          alert-dialog-footer\n          '+(t.buttonLabels.length<=2?" alert-dialog-footer--one":"")+'\n        ">\n          '+n+"\n        </div>\n      </div>\n    </div>\n  "),I(i.dialog),["id","class","animation"].forEach(function(e){return t.hasOwnProperty(e)&&i.dialog.setAttribute(e,t[e])}),t.modifier&&p.addModifier(i.dialog,t.modifier);var a=p.defer();return t.isPrompt&&t.submitOnEnter&&(i.input=i.dialog.querySelector(".text-input"),i.input.onkeypress=function(e){13===e.keyCode&&i.dialog.hide().then(function(){var e=i.input.value;r(),t.callback(e),a.resolve(e)})}),i.footer=i.dialog.querySelector(".alert-dialog-footer"),p.arrayFrom(i.dialog.querySelectorAll(".alert-dialog-button")).forEach(function(e,n){e.onclick=function(){i.dialog.hide().then(function(){var e=t.isPrompt?i.input.value:n;i.dialog.remove(),r(),t.callback(e),a.resolve(e)})},i.footer.appendChild(e)}),t.cancelable&&(i.dialog.cancelable=!0,i.dialog.onDialogCancel=function(){setImmediate(function(){i.dialog.remove(),r()});var e=t.isPrompt?null:-1;t.callback(e),a.reject(e)},i.dialog.addEventListener("dialog-cancel",i.dialog.onDialogCancel,!1)),document.body.appendChild(i.dialog),t.compile(i.dialog),setImmediate(function(){i.dialog.show().then(function(){i.input&&t.isPrompt&&t.autofocus&&i.input.focus()})}),a.promise}},N=function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];if("string"==typeof t?e.message=t:e=t,!e.message&&!e.messageHTML)throw new Error("Alert dialog must contain a message.");return(e.hasOwnProperty("buttonLabels")||e.hasOwnProperty("buttonLabel"))&&(e.buttonLabels=e.buttonLabels||e.buttonLabel,Array.isArray(e.buttonLabels)||(e.buttonLabels=[e.buttonLabels||""])),p.extend({compile:function(t){return t},callback:function(t){return t},buttonLabels:["OK"],primaryButtonIndex:0,animation:"default",cancelable:!1},n,e)};H.alert=function(t,e){return e=N(t,e,{title:"Alert"}),H._createAlertDialog(e)},H.confirm=function(t,e){return e=N(t,e,{buttonLabels:["Cancel","OK"],primaryButtonIndex:1,title:"Confirm"}),H._createAlertDialog(e)},H.prompt=function(t,e){return e=N(t,e,{title:"Alert",isPrompt:!0,autofocus:!0,submitOnEnter:!0}),H._createAlertDialog(e)};var q={_variables:{},defineVariable:function(t,e){var n=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];if("string"!=typeof t)throw new Error("Variable name must be a string.");if("string"!=typeof e&&"function"!=typeof e)throw new Error("Variable value must be a string or a function.");if(this._variables.hasOwnProperty(t)&&!n)throw new Error('"'+t+'" is already defined.');this._variables[t]=e},getVariable:function(t){return this._variables.hasOwnProperty(t)?this._variables[t]:null},removeVariable:function(t){delete this._variables[t]},getAllVariables:function(){return this._variables},_parsePart:function(t){var e=void 0,n=!1,i=0,r=[];if(0===t.length)throw new Error("Unable to parse empty string.");for(var a=0;a<t.length;a++)if("$"===(e=t.charAt(a))&&"{"===t.charAt(a+1)){if(n)throw new Error("Nested interpolation not supported.");t.substring(i,a).length>0&&r.push(t.substring(i,a)),i=a,n=!0}else if("}"===e){if(!n)throw new Error("} must be preceeded by ${");t.substring(i,a+1).length>0&&r.push(t.substring(i,a+1)),i=a+1,n=!1}if(n)throw new Error("Unterminated interpolation.");return r.push(t.substring(i,t.length)),r},_replaceToken:function(t){var e=t.match(/^\${(.*?)}$/);if(e){var n=e[1].trim(),i=this.getVariable(n);if(null===i)throw new Error('Variable "'+n+'" does not exist.');if("string"==typeof i)return i;var r=i();if("string"!=typeof r)throw new Error("Must return a string.");return r}return t},_replaceTokens:function(t){return t.map(this._replaceToken.bind(this))},_parseExpression:function(t){return t.split(",").map(function(t){return t.trim()}).map(this._parsePart.bind(this)).map(this._replaceTokens.bind(this)).map(function(t){return t.join("")})},evaluate:function(t){return t?this._parseExpression(t):[]}};q.defineVariable("mobileOS",S.getMobileOS()),q.defineVariable("iOSDevice",S.getIOSDevice()),q.defineVariable("runtime",function(){return S.isWebView()?"cordova":"browser"});var B={config:{autoStatusBarFill:!0,animationsDisabled:!1}};B.nullElement=window.document.createElement("div"),B.isEnabledAutoStatusBarFill=function(){return!!B.config.autoStatusBarFill},B.normalizePageHTML=function(t){return(t=(""+t).trim()).match(/^<ons-page/)||(t="<ons-page _muted>"+t+"</ons-page>"),t},B.waitDOMContentLoaded=function(t){"loading"===window.document.readyState||"uninitialized"==window.document.readyState?window.document.addEventListener("DOMContentLoaded",t):setImmediate(t)},B.autoStatusBarFill=function(e){var n=function t(){B.shouldFillStatusBar()&&e(),document.removeEventListener("deviceready",t),document.removeEventListener("DOMContentLoaded",t)};"object"===("undefined"==typeof device?"undefined":t.typeof(device))?document.addEventListener("deviceready",n):-1===["complete","interactive"].indexOf(document.readyState)?document.addEventListener("DOMContentLoaded",function(){n()}):n()},B.shouldFillStatusBar=function(){return B.isEnabledAutoStatusBarFill()&&S.isWebView()&&S.isIOS7above()},B.templateStore={_storage:{},get:function(t){return B.templateStore._storage[t]||null},set:function(t,e){B.templateStore._storage[t]=e}},window.document.addEventListener("_templateloaded",function(t){"ons-template"===t.target.nodeName.toLowerCase()&&B.templateStore.set(t.templateId,t.template)},!1),window.document.addEventListener("DOMContentLoaded",function(){function t(t){for(var e=window.document.querySelectorAll(t),n=0;n<e.length;n++)B.templateStore.set(e[n].getAttribute("id"),e[n].textContent)}t('script[type="text/ons-template"]'),t('script[type="text/template"]'),t('script[type="text/ng-template"]')},!1),B.getTemplateHTMLAsync=function(t){return new Promise(function(e,n){setImmediate(function(){var i,r=B.templateStore.get(t);if(r){var a="string"==typeof r?r:r[1];e(a)}else(i=new XMLHttpRequest).open("GET",t,!0),i.onload=function(t){var r=i.responseText;i.status>=400&&i.status<600?n(r):e(r)},i.onerror=function(){throw new Error("The page is not found: "+t)},i.send(null)})})},B.getPageHTMLAsync=function(t){var e=q.evaluate(t);return function t(n){return"string"!=typeof n?Promise.reject("Must specify a page."):B.getTemplateHTMLAsync(n).then(function(t){return B.normalizePageHTML(t)},function(n){return 0===e.length?Promise.reject(n):t(e.shift())}).then(function(t){return B.normalizePageHTML(t)})}(e.shift())};var R=function(){function e(n){if(t.classCallCheck(this,e),this._animators=n.animators,this._baseClass=n.baseClass,this._baseClassName=n.baseClassName||n.baseClass.name,this._animation=n.defaultAnimation||"default",this._animationOptions=n.defaultAnimationOptions||{},!this._animators[this._animation])throw new Error("No such animation: "+this._animation)}return t.createClass(e,[{key:"setAnimationOptions",value:function(t){this._animationOptions=t}},{key:"newAnimator",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=arguments[1],n=null;if(t.animation instanceof this._baseClass)return t.animation;var i=null;if("string"==typeof t.animation&&(i=this._animators[t.animation]),!i&&e)n=e;else{i=i||this._animators[this._animation];var r=p.extend({},this._animationOptions,t.animationOptions||{},B.config.animationsDisabled?{duration:0,delay:0}:{});"function"==typeof(n=new i(r))&&(n=new n(r))}if(!(n instanceof this._baseClass))throw new Error('"animator" is not an instance of '+this._baseClassName+".");return n}}],[{key:"parseAnimationOptionsString",value:function(e){try{if("string"==typeof e){var n=p.animationOptionsParse(e);if("object"===(void 0===n?"undefined":t.typeof(n))&&null!==n)return n}return{}}catch(t){return{}}}}]),e}(),F=function(){function e(){t.classCallCheck(this,e)}return t.createClass(e,null,[{key:"diff",value:function(t,n){t=r((""+t).trim()),n=r((""+n).trim());var i=Object.keys(t).reduce(function(t,e){return n[e]||t.push(e),t},[]);return{added:Object.keys(n).reduce(function(e,n){return t[n]||e.push(n),e},[]),removed:i};function r(t){var n={};return e.split(t).forEach(function(t){return n[t]=t}),n}}},{key:"applyDiffToClassList",value:function(t,e,n){t.added.map(function(t){return n.replace(/\*/g,t)}).forEach(function(t){return e.add(t)}),t.removed.map(function(t){return n.replace(/\*/g,t)}).forEach(function(t){return e.remove(t)})}},{key:"applyDiffToElement",value:function(t,n,i){var r,a;for(var o in i)if(i.hasOwnProperty(o))for(var s=!o||(a=o,((r=n).matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector).call(r,a))?[n]:n.querySelectorAll(o),l=0;l<s.length;l++)e.applyDiffToClassList(t,s[l].classList,i[o])}},{key:"onModifierChanged",value:function(t,n,i,r){return e.applyDiffToElement(e.diff(t,n),i,r)}},{key:"initModifier",value:function(t,n){var i=t.getAttribute("modifier");"string"==typeof i&&e.applyDiffToElement({removed:[],added:e.split(i)},t,n)}},{key:"split",value:function(t){return"string"!=typeof t?[]:t.trim().split(/ +/).filter(function(t){return""!==t})}}]),e}(),j=function(){function e(n){var i=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if(t.classCallCheck(this,e),"object"!==(void 0===n?"undefined":t.typeof(n))||null===n)throw Error('"delegate" parameter must be an object.');if(this._userDelegate=n,!(i instanceof Element)&&null!==i)throw Error('"templateElement" parameter must be an instance of Element or null.');this._templateElement=i}return t.createClass(e,[{key:"hasRenderFunction",value:function(){return this._userDelegate._render instanceof Function}},{key:"_render",value:function(t,e){this._userDelegate._render(t,e)}},{key:"loadItemElement",value:function(t,e,n){if(this._userDelegate.loadItemElement instanceof Function)this._userDelegate.loadItemElement(t,e,function(t){return n({element:t})});else{var i=this._userDelegate.createItemContent(t,this._templateElement);if(!(i instanceof Element))throw Error("createItemContent() must return an instance of Element.");e.appendChild(i),n({element:i})}}},{key:"countItems",value:function(){var t=this._userDelegate.countItems();if("number"!=typeof t)throw Error("countItems() must return a number.");return t}},{key:"updateItem",value:function(t,e){this._userDelegate.updateItemContent instanceof Function&&this._userDelegate.updateItemContent(t,e)}},{key:"calculateItemHeight",value:function(t){if(this._userDelegate.calculateItemHeight instanceof Function){var e=this._userDelegate.calculateItemHeight(t);if("number"!=typeof e)throw Error("calculateItemHeight() must return a number.");return e}return 0}},{key:"destroyItem",value:function(t,e){this._userDelegate.destroyItem instanceof Function&&this._userDelegate.destroyItem(t,e)}},{key:"destroy",value:function(){this._userDelegate.destroy instanceof Function&&this._userDelegate.destroy(),this._userDelegate=this._templateElement=null}},{key:"itemHeight",get:function(){return this._userDelegate.itemHeight}}]),e}(),z=function(){function e(n,i){if(t.classCallCheck(this,e),!(i instanceof j))throw Error('"delegate" parameter must be an instance of LazyRepeatDelegate.');if(this._wrapperElement=n,this._delegate=i,"ons-list"===n.tagName.toLowerCase()&&n.classList.add("lazy-list"),this._pageContent=this._findPageContentElement(n),!this._pageContent)throw new Error("ons-lazy-repeat must be a descendant of an <ons-page> or an element.");this._topPositions=[],this._renderedItems={},this._delegate.itemHeight||this._delegate.calculateItemHeight(0)||(this._unknownItemHeight=!0),this._addEventListeners(),this._onChange()}return t.createClass(e,[{key:"_findPageContentElement",value:function(t){var e=p.findParent(t,".page__content");if(e)return e;var n=p.findParent(t,"ons-page");if(n){var i=p.findChild(n,".content");if(i)return i}return null}},{key:"_checkItemHeight",value:function(t){var e=this;this._delegate.loadItemElement(0,this._wrapperElement,function(n){if(!e._unknownItemHeight)throw Error("Invalid state");var i=function(){e._wrapperElement.removeChild(n.element),delete e._unknownItemHeight,t()};if(e._itemHeight=n.element.offsetHeight,e._itemHeight>0)i();else{var r=e._wrapperElement.style.visibility;e._wrapperElement.style.visibility="hidden",n.element.style.visibility="hidden",setImmediate(function(){if(e._itemHeight=n.element.offsetHeight,0==e._itemHeight)throw Error("Invalid state: this._itemHeight must be greater than zero.");e._wrapperElement.style.visibility=r,i()})}})}},{key:"_countItems",value:function(){return this._delegate.countItems()}},{key:"_getItemHeight",value:function(t){return this.staticItemHeight||this._delegate.calculateItemHeight(t)}},{key:"_onChange",value:function(){this._render()}},{key:"refresh",value:function(){this._removeAllElements(),this._onChange()}},{key:"_render",value:function(){var t=this;if(this._unknownItemHeight)return this._checkItemHeight(this._render.bind(this));var e=this._getItemsInView();if(this._delegate.hasRenderFunction&&this._delegate.hasRenderFunction())return this._delegate._render(e,this._listHeight),null;var n={};e.forEach(function(e){t._renderElement(e),n[e.index]=!0}),Object.keys(this._renderedItems).forEach(function(e){return n[e]||t._removeElement(e)}),this._wrapperElement.style.height=this._listHeight+"px"}},{key:"_renderElement",value:function(t){var e=this,n=t.index,i=t.top,r=this._renderedItems[n];if(r)return this._delegate.updateItem(n,r),void(r.element.style.top=i+"px");this._delegate.loadItemElement(n,this._wrapperElement,function(t){p.extend(t.element.style,{position:"absolute",top:i+"px",left:0,right:0}),e._renderedItems[n]=t})}},{key:"_removeElement",value:function(t){var e=this._renderedItems[t];this._delegate.destroyItem(t,e),e.element.parentElement&&e.element.parentElement.removeChild(e.element),delete this._renderedItems[t]}},{key:"_removeAllElements",value:function(){var t=this;Object.keys(this._renderedItems).forEach(function(e){return t._removeElement(e)})}},{key:"_calculateStartIndex",value:function(t){var e=0,n=this._itemCount-1;if(this.staticItemHeight)return parseInt(-t/this.staticItemHeight);for(;;){var i=Math.floor((e+n)/2),r=t+this._topPositions[i];if(n<e)return 0;if(r<=0&&r+this._getItemHeight(i)>0)return i;isNaN(r)||r>=0?n=i-1:e=i+1}}},{key:"_recalculateTopPositions",value:function(){Math.min(this._topPositions.length,this._itemCount);this._topPositions[0]=0;for(var t=1;t<void 0;t++)this._topPositions[t]=this._topPositions[t-1]+this._getItemHeight(t)}},{key:"_getItemsInView",value:function(){var t=this._wrapperElement.getBoundingClientRect().top,e=4*window.innerHeight-t,n=this._countItems();n!==this._itemCount&&(this._itemCount=n,this._recalculateTopPositions());for(var i=Math.max(0,this._calculateStartIndex(t)-30),r=[],a=this._topPositions[i];i<n&&a<e;i++)i>=this._topPositions.length&&(this._topPositions.length+=100),this._topPositions[i]=a,r.push({top:a,index:i}),a+=this._getItemHeight(i);return this._listHeight=a,r}},{key:"_debounce",value:function(t,e,n){var i=void 0;return function(){var r=this,a=arguments,o=n&&!i;clearTimeout(i),o?t.apply(this,arguments):i=setTimeout(function(){i=null,t.apply(r,a)},e)}}},{key:"_doubleFireOnTouchend",value:function(){this._render(),this._debounce(this._render.bind(this),100)}},{key:"_addEventListeners",value:function(){p.bindListeners(this,["_onChange","_doubleFireOnTouchend"]),S.isIOS()&&(this._boundOnChange=this._debounce(this._boundOnChange,30)),this._pageContent.addEventListener("scroll",this._boundOnChange,!0),S.isIOS()&&(this._pageContent.addEventListener("touchmove",this._boundOnChange,!0),this._pageContent.addEventListener("touchend",this._boundDoubleFireOnTouchend,!0)),window.document.addEventListener("resize",this._boundOnChange,!0)}},{key:"_removeEventListeners",value:function(){this._pageContent.removeEventListener("scroll",this._boundOnChange,!0),S.isIOS()&&(this._pageContent.removeEventListener("touchmove",this._boundOnChange,!0),this._pageContent.removeEventListener("touchend",this._boundDoubleFireOnTouchend,!0)),window.document.removeEventListener("resize",this._boundOnChange,!0)}},{key:"destroy",value:function(){this._removeAllElements(),this._delegate.destroy(),this._parentElement=this._delegate=this._renderedItems=null,this._removeEventListeners()}},{key:"staticItemHeight",get:function(){return this._delegate.itemHeight||this._itemHeight}}]),e}();B.AnimatorFactory=R,B.ModifierUtil=F,B.LazyRepeatProvider=z,B.LazyRepeatDelegate=j;var V,U=(V={_isPortrait:!1,isPortrait:function(){return this._isPortrait()},isLandscape:function(){return!this.isPortrait()},_init:function(){return document.addEventListener("DOMContentLoaded",this._onDOMContentLoaded.bind(this),!1),"orientation"in window?window.addEventListener("orientationchange",this._onOrientationChange.bind(this),!1):window.addEventListener("resize",this._onResize.bind(this),!1),this._isPortrait=function(){return window.innerHeight>window.innerWidth},this},_onDOMContentLoaded:function(){this._installIsPortraitImplementation(),this.emit("change",{isPortrait:this.isPortrait()})},_installIsPortraitImplementation:function(){var t=window.innerWidth<window.innerHeight;"orientation"in window?window.orientation%180==0?this._isPortrait=function(){return 0===Math.abs(window.orientation%180)?t:!t}:this._isPortrait=function(){return 90===Math.abs(window.orientation%180)?t:!t}:this._isPortrait=function(){return window.innerHeight>window.innerWidth}},_onOrientationChange:function(){var t=this,e=this._isPortrait(),n=0,i=setInterval(function(){n++;var r=window.innerWidth,a=window.innerHeight;e&&r<=a||!e&&r>=a?(t.emit("change",{isPortrait:e}),clearInterval(i)):50===n&&(t.emit("change",{isPortrait:e}),clearInterval(i))},20)},_onResize:function(){this.emit("change",{isPortrait:this.isPortrait()})}},MicroEvent.mixin(V),V)._init(),W=new MicroEvent;W._visible=!1;var Y=function(){W._visible=!0,W.emit("show")},X=function(){W._visible=!1,W.emit("hide")},G=function(){};document.addEventListener("deviceready",function(){("undefined"!=typeof Keyboard?(Keyboard.onshow=Y,Keyboard.onhide=X,W.emit("init",{visible:Keyboard.isVisible}),1):void 0!==cordova.plugins&&void 0!==cordova.plugins.Keyboard&&(window.addEventListener("native.keyboardshow",Y),window.addEventListener("native.keyboardhide",X),W.emit("init",{visible:cordova.plugins.Keyboard.isVisible}),1))||(document.querySelector("[ons-keyboard-active]")||document.querySelector("[ons-keyboard-inactive]"),W.on=G)});var $={_ready:!1,_domContentLoaded:!1,_onDOMContentLoaded:function(){$._domContentLoaded=!0,S.isWebView()?window.document.addEventListener("deviceready",function(){$._ready=!0},!1):$._ready=!0},addBackButtonListener:function(t){if(!this._domContentLoaded)throw new Error("This method is available after DOMContentLoaded");this._ready?window.document.addEventListener("backbutton",t,!1):window.document.addEventListener("deviceready",function(){window.document.addEventListener("backbutton",t,!1)})},removeBackButtonListener:function(t){if(!this._domContentLoaded)throw new Error("This method is available after DOMContentLoaded");this._ready?window.document.removeEventListener("backbutton",t,!1):window.document.addEventListener("deviceready",function(){window.document.removeEventListener("backbutton",t,!1)})}};window.addEventListener("DOMContentLoaded",function(){return $._onDOMContentLoaded()},!1);var K,Q,Z={_store:{},_genId:(K=0,function(){return K++}),set:function(t,e){t.dataset.deviceBackButtonHandlerId&&this.remove(t);var n=t.dataset.deviceBackButtonHandlerId=Z._genId();this._store[n]=e},remove:function(t){t.dataset.deviceBackButtonHandlerId&&(delete this._store[t.dataset.deviceBackButtonHandlerId],delete t.dataset.deviceBackButtonHandlerId)},get:function(t){if(t.dataset.deviceBackButtonHandlerId){var e=t.dataset.deviceBackButtonHandlerId;if(!this._store[e])throw new Error;return this._store[e]}},has:function(t){if(!t.dataset)return!1;var e=t.dataset.deviceBackButtonHandlerId;return!!this._store[e]}},J=new(function(){function e(){t.classCallCheck(this,e),this._isEnabled=!1,this._boundCallback=this._callback.bind(this)}return t.createClass(e,[{key:"enable",value:function(){this._isEnabled||($.addBackButtonListener(this._boundCallback),this._isEnabled=!0)}},{key:"disable",value:function(){this._isEnabled&&($.removeBackButtonListener(this._boundCallback),this._isEnabled=!1)}},{key:"fireDeviceBackButtonEvent",value:function(){var t=document.createEvent("Event");t.initEvent("backbutton",!0,!0),document.dispatchEvent(t)}},{key:"_callback",value:function(){this._dispatchDeviceBackButtonEvent()}},{key:"createHandler",value:function(t,e){if(!(t instanceof HTMLElement))throw new Error("element must be an instance of HTMLElement");if(!(e instanceof Function))throw new Error("callback must be an instance of Function");var n={_callback:e,_element:t,disable:function(){Z.remove(t)},setListener:function(t){this._callback=t},enable:function(){Z.set(t,this)},isEnabled:function(){return Z.get(t)===this},destroy:function(){Z.remove(t),this._callback=this._element=null}};return n.enable(),n}},{key:"_dispatchDeviceBackButtonEvent",value:function(){var t=this._captureTree(),e=this._findHandlerLeafElement(t),n=Z.get(e);n._callback(function t(e){return{_element:e,callParentHandler:function(){for(var e=this._element.parentNode;e;){if(n=Z.get(e))return n._callback(t(e));e=e.parentNode}}}}(e))}},{key:"_captureTree",value:function(){return function t(e){return{element:e,children:Array.prototype.concat.apply([],function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e}(e.children).map(function(e){if("none"===e.style.display)return[];if(0===e.children.length&&!Z.has(e))return[];var n=t(e);return 0!==n.children.length||Z.has(n.element)?[n]:[]}))}}(document.body)}},{key:"_findHandlerLeafElement",value:function(t){return function t(e){if(0===e.children.length)return e.element;if(1===e.children.length)return t(e.children[0]);return e.children.map(function(t){return t.element}).reduce(function(t,e){if(!t)return e;var n=parseInt(window.getComputedStyle(t,"").zIndex,10),i=parseInt(window.getComputedStyle(e,"").zIndex,10);if(!isNaN(n)&&!isNaN(i))return n>i?t:e;throw new Error("Capturing backbutton-handler is failure.")},null)}(t)}}]),e}()),tt=!0,et={quiet:"material--flat",light:"material--flat",outline:"material--flat",cta:"","large--quiet":"material--flat large","large--cta":"large",noborder:"",chevron:"",tappable:""},nt={android:function(t){if(!/ons-fab|ons-speed-dial|ons-progress/.test(t.tagName.toLowerCase())&&!/material/.test(t.getAttribute("modifier"))){var e=(t.getAttribute("modifier")||"").trim().split(/\s+/).map(function(t){return et.hasOwnProperty(t)?et[t]:t});e.unshift("material"),t.setAttribute("modifier",e.join(" ").trim())}!/ons-button|ons-list-item|ons-fab|ons-speed-dial|ons-tab$/.test(t.tagName.toLowerCase())||t.hasAttribute("ripple")||p.findChild(t,"ons-ripple")||("ons-list-item"===t.tagName.toLowerCase()?t.hasAttribute("tappable")&&(t.setAttribute("ripple",""),t.removeAttribute("tappable")):t.setAttribute("ripple",""))},ios:function(t){/material/.test(t.getAttribute("modifier"))&&(p.removeModifier(t,"material"),p.removeModifier(t,"material--flat")&&p.addModifier(t,p.removeModifier(t,"large")?"large--quiet":"quiet"),t.getAttribute("modifier")||t.removeAttribute("modifier")),t.hasAttribute("ripple")&&("ons-list-item"===t.tagName.toLowerCase()&&t.setAttribute("tappable",""),t.removeAttribute("ripple"))}},it={android:!0},rt={isEnabled:function(){return tt},enable:function(){return tt=!0},disable:function(){return tt=!1},prepare:function(t,e){if(tt&&!t.hasAttribute("disable-auto-styling")){var n=S.getMobileOS();nt.hasOwnProperty(n)&&(it.hasOwnProperty(n)||e)&&nt[n](t)}}},at=(Q=0,function(){return Q++}),ot=function(){function e(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];t.classCallCheck(this,e),this._lockList=[],this._waitList=[],this._log=n.log||function(){}}return t.createClass(e,[{key:"lock",value:function(){var t=this,e=function e(){t._unlock(e)};return e.id=at(),this._lockList.push(e),this._log("lock: "+e.id),e}},{key:"_unlock",value:function(t){var e=this._lockList.indexOf(t);if(-1===e)throw new Error("This function is not registered in the lock list.");this._lockList.splice(e,1),this._log("unlock: "+t.id),this._tryToFreeWaitList()}},{key:"_tryToFreeWaitList",value:function(){for(;!this.isLocked()&&this._waitList.length>0;)this._waitList.shift()()}},{key:"waitUnlock",value:function(t){if(!(t instanceof Function))throw new Error("The callback param must be a function.");this.isLocked()?this._waitList.push(t):t()}},{key:"isLocked",value:function(){return this._lockList.length>0}}]),e}();function st(t,e){var n=t.page,i=t.parent,r=(t.params,t.replace);B.getPageHTMLAsync(n).then(function(t){r&&(p.propagateAction(i,"_destroy"),i.innerHTML="");var n=p.createElement(t.trim());i.appendChild(n),e({element:n,unload:function(){return n.remove()}})})}var lt,ut=function(){function e(n){t.classCallCheck(this,e),this._loader=n instanceof Function?n:st}return t.createClass(e,[{key:"load",value:function(t,e){var n=t.page,i=t.parent,r=t.params,a=void 0===r?{}:r,o=t.replace;this._loader({page:n,parent:i,params:a,replace:o},function(t){if(!(t.element instanceof Element))throw Error("target.element must be an instance of Element.");if(!(t.unload instanceof Function))throw Error("target.unload must be an instance of Function.");e(t)},a)}},{key:"internalLoader",set:function(t){if(!(t instanceof Function))throw Error("First parameter must be an instance of Function");this._loader=t},get:function(){return this._loader}}]),e}(),ct=new ut,ht=new ut(function(t,e){var n=t.page,i=t.parent;t.params;t.replace&&(p.propagateAction(i,"_destroy"),i.innerHTML="");var r=p.createElement(n.trim());i.appendChild(r),e({element:r,unload:function(){return r.remove()}})}),dt={};dt._util=p,dt._deviceBackButtonDispatcher=J,dt._internal=B,dt.GestureDetector=m,dt.platform=S,dt.softwareKeyboard=W,dt.pageAttributeExpression=q,dt.orientation=U,dt.notification=H,dt._animationOptionsParser=f,dt._autoStyle=rt,dt._DoorLock=ot,dt._contentReady=I,dt.defaultPageLoader=ct,dt.PageLoader=ut,dt._readyLock=new ot,dt.platform.select((window.location.search.match(/platform=([\w-]+)/)||[])[1]),lt=dt._readyLock.lock(),window.addEventListener("DOMContentLoaded",function(){dt.isWebView()?window.document.addEventListener("deviceready",lt,!1):lt()},!1),dt.isReady=function(){return!dt._readyLock.isLocked()},dt.isWebView=dt.platform.isWebView,dt.ready=function(t){dt.isReady()?t():dt._readyLock.waitUnlock(t)},dt.setDefaultDeviceBackButtonListener=function(t){dt._defaultDeviceBackButtonHandler.setListener(t)},dt.disableDeviceBackButtonHandler=function(){dt._deviceBackButtonDispatcher.disable()},dt.enableDeviceBackButtonHandler=function(){dt._deviceBackButtonDispatcher.enable()},dt.enableAutoStatusBarFill=function(){if(dt.isReady())throw new Error("This method must be called before ons.isReady() is true.");dt._internal.config.autoStatusBarFill=!0},dt.disableAutoStatusBarFill=function(){if(dt.isReady())throw new Error("This method must be called before ons.isReady() is true.");dt._internal.config.autoStatusBarFill=!1},dt.disableAnimations=function(){dt._internal.config.animationsDisabled=!0},dt.enableAnimations=function(){dt._internal.config.animationsDisabled=!1},dt.disableAutoStyling=dt._autoStyle.disable,dt.enableAutoStyling=dt._autoStyle.enable,dt.forcePlatformStyling=function(t){dt.enableAutoStyling(),dt.platform.select(t||"ios"),dt._util.arrayFrom(document.querySelectorAll("*")).forEach(function(t){"ons-if"===t.tagName.toLowerCase()?t._platformUpdate():t.tagName.match(/^ons-/i)&&(dt._autoStyle.prepare(t,!0),"ons-tabbar"===t.tagName.toLowerCase()&&t._updatePosition())})},dt._createPopoverOriginal=function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(!t)throw new Error("Page url must be defined.");return dt._internal.getPageHTMLAsync(t).then(function(t){t=t.match(/<ons-popover/gi)?"<div>"+t+"</div>":"<ons-popover>"+t+"</ons-popover>";var n=dt._util.createElement("<div>"+t+"</div>").querySelector("ons-popover");return document.body.appendChild(n),e.link instanceof Function&&e.link(n),n})},dt.createPopover=dt._createPopoverOriginal,dt._createDialogOriginal=function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(!t)throw new Error("Page url must be defined.");return dt._internal.getPageHTMLAsync(t).then(function(t){t=t.match(/<ons-dialog/gi)?"<div>"+t+"</div>":"<ons-dialog>"+t+"</ons-dialog>";var n=dt._util.createElement("<div>"+t+"</div>").querySelector("ons-dialog");return document.body.appendChild(n),e.link instanceof Function&&e.link(n),n})},dt.createDialog=dt._createDialogOriginal,dt._createAlertDialogOriginal=function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(!t)throw new Error("Page url must be defined.");return dt._internal.getPageHTMLAsync(t).then(function(t){t=t.match(/<ons-alert-dialog/gi)?"<div>"+t+"</div>":"<ons-alert-dialog>"+t+"</ons-alert-dialog>";var n=dt._util.createElement("<div>"+t+"</div>").querySelector("ons-alert-dialog");return document.body.appendChild(n),e.link instanceof Function&&e.link(n),n})},dt.createAlertDialog=dt._createAlertDialogOriginal,dt._resolveLoadingPlaceholderOriginal=function(t,e){var n=dt._util.arrayFrom(window.document.querySelectorAll("[ons-loading-placeholder]"));if(!(n.length>0))throw new Error("No ons-loading-placeholder exists.");n.filter(function(t){return!t.getAttribute("page")}).forEach(function(n){n.setAttribute("ons-loading-placeholder",t),dt._resolveLoadingPlaceholder(n,t,e)})},dt.resolveLoadingPlaceholder=dt._resolveLoadingPlaceholderOriginal,dt._setupLoadingPlaceHolders=function(){dt.ready(function(){dt._util.arrayFrom(window.document.querySelectorAll("[ons-loading-placeholder]")).forEach(function(t){var e=t.getAttribute("ons-loading-placeholder");"string"==typeof e&&dt._resolveLoadingPlaceholder(t,e)})})},dt._resolveLoadingPlaceholder=function(t,e,n){n=n||function(t,e){e()},dt._internal.getPageHTMLAsync(e).then(function(e){for(;t.firstChild;)t.removeChild(t.firstChild);var i=dt._util.createElement("<div>"+e+"</div>");i.style.display="none",t.appendChild(i),n(i,function(){i.style.display=""})}).catch(function(t){throw new Error("Unabled to resolve placeholder: "+t)})},window._superSecretOns=dt;var ft=function(e){function n(e){var i,r;return t.classCallCheck(this,n),(e=i=t.possibleConstructorReturn(this,Object.getPrototypeOf(n).call(this,e))).init(),r=e,t.possibleConstructorReturn(i,r)}return t.inherits(n,e),t.createClass(n,[{key:"init",value:function(){}}]),n}(function(){if("function"!=typeof HTMLElement){var t=function(){};return t.prototype=document.createElement("div"),t}return HTMLElement}()),pt=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,Object.getPrototypeOf(n).apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"init",value:function(){for(this.template=this.innerHTML;this.firstChild;)this.removeChild(this.firstChild)}},{key:"connectedCallback",value:function(){var t=new CustomEvent("_templateloaded",{bubbles:!0,cancelable:!0});t.template=this.template,t.templateId=this.getAttribute("id"),this.dispatchEvent(t)}}]),n}(ft);customElements.define("ons-template",pt);var mt=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,Object.getPrototypeOf(n).apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"init",value:function(){var t=this;I(this,function(){if(null!==S._renderPlatform)t._platformUpdate();else if(!t._isAllowedPlatform()){for(;t.childNodes[0];)t.childNodes[0].remove();t._platformUpdate()}}),this._onOrientationChange()}},{key:"connectedCallback",value:function(){U.on("change",this._onOrientationChange.bind(this))}},{key:"attributeChangedCallback",value:function(t){"orientation"===t&&this._onOrientationChange()}},{key:"disconnectedCallback",value:function(){U.off("change",this._onOrientationChange)}},{key:"_platformUpdate",value:function(){this.style.display=this._isAllowedPlatform()?"":"none"}},{key:"_isAllowedPlatform",value:function(){return!this.getAttribute("platform")||this.getAttribute("platform").split(/\s+/).indexOf(S.getMobileOS())>=0}},{key:"_onOrientationChange",value:function(){if(this.hasAttribute("orientation")&&this._isAllowedPlatform()){var t=this.getAttribute("orientation").toLowerCase(),e=U.isPortrait()?"portrait":"landscape";this.style.display=t===e?"":"none"}}}],[{key:"observedAttributes",get:function(){return["orientation"]}}]),n}(ft);customElements.define("ons-if",mt);var gt=function(){function e(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],i=n.timing,r=void 0===i?"linear":i,a=n.delay,o=void 0===a?0:a,s=n.duration,l=void 0===s?.2:s;t.classCallCheck(this,e),this.timing=r,this.delay=o,this.duration=l}return t.createClass(e,[{key:"show",value:function(t,e){e()}},{key:"hide",value:function(t,e){e()}}]),e}(),vt=function(e){function n(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],i=e.timing,r=void 0===i?"cubic-bezier(.1, .7, .4, 1)":i,a=e.duration,o=void 0===a?.2:a,s=e.delay,l=void 0===s?0:s;return t.classCallCheck(this,n),t.possibleConstructorReturn(this,Object.getPrototypeOf(n).call(this,{duration:o,timing:r,delay:l}))}return t.inherits(n,e),t.createClass(n,[{key:"show",value:function(t,e){e=e||function(){},animit.runAll(animit(t._mask).queue({opacity:0}).wait(this.delay).queue({opacity:1},{duration:this.duration,timing:this.timing}),animit(t._dialog).saveStyle().queue({css:{transform:"translate3d(-50%, -50%, 0) scale3d(0.9, 0.9, 1.0)",opacity:0},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(-50%, -50%, 0) scale3d(1.0, 1.0, 1.0)",opacity:1},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){e(),t()}))}},{key:"hide",value:function(t,e){e=e||function(){},animit.runAll(animit(t._mask).queue({opacity:1}).wait(this.delay).queue({opacity:0},{duration:this.duration,timing:this.timing}),animit(t._dialog).saveStyle().queue({css:{transform:"translate3d(-50%, -50%, 0) scale3d(1.0, 1.0, 1.0)",opacity:1},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(-50%, -50%, 0) scale3d(0.9, 0.9, 1.0)",opacity:0},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){e(),t()}))}}]),n}(gt),_t=function(e){function n(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],i=e.timing,r=void 0===i?"cubic-bezier(.1, .7, .4, 1)":i,a=e.duration,o=void 0===a?.2:a,s=e.delay,l=void 0===s?0:s;return t.classCallCheck(this,n),t.possibleConstructorReturn(this,Object.getPrototypeOf(n).call(this,{duration:o,timing:r,delay:l}))}return t.inherits(n,e),t.createClass(n,[{key:"show",value:function(t,e){e=e||function(){},animit.runAll(animit(t._mask).queue({opacity:0}).wait(this.delay).queue({opacity:1},{duration:this.duration,timing:this.timing}),animit(t._dialog).saveStyle().queue({css:{transform:"translate3d(-50%, -50%, 0) scale3d(1.3, 1.3, 1.0)",opacity:0},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(-50%, -50%, 0) scale3d(1.0, 1.0, 1.0)",opacity:1},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){e(),t()}))}},{key:"hide",value:function(t,e){e=e||function(){},animit.runAll(animit(t._mask).queue({opacity:1}).wait(this.delay).queue({opacity:0},{duration:this.duration,timing:this.timing}),animit(t._dialog).saveStyle().queue({css:{opacity:1},duration:0}).wait(this.delay).queue({css:{opacity:0},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){e(),t()}))}}]),n}(gt),bt={".alert-dialog":"alert-dialog--*",".alert-dialog-container":"alert-dialog-container--*",".alert-dialog-title":"alert-dialog-title--*",".alert-dialog-content":"alert-dialog-content--*",".alert-dialog-footer":"alert-dialog-footer--*",".alert-dialog-button":"alert-dialog-button--*",".alert-dialog-footer--one":"alert-dialog-footer--one--*",".alert-dialog-button--one":"alert-dialog-button--one--*",".alert-dialog-button--primal":"alert-dialog-button--primal--*",".alert-dialog-mask":"alert-dialog-mask--*",".text-input":"text-input--*"},yt={none:gt,default:function(){return S.isAndroid()?vt:_t},fade:function(){return S.isAndroid()?vt:_t}},kt=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,Object.getPrototypeOf(n).apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"init",value:function(){var t=this;I(this,function(){return t._compile()}),this._visible=!1,this._doorLock=new ot,this._boundCancel=this._cancel.bind(this),this._updateAnimatorFactory()}},{key:"_updateAnimatorFactory",value:function(){this._animatorFactory=new R({animators:yt,baseClass:gt,baseClassName:"AlertDialogAnimator",defaultAnimation:this.getAttribute("animation")})}},{key:"_compile",value:function(){rt.prepare(this),this.style.display="none";var t=document.createDocumentFragment();if(!this._mask&&!this._dialog)for(;this.firstChild;)t.appendChild(this.firstChild);if(!this._mask){var e=document.createElement("div");e.classList.add("alert-dialog-mask"),this.insertBefore(e,this.children[0])}if(!this._dialog){var n=document.createElement("div");n.classList.add("alert-dialog"),this.insertBefore(n,null)}if(!p.findChild(this._dialog,".alert-dialog-container")){var i=document.createElement("div");i.classList.add("alert-dialog-container"),this._dialog.appendChild(i)}this._dialog.children[0].appendChild(t),this._dialog.style.zIndex=20001,this._mask.style.zIndex=2e4,this.getAttribute("mask-color")&&(this._mask.style.backgroundColor=this.getAttribute("mask-color")),F.initModifier(this,bt)}},{key:"show",value:function(){var e=this,n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],i=!1,r=n.callback||function(){};if(n.animationOptions=p.extend(n.animationOptions||{},R.parseAnimationOptionsString(this.getAttribute("animation-options"))),p.triggerElementEvent(this,"preshow",{alertDialog:this,cancel:function(){i=!0}}),i)return Promise.reject("Canceled in preshow event.");var a={v:new Promise(function(t){e._doorLock.waitUnlock(function(){return t((i=e._doorLock.lock(),a=e._animatorFactory.newAnimator(n),e.style.display="block",e._mask.style.opacity="1",new Promise(function(t){I(e,function(){a.show(e,function(){e._visible=!0,i(),p.triggerElementEvent(e,"postshow",{alertDialog:e}),r(),t(e)})})})));var i,a})})};return"object"===(void 0===a?"undefined":t.typeof(a))?a.v:void 0}},{key:"hide",value:function(){var e=this,n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],i=!1,r=n.callback||function(){};if(n.animationOptions=p.extend(n.animationOptions||{},R.parseAnimationOptionsString(this.getAttribute("animation-options"))),p.triggerElementEvent(this,"prehide",{alertDialog:this,cancel:function(){i=!0}}),i)return Promise.reject("Canceled in prehide event.");var a={v:new Promise(function(t){e._doorLock.waitUnlock(function(){return t((i=e._doorLock.lock(),a=e._animatorFactory.newAnimator(n),new Promise(function(t){I(e,function(){a.hide(e,function(){e.style.display="none",e._visible=!1,i(),p.triggerElementEvent(e,"posthide",{alertDialog:e}),r(),t(e)})})})));var i,a})})};return"object"===(void 0===a?"undefined":t.typeof(a))?a.v:void 0}},{key:"_cancel",value:function(){var t=this;this.cancelable&&!this._running&&(this._running=!0,this.hide({callback:function(){t._running=!1,p.triggerElementEvent(t,"dialog-cancel")}}))}},{key:"connectedCallback",value:function(){var t=this;this.onDeviceBackButton=function(e){return t.cancelable?t._cancel():e.callParentHandler()},I(this,function(){t._mask.addEventListener("click",t._boundCancel,!1)})}},{key:"disconnectedCallback",value:function(){this._backButtonHandler.destroy(),this._backButtonHandler=null,this._mask.removeEventListener("click",this._boundCancel.bind(this),!1)}},{key:"attributeChangedCallback",value:function(t,e,n){if("modifier"===t)return F.onModifierChanged(e,n,this,bt);"animation"===t&&this._updateAnimatorFactory()}},{key:"_mask",get:function(){return p.findChild(this,".alert-dialog-mask")}},{key:"_dialog",get:function(){return p.findChild(this,".alert-dialog")}},{key:"_titleElement",get:function(){return p.findChild(this._dialog.children[0],".alert-dialog-title")}},{key:"_contentElement",get:function(){return p.findChild(this._dialog.children[0],".alert-dialog-content")}},{key:"disabled",set:function(t){return p.toggleAttribute(this,"disabled",t)},get:function(){return this.hasAttribute("disabled")}},{key:"cancelable",set:function(t){return p.toggleAttribute(this,"cancelable",t)},get:function(){return this.hasAttribute("cancelable")}},{key:"visible",get:function(){return this._visible}},{key:"onDeviceBackButton",get:function(){return this._backButtonHandler},set:function(t){this._backButtonHandler&&this._backButtonHandler.destroy(),this._backButtonHandler=J.createHandler(this,t)}}],[{key:"registerAnimator",value:function(t,e){if(!(e.prototype instanceof gt))throw new Error('"Animator" param must inherit OnsAlertDialogElement.AlertDialogAnimator');yt[t]=e}},{key:"observedAttributes",get:function(){return["modifier","animation"]}},{key:"AlertDialogAnimator",get:function(){return gt}}]),n}(ft);customElements.define("ons-alert-dialog",kt);var Et={"":"back-button--*",".back-button__icon":"back-button--*__icon",".back-button__label":"back-button--*__label"},Ct=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,Object.getPrototypeOf(n).apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"init",value:function(){var t=this;I(this,function(){t._compile()}),this._options={},this._boundOnClick=this._onClick.bind(this)}},{key:"_compile",value:function(){if(rt.prepare(this),this.classList.add("back-button"),!p.findChild(this,".back-button__label")){for(var t=p.create("span.back-button__label");this.childNodes[0];)t.appendChild(this.childNodes[0]);this.appendChild(t)}if(!p.findChild(this,".back-button__icon")){var e=p.create("span.back-button__icon");this.insertBefore(e,this.children[0])}F.initModifier(this,Et)}},{key:"_onClick",value:function(){if(this.onClick)this.onClick.apply(this);else{var t=p.findParent(this,"ons-navigator");t&&t.popPage(this.options)}}},{key:"connectedCallback",value:function(){this.addEventListener("click",this._boundOnClick,!1)}},{key:"attributeChangedCallback",value:function(t,e,n){if("modifier"===t)return F.onModifierChanged(e,n,this,Et)}},{key:"disconnectedCallback",value:function(){this.removeEventListener("click",this._boundOnClick,!1)}},{key:"show",value:function(){this.style.display="inline-block"}},{key:"hide",value:function(){this.style.display="none"}},{key:"options",get:function(){return this._options},set:function(t){this._options=t}}],[{key:"observedAttributes",get:function(){return["modifier"]}}]),n}(ft);customElements.define("ons-back-button",Ct);var wt={"":"bottom-bar--*"},At=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,Object.getPrototypeOf(n).apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"init",value:function(){this.classList.add("bottom-bar"),F.initModifier(this,wt)}},{key:"connectedCallback",value:function(){p.match(this.parentNode,"ons-page")&&this.parentNode.classList.add("page-with-bottom-toolbar")}},{key:"attributeChangedCallback",value:function(t,e,n){"modifier"===t&&F.onModifierChanged(e,n,this,wt)}}],[{key:"observedAttributes",get:function(){return["modifier"]}}]),n}(ft);customElements.define("ons-bottom-toolbar",At);var Lt={"":"button--*"},Tt=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,Object.getPrototypeOf(n).apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"init",value:function(){this._compile()}},{key:"attributeChangedCallback",value:function(t,e,n){switch(t){case"modifier":F.onModifierChanged(e,n,this,Lt);break;case"ripple":this._updateRipple()}}},{key:"_compile",value:function(){rt.prepare(this),this.classList.add("button"),this._updateRipple(),F.initModifier(this,Lt)}},{key:"_updateRipple",value:function(){p.updateRipple(this)}},{key:"disabled",set:function(t){return p.toggleAttribute(this,"disabled",t)},get:function(){return this.hasAttribute("disabled")}}],[{key:"observedAttributes",get:function(){return["modifier","ripple"]}}]),n}(ft);customElements.define("ons-button",Tt);var Ot={"":"carousel-item--*"},St=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,Object.getPrototypeOf(n).apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"init",value:function(){this.style.width="100%",F.initModifier(this,Ot)}},{key:"attributeChangedCallback",value:function(t,e,n){if("modifier"===t)return F.onModifierChanged(e,n,this,Ot)}}],[{key:"observedAttributes",get:function(){return["modifier"]}}]),n}(ft);customElements.define("ons-carousel-item",St);var Pt={_getScrollDelta:function(t){return t.gesture.deltaY},_getScrollVelocity:function(t){return t.gesture.velocityY},_getElementSize:function(){return this._currentElementSize||(this._currentElementSize=this.getBoundingClientRect().height),this._currentElementSize},_generateScrollTransform:function(t){return"translate3d(0px, "+-t+"px, 0px)"},_updateDimensionData:function(){this._style=window.getComputedStyle(this),this._dimensions=this.getBoundingClientRect()},_updateOffset:function(){if(this.centered){var t=(this._dimensions.height||0)-parseInt(this._style.paddingTop,10)-parseInt(this._style.paddingBottom,10);this._offset=-(t-this._getCarouselItemSize())/2}},_layoutCarouselItems:function(){for(var t=this._getCarouselItemElements(),e=this._getCarouselItemSizeAttr(),n=this._decomposeSizeString(e),i=0;i<t.length;i++)t[i].style.position="absolute",t[i].style.height=e,t[i].style.visibility="visible",t[i].style.top=i*n.number+n.unit},_setup:function(){this._updateDimensionData(),this._updateOffset(),this._layoutCarouselItems()}},Mt={_getScrollDelta:function(t){return t.gesture.deltaX},_getScrollVelocity:function(t){return t.gesture.velocityX},_getElementSize:function(){return this._currentElementSize||(this._currentElementSize=this.getBoundingClientRect().width),this._currentElementSize},_generateScrollTransform:function(t){return"translate3d("+-t+"px, 0px, 0px)"},_updateDimensionData:function(){this._style=window.getComputedStyle(this),this._dimensions=this.getBoundingClientRect()},_updateOffset:function(){if(this.centered){var t=(this._dimensions.width||0)-parseInt(this._style.paddingLeft,10)-parseInt(this._style.paddingRight,10);this._offset=-(t-this._getCarouselItemSize())/2}},_layoutCarouselItems:function(){for(var t=this._getCarouselItemElements(),e=this._getCarouselItemSizeAttr(),n=this._decomposeSizeString(e),i=0;i<t.length;i++)t[i].style.position="absolute",t[i].style.width=e,t[i].style.visibility="visible",t[i].style.left=i*n.number+n.unit},_setup:function(){this._updateDimensionData(),this._updateOffset(),this._layoutCarouselItems()}},Dt=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,Object.getPrototypeOf(n).apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"init",value:function(){this._doorLock=new ot,this._scroll=0,this._offset=0,this._lastActiveIndex=0,this._boundOnDrag=this._onDrag.bind(this),this._boundOnDragEnd=this._onDragEnd.bind(this),this._boundOnResize=this._onResize.bind(this),this._mixin(this._isVertical()?Pt:Mt)}},{key:"_onResize",value:function(){var t=this._scroll/this._currentElementSize;delete this._currentElementSize,this.setActiveIndex(t)}},{key:"_onDirectionChange",value:function(){this._isVertical()?(this.style.overflowX="auto",this.style.overflowY=""):(this.style.overflowX="",this.style.overflowY="auto"),this.refresh()}},{key:"_saveLastState",value:function(){this._lastState={elementSize:this._getCarouselItemSize(),carouselElementCount:this.itemCount,width:this._getCarouselItemSize()*this.itemCount}}},{key:"_getCarouselItemSize",value:function(){var t=this._getCarouselItemSizeAttr(),e=this._decomposeSizeString(t),n=this._getElementSize();if("%"===e.unit)return Math.round(e.number/100*n);if("px"===e.unit)return e.number;throw new Error("Invalid state")}},{key:"_getInitialIndex",value:function(){var t=parseInt(this.getAttribute("initial-index"),10);return"number"!=typeof t||isNaN(t)?0:Math.max(Math.min(t,this.itemCount-1),0)}},{key:"_getCarouselItemSizeAttr",value:function(){var t="item-"+(this._isVertical()?"height":"width"),e=(""+this.getAttribute(t)).trim();return e.match(/^\d+(px|%)$/)?e:"100%"}},{key:"_decomposeSizeString",value:function(t){var e=t.match(/^(\d+)(px|%)/);return{number:parseInt(e[1],10),unit:e[2]}}},{key:"_setupInitialIndex",value:function(){this._scroll=(this._offset||0)+this._getCarouselItemSize()*this._getInitialIndex(),this._lastActiveIndex=this._getInitialIndex(),this._scrollTo(this._scroll)}},{key:"setActiveIndex",value:function(e){var n=this,i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(i&&"object"!=(void 0===i?"undefined":t.typeof(i)))throw new Error("options must be an object. You supplied "+i);i.animationOptions=p.extend({duration:.3,timing:"cubic-bezier(.1, .7, .1, 1)"},i.animationOptions||{},this.hasAttribute("animation-options")?p.animationOptionsParse(this.getAttribute("animation-options")):{}),e=Math.max(0,Math.min(e,this.itemCount-1));var r=(this._offset||0)+this._getCarouselItemSize()*e,a=this._calculateMaxScroll();return this._scroll=Math.max(0,Math.min(a,r)),this._scrollTo(this._scroll,i).then(function(){return n._tryFirePostChangeEvent(),n})}},{key:"getActiveIndex",value:function(){var t=this._scroll-(this._offset||0),e=this.itemCount,n=this._getCarouselItemSize();if(t<0)return 0;var i=void 0;for(i=0;i<e;i++)if(n*i<=t&&n*(i+1)>t)return i;return i}},{key:"next",value:function(t){return this.setActiveIndex(this.getActiveIndex()+1,t)}},{key:"prev",value:function(t){return this.setActiveIndex(this.getActiveIndex()-1,t)}},{key:"_isEnabledChangeEvent",value:function(){var t=this._getElementSize(),e=this._getCarouselItemSize();return this.autoScroll&&Math.abs(t-e)<.5}},{key:"_isVertical",value:function(){return"vertical"===this.getAttribute("direction")}},{key:"_prepareEventListeners",value:function(){var t=this;this._gestureDetector=new m(this,{dragMinDistance:1,dragLockToAxis:!0}),this._mutationObserver=new MutationObserver(function(){return t.refresh()}),this._updateSwipeable(),this._updateAutoRefresh(),window.addEventListener("resize",this._boundOnResize,!0)}},{key:"_removeEventListeners",value:function(){this._gestureDetector.dispose(),this._gestureDetector=null,this._mutationObserver.disconnect(),this._mutationObserver=null,window.removeEventListener("resize",this._boundOnResize,!0)}},{key:"_updateSwipeable",value:function(){this._gestureDetector&&(this.swipeable?(this._gestureDetector.on("drag dragleft dragright dragup dragdown swipe swipeleft swiperight swipeup swipedown",this._boundOnDrag),this._gestureDetector.on("dragend",this._boundOnDragEnd)):(this._gestureDetector.off("drag dragleft dragright dragup dragdown swipe swipeleft swiperight swipeup swipedown",this._boundOnDrag),this._gestureDetector.off("dragend",this._boundOnDragEnd)))}},{key:"_updateAutoRefresh",value:function(){this._mutationObserver&&(this.hasAttribute("auto-refresh")?this._mutationObserver.observe(this,{childList:!0}):this._mutationObserver.disconnect())}},{key:"_tryFirePostChangeEvent",value:function(){var t=this.getActiveIndex();if(this._lastActiveIndex!==t){var e=this._lastActiveIndex;this._lastActiveIndex=t,p.triggerElementEvent(this,"postchange",{carousel:this,activeIndex:t,lastActiveIndex:e})}}},{key:"_isWrongDirection",value:function(t){return this._isVertical()?"left"===t||"right"===t:"up"===t||"down"===t}},{key:"_onDrag",value:function(t){if(!this._isWrongDirection(t.gesture.direction)){t.stopPropagation(),this._lastDragEvent=t;var e=this._scroll-this._getScrollDelta(t);this._scrollTo(e),t.gesture.preventDefault(),this._tryFirePostChangeEvent()}}},{key:"_onDragEnd",value:function(t){var e=this;if(this._lastDragEvent){if(this._currentElementSize=void 0,this._scroll=this._scroll-this._getScrollDelta(t),this._isOverScroll(this._scroll)){var n=!1;p.triggerElementEvent(this,"overscroll",{carousel:this,activeIndex:this.getActiveIndex(),direction:this._getOverScrollDirection(),waitToReturn:function(t){n=!0,t.then(function(){return e._scrollToKillOverScroll()})}}),n||this._scrollToKillOverScroll()}else this._startMomentumScroll();this._lastDragEvent=null,t.gesture.preventDefault()}}},{key:"_mixin",value:function(t){Object.keys(t).forEach(function(e){this[e]=t[e]}.bind(this))}},{key:"_startMomentumScroll",value:function(){if(this._lastDragEvent){var t=30*this._getScrollVelocity(this._lastDragEvent),e=this._normalizeScrollPosition(this._scroll+(this._getScrollDelta(this._lastDragEvent)>0?-t:t));this._scroll=e,animit(this._getCarouselItemElements()).queue({transform:this._generateScrollTransform(this._scroll)},{duration:.3,timing:"cubic-bezier(.1, .7, .1, 1)"}).queue(function(t){t(),this._tryFirePostChangeEvent()}.bind(this)).play()}}},{key:"_normalizeScrollPosition",value:function(t){var e=this._calculateMaxScroll();if(!this.autoScroll)return Math.max(0,Math.min(e,t));for(var n=[],i=this._getCarouselItemSize(),r=this.itemCount,a=0;a<r;a++)a*i+this._offset<e&&n.push(a*i+this._offset);n.push(e),n.sort(function(e,n){return(e=Math.abs(e-t))-(n=Math.abs(n-t))}),n=n.filter(function(t,e){return!e||t!=n[e-1]});var o=this._lastActiveIndex*i+this._offset,s=Math.abs(t-o)/i,l=n[0];return s<=this.autoScrollRatio?l=o:s<1&&n[0]===o&&n.length>1&&(l=n[1]),Math.max(0,Math.min(e,l))}},{key:"_getCarouselItemElements",value:function(){return p.arrayFrom(this.children).filter(function(t){return"ons-carousel-item"===t.nodeName.toLowerCase()})}},{key:"_scrollTo",value:function(t){var e=this,n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=this.overscrollable;return new Promise(function(r){animit(e._getCarouselItemElements()).queue({transform:e._generateScrollTransform(function(t){if(t<0)return i?Math.round(.35*t):0;var n=e._calculateMaxScroll();return n<t?i?n+Math.round(.35*(t-n)):n:t}(t))},"none"!==n.animation?n.animationOptions:{}).play(function(){n.callback instanceof Function&&n.callback(),r()})})}},{key:"_calculateMaxScroll",value:function(){var t=this.itemCount*this._getCarouselItemSize()-this._getElementSize();return Math.ceil(t<0?0:t)}},{key:"_isOverScroll",value:function(t){return t<0||t>this._calculateMaxScroll()}},{key:"_getOverScrollDirection",value:function(){return this._isVertical()?this._scroll<=0?"up":"down":this._scroll<=0?"left":"right"}},{key:"_scrollToKillOverScroll",value:function(){if(this._scroll<0)return animit(this._getCarouselItemElements()).queue({transform:this._generateScrollTransform(0)},{duration:.4,timing:"cubic-bezier(.1, .4, .1, 1)"}).queue(function(t){t(),this._tryFirePostChangeEvent()}.bind(this)).play(),void(this._scroll=0);var t=this._calculateMaxScroll();return t<this._scroll?(animit(this._getCarouselItemElements()).queue({transform:this._generateScrollTransform(t)},{duration:.4,timing:"cubic-bezier(.1, .4, .1, 1)"}).queue(function(t){t(),this._tryFirePostChangeEvent()}.bind(this)).play(),void(this._scroll=t)):void 0}},{key:"refresh",value:function(){if(0!==this._getCarouselItemSize()){if(this._mixin(this._isVertical()?Pt:Mt),this._setup(),this._lastState&&this._lastState.width>0){var t=this._scroll;this._isOverScroll(t)?this._scrollToKillOverScroll():(this.autoScroll&&(t=this._normalizeScrollPosition(t)),this._scrollTo(t))}this._saveLastState(),p.triggerElementEvent(this,"refresh",{carousel:this})}}},{key:"first",value:function(t){return this.setActiveIndex(0,t)}},{key:"last",value:function(t){this.setActiveIndex(Math.max(this.itemCount-1,0),t)}},{key:"connectedCallback",value:function(){var t=this;this._prepareEventListeners(),this._setup(),this._setupInitialIndex(),this._saveLastState(),0===this.offsetHeight&&setImmediate(function(){return t.refresh()})}},{key:"attributeChangedCallback",value:function(t,e,n){switch(t){case"swipeable":this._updateSwipeable();break;case"auto-refresh":this._updateAutoRefresh();break;case"direction":this._onDirectionChange()}}},{key:"disconnectedCallback",value:function(){this._removeEventListeners()}},{key:"itemCount",get:function(){return this._getCarouselItemElements().length}},{key:"autoScrollRatio",get:function(){var t=this.getAttribute("auto-scroll-ratio");if(!t)return.5;var e=parseFloat(t);if(e<0||e>1)throw new Error("Invalid ratio.");return isNaN(e)?.5:e},set:function(t){if(t<0||t>1)throw new Error("Invalid ratio.");this.setAttribute("auto-scroll-ratio",t)}},{key:"swipeable",get:function(){return this.hasAttribute("swipeable")},set:function(t){return p.toggleAttribute(this,"swipeable",t)}},{key:"autoScroll",get:function(){return this.hasAttribute("auto-scroll")},set:function(t){return p.toggleAttribute(this,"auto-scroll",t)}},{key:"disabled",get:function(){return this.hasAttribute("disabled")},set:function(t){return p.toggleAttribute(this,"disabled",t)}},{key:"overscrollable",get:function(){return this.hasAttribute("overscrollable")},set:function(t){return p.toggleAttribute(this,"overscrollable",t)}},{key:"centered",get:function(){return this.hasAttribute("centered")},set:function(t){return p.toggleAttribute(this,"centered",t)}}],[{key:"observedAttributes",get:function(){return["swipeable","auto-refresh","direction"]}}]),n}(ft);customElements.define("ons-carousel",Dt);var xt=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,Object.getPrototypeOf(n).apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"init",value:function(){this.getAttribute("width")&&this._updateWidth()}},{key:"attributeChangedCallback",value:function(t,e,n){"width"===t&&this._updateWidth()}},{key:"_updateWidth",value:function(){var t=this.getAttribute("width");"string"==typeof t&&(t=(t=(""+t).trim()).match(/^\d+$/)?t+"%":t,this.style.webkitBoxFlex="0",this.style.webkitFlex="0 0 "+t,this.style.mozBoxFlex="0",this.style.mozFlex="0 0 "+t,this.style.msFlex="0 0 "+t,this.style.flex="0 0 "+t,this.style.maxWidth=t)}}],[{key:"observedAttributes",get:function(){return["width"]}}]),n}(ft);customElements.define("ons-col",xt);var It=function(){function e(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],i=n.timing,r=void 0===i?"linear":i,a=n.delay,o=void 0===a?0:a,s=n.duration,l=void 0===s?.2:s;t.classCallCheck(this,e),this.timing=r,this.delay=o,this.duration=l}return t.createClass(e,[{key:"show",value:function(t,e){e()}},{key:"hide",value:function(t,e){e()}}]),e}(),Ht=function(e){function n(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],i=e.timing,r=void 0===i?"ease-in-out":i,a=e.delay,o=void 0===a?0:a,s=e.duration,l=void 0===s?.3:s;return t.classCallCheck(this,n),t.possibleConstructorReturn(this,Object.getPrototypeOf(n).call(this,{timing:r,delay:o,duration:l}))}return t.inherits(n,e),t.createClass(n,[{key:"show",value:function(t,e){e=e||function(){},animit.runAll(animit(t._mask).queue({opacity:0}).wait(this.delay).queue({opacity:1},{duration:this.duration,timing:this.timing}),animit(t._dialog).saveStyle().queue({css:{transform:"translate3d(-50%, -60%, 0)",opacity:0},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(-50%, -50%, 0)",opacity:1},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){e(),t()}))}},{key:"hide",value:function(t,e){e=e||function(){},animit.runAll(animit(t._mask).queue({opacity:1}).wait(this.delay).queue({opacity:0},{duration:this.duration,timing:this.timing}),animit(t._dialog).saveStyle().queue({css:{transform:"translate3d(-50%, -50%, 0)",opacity:1},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(-50%, -60%, 0)",opacity:0},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){e(),t()}))}}]),n}(It),Nt=function(e){function n(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],i=e.timing,r=void 0===i?"ease-in-out":i,a=e.delay,o=void 0===a?0:a,s=e.duration,l=void 0===s?.3:s;return t.classCallCheck(this,n),t.possibleConstructorReturn(this,Object.getPrototypeOf(n).call(this,{timing:r,delay:o,duration:l}))}return t.inherits(n,e),t.createClass(n,[{key:"show",value:function(t,e){e=e||function(){},animit.runAll(animit(t._mask).queue({opacity:0}).wait(this.delay).queue({opacity:1},{duration:this.duration,timing:this.timing}),animit(t._dialog).saveStyle().queue({css:{transform:"translate3d(-50%, 300%, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(-50%, -50%, 0)"},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){e(),t()}))}},{key:"hide",value:function(t,e){e=e||function(){},animit.runAll(animit(t._mask).queue({opacity:1}).wait(this.delay).queue({opacity:0},{duration:this.duration,timing:this.timing}),animit(t._dialog).saveStyle().queue({css:{transform:"translate3d(-50%, -50%, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(-50%, 300%, 0)"},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){e(),t()}))}}]),n}(It),qt=function(e){function n(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],i=e.timing,r=void 0===i?"cubic-bezier(.1, .7, .4, 1)":i,a=e.delay,o=void 0===a?0:a,s=e.duration,l=void 0===s?.2:s;return t.classCallCheck(this,n),t.possibleConstructorReturn(this,Object.getPrototypeOf(n).call(this,{timing:r,delay:o,duration:l}))}return t.inherits(n,e),t.createClass(n,[{key:"show",value:function(t,e){e=e||function(){},animit.runAll(animit(t._mask).queue({opacity:0}).wait(this.delay).queue({opacity:1},{duration:this.duration,timing:this.timing}),animit(t._dialog).saveStyle().queue({css:{transform:"translate3D(-50%, -350%, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(-50%, -50%, 0)"},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){e(),t()}))}},{key:"hide",value:function(t,e){e=e||function(){},animit.runAll(animit(t._mask).queue({opacity:1}).wait(this.delay).queue({opacity:0},{duration:this.duration,timing:this.timing}),animit(t._dialog).saveStyle().queue({css:{transform:"translate3D(-50%, -50%, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(-50%, -350%, 0)"},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){e(),t()}))}}]),n}(It),Bt={".dialog":"dialog--*",".dialog-container":"dialog-container--*",".dialog-mask":"dialog-mask--*"},Rt={default:function(){return S.isAndroid()?Ht:Nt},slide:qt,none:It},Ft=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,Object.getPrototypeOf(n).apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"init",value:function(){var t=this;I(this,function(){return t._compile()}),this._visible=!1,this._doorLock=new ot,this._boundCancel=this._cancel.bind(this),this._updateAnimatorFactory()}},{key:"_updateAnimatorFactory",value:function(){this._animatorFactory=new R({animators:Rt,baseClass:It,baseClassName:"DialogAnimator",defaultAnimation:this.getAttribute("animation")})}},{key:"_compile",value:function(){if(rt.prepare(this),this.style.display="none",!this._dialog){var t=document.createElement("div");t.classList.add("dialog");var e=document.createElement("div");for(t.classList.add("dialog-container"),t.appendChild(e);this.firstChild;)e.appendChild(this.firstChild);this.appendChild(t)}if(!this._mask){var n=document.createElement("div");n.classList.add("dialog-mask"),this.insertBefore(n,this.firstChild)}this._dialog.style.zIndex=20001,this._mask.style.zIndex=2e4,this.setAttribute("status-bar-fill",""),F.initModifier(this,Bt)}},{key:"_cancel",value:function(){var t=this;this.cancelable&&!this._running&&(this._running=!0,this.hide({callback:function(){t._running=!1,p.triggerElementEvent(t,"dialog-cancel")}}))}},{key:"show",value:function(){var e=this,n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],i=!1,r=n.callback||function(){};if(n.animationOptions=p.extend(n.animationOptions||{},R.parseAnimationOptionsString(this.getAttribute("animation-options"))),p.triggerElementEvent(this,"preshow",{dialog:this,cancel:function(){i=!0}}),i)return Promise.reject("Canceled in preshow event.");var a={v:new Promise(function(t){e._doorLock.waitUnlock(function(){return t((i=e._doorLock.lock(),a=e._animatorFactory.newAnimator(n),e.style.display="block",e._mask.style.opacity="1",new Promise(function(t){I(e,function(){a.show(e,function(){e._visible=!0,i(),p.triggerElementEvent(e,"postshow",{dialog:e}),r(),t(e)})})})));var i,a})})};return"object"===(void 0===a?"undefined":t.typeof(a))?a.v:void 0}},{key:"hide",value:function(){var e=this,n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],i=!1,r=n.callback||function(){};if(n.animationOptions=p.extend(n.animationOptions||{},R.parseAnimationOptionsString(this.getAttribute("animation-options"))),p.triggerElementEvent(this,"prehide",{dialog:this,cancel:function(){i=!0}}),i)return Promise.reject("Canceled in prehide event.");var a={v:new Promise(function(t){e._doorLock.waitUnlock(function(){return t((i=e._doorLock.lock(),a=e._animatorFactory.newAnimator(n),new Promise(function(t){I(e,function(){a.hide(e,function(){e.style.display="none",e._visible=!1,i(),p.triggerElementEvent(e,"posthide",{dialog:e}),r(),t(e)})})})));var i,a})})};return"object"===(void 0===a?"undefined":t.typeof(a))?a.v:void 0}},{key:"connectedCallback",value:function(){var t=this;this.onDeviceBackButton=function(e){return t.cancelable?t._cancel():e.callParentHandler()},I(this,function(){t._mask.addEventListener("click",t._boundCancel,!1)})}},{key:"disconnectedCallback",value:function(){this._backButtonHandler.destroy(),this._backButtonHandler=null,this._mask.removeEventListener("click",this._boundCancel.bind(this),!1)}},{key:"attributeChangedCallback",value:function(t,e,n){if("modifier"===t)return F.onModifierChanged(e,n,this,Bt);"animation"===t&&this._updateAnimatorFactory()}},{key:"_mask",get:function(){return p.findChild(this,".dialog-mask")}},{key:"_dialog",get:function(){return p.findChild(this,".dialog")}},{key:"onDeviceBackButton",get:function(){return this._backButtonHandler},set:function(t){this._backButtonHandler&&this._backButtonHandler.destroy(),this._backButtonHandler=J.createHandler(this,t)}},{key:"visible",get:function(){return this._visible}},{key:"disabled",set:function(t){return p.toggleAttribute(this,"disabled",t)},get:function(){return this.hasAttribute("disabled")}},{key:"cancelable",set:function(t){return p.toggleAttribute(this,"cancelable",t)},get:function(){return this.hasAttribute("cancelable")}}],[{key:"registerAnimator",value:function(t,e){if(!(e.prototype instanceof It))throw new Error('"Animator" param must inherit OnsDialogElement.DialogAnimator');Rt[t]=e}},{key:"observedAttributes",get:function(){return["modifier","animation"]}},{key:"DialogAnimator",get:function(){return It}}]),n}(ft);customElements.define("ons-dialog",Ft);var jt={"":"fab--*"},zt=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,Object.getPrototypeOf(n).apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"init",value:function(){var t=this;I(this,function(){t._compile()})}},{key:"_compile",value:function(){var t,e=this;rt.prepare(this),this.classList.add("fab"),p.findChild(this,".fab__icon")||((t=document.createElement("span")).classList.add("fab__icon"),p.arrayFrom(e.childNodes).forEach(function(e){e.tagName&&"ons-ripple"===e.tagName.toLowerCase()||t.appendChild(e)}),e.appendChild(t)),this._updateRipple(),F.initModifier(this,jt),this._updatePosition(),this.show()}},{key:"attributeChangedCallback",value:function(t,e,n){switch(t){case"modifier":F.onModifierChanged(e,n,this,jt);break;case"ripple":this._updateRipple();break;case"position":this._updatePosition()}}},{key:"_show",value:function(){this.show()}},{key:"_hide",value:function(){this.hide()}},{key:"_updateRipple",value:function(){p.updateRipple(this)}},{key:"_updatePosition",value:function(){var t=this.getAttribute("position");switch(this.classList.remove("fab--top__left","fab--bottom__right","fab--bottom__left","fab--top__right","fab--top__center","fab--bottom__center"),t){case"top right":case"right top":this.classList.add("fab--top__right");break;case"top left":case"left top":this.classList.add("fab--top__left");break;case"bottom right":case"right bottom":this.classList.add("fab--bottom__right");break;case"bottom left":case"left bottom":this.classList.add("fab--bottom__left");break;case"center top":case"top center":this.classList.add("fab--top__center");break;case"center bottom":case"bottom center":this.classList.add("fab--bottom__center")}}},{key:"show",value:function(){arguments.length<=0||void 0===arguments[0]||arguments[0];this.style.transform="scale(1)",this.style.webkitTransform="scale(1)"}},{key:"hide",value:function(){arguments.length<=0||void 0===arguments[0]||arguments[0];this.style.transform="scale(0)",this.style.webkitTransform="scale(0)"}},{key:"toggle",value:function(){this.visible?this.hide():this.show()}},{key:"disabled",set:function(t){return p.toggleAttribute(this,"disabled",t)},get:function(){return this.hasAttribute("disabled")}},{key:"visible",get:function(){return"scale(1)"===this.style.transform&&"none"!==this.style.display}}],[{key:"observedAttributes",get:function(){return["modifier","ripple","position"]}}]),n}(ft);customElements.define("ons-fab",zt);var Vt=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,Object.getPrototypeOf(n).apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"init",value:function(){this._gestureDetector=new m(this)}}]),n}(ft);customElements.define("ons-gesture-detector",Vt);var Ut=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,Object.getPrototypeOf(n).apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"init",value:function(){this._compile()}},{key:"attributeChangedCallback",value:function(t,e,n){-1!==["icon","size","modifier"].indexOf(t)&&this._update()}},{key:"_compile",value:function(){rt.prepare(this),this._update()}},{key:"_update",value:function(){var t=this;this._cleanClassAttribute();var e=this._buildClassAndStyle(this._getAttribute("icon"),this._getAttribute("size")),n=e.classList,i=e.style;p.extend(this.style,i),n.forEach(function(e){return t.classList.add(e)})}},{key:"_getAttribute",value:function(t){var e=(this.getAttribute(t)||"").split(/\s*,\s*/),n=e[0],i=e[1];return i=(i||"").split(/\s*:\s*/),(p.hasModifier(this,i[0])?i[1]:n)||""}},{key:"_cleanClassAttribute",value:function(){var t=this;p.arrayFrom(this.classList).filter(function(t){return/^(fa$|fa-|ion-|zmdi-)/.test(t)}).forEach(function(e){return t.classList.remove(e)}),this.classList.remove("zmdi"),this.classList.remove("ons-icon--ion")}},{key:"_buildClassAndStyle",value:function(t,e){var n=["ons-icon"],i={};return 0===t.indexOf("ion-")?(n.push(t),n.push("ons-icon--ion")):0===t.indexOf("fa-")?(n.push(t),n.push("fa")):0===t.indexOf("md-")?(n.push("zmdi"),n.push("zmdi-"+t.split(/\-(.+)?/)[1])):(n.push("fa"),n.push("fa-"+t)),e.match(/^[1-5]x|lg$/)?(n.push("fa-"+e),this.style.removeProperty("font-size")):i.fontSize=e,{classList:n,style:i}}}],[{key:"observedAttributes",get:function(){return["icon","size","modifier"]}}]),n}(ft);customElements.define("ons-icon",Ut);var Wt=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,Object.getPrototypeOf(n).apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"connectedCallback",value:function(){p.updateParentPosition(this),this.hasAttribute("delegate")&&(this.delegate=window[this.getAttribute("delegate")])}},{key:"refresh",value:function(){this._lazyRepeatProvider&&this._lazyRepeatProvider.refresh()}},{key:"attributeChangedCallback",value:function(t,e,n){}},{key:"disconnectedCallback",value:function(){this._lazyRepeatProvider&&(this._lazyRepeatProvider.destroy(),this._lazyRepeatProvider=null)}},{key:"delegate",set:function(t){this._lazyRepeatProvider&&this._lazyRepeatProvider.destroy(),!this._templateElement&&this.children[0]&&(this._templateElement=this.removeChild(this.children[0]));var e=new j(t,this._templateElement||null);this._lazyRepeatProvider=new z(this.parentElement,e)},get:function(){throw new Error("This property can only be used to set the delegate object.")}}]),n}(ft);customElements.define("ons-lazy-repeat",Wt);var Yt={"":"list__header--*"},Xt=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,Object.getPrototypeOf(n).apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"init",value:function(){this._compile()}},{key:"_compile",value:function(){rt.prepare(this),this.classList.add("list__header"),F.initModifier(this,Yt)}},{key:"attributeChangedCallback",value:function(t,e,n){if("modifier"===t)return F.onModifierChanged(e,n,this,Yt)}}],[{key:"observedAttributes",get:function(){return["modifier"]}}]),n}(ft);customElements.define("ons-list-header",Xt);var Gt={".list__item":"list__item--*",".list__item__left":"list__item--*__left",".list__item__center":"list__item--*__center",".list__item__right":"list__item--*__right",".list__item__label":"list__item--*__label",".list__item__title":"list__item--*__title",".list__item__subtitle":"list__item--*__subtitle",".list__item__thumbnail":"list__item--*__thumbnail",".list__item__icon":"list__item--*__icon"},$t=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,Object.getPrototypeOf(n).apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"init",value:function(){var t=this;I(this,function(){t._compile()})}},{key:"_compile",value:function(){this.classList.add("list__item");for(var t=void 0,e=void 0,n=void 0,i=0;i<this.children.length;i++){var r=this.children[i];r.classList.contains("left")?(r.classList.add("list__item__left"),t=r):r.classList.contains("center")?e=r:r.classList.contains("right")&&(r.classList.add("list__item__right"),n=r)}if(!e){if(e=document.createElement("div"),t||n)for(var a=this.childNodes.length-1;a>=0;a--){var o=this.childNodes[a];o!==t&&o!==n&&e.insertBefore(o,e.firstChild)}else for(;this.childNodes[0];)e.appendChild(this.childNodes[0]);this.insertBefore(e,n||null)}e.classList.add("center"),e.classList.add("list__item__center"),this._updateRipple(),F.initModifier(this,Gt),rt.prepare(this)}},{key:"attributeChangedCallback",value:function(t,e,n){switch(t){case"modifier":F.onModifierChanged(e,n,this,Gt);break;case"ripple":this._updateRipple()}}},{key:"connectedCallback",value:function(){this.addEventListener("drag",this._onDrag),this.addEventListener("touchstart",this._onTouch),this.addEventListener("mousedown",this._onTouch),this.addEventListener("touchend",this._onRelease),this.addEventListener("touchmove",this._onRelease),this.addEventListener("touchcancel",this._onRelease),this.addEventListener("mouseup",this._onRelease),this.addEventListener("mouseout",this._onRelease),this.addEventListener("touchleave",this._onRelease),this._originalBackgroundColor=this.style.backgroundColor,this.tapped=!1}},{key:"disconnectedCallback",value:function(){this.removeEventListener("drag",this._onDrag),this.removeEventListener("touchstart",this._onTouch),this.removeEventListener("mousedown",this._onTouch),this.removeEventListener("touchend",this._onRelease),this.removeEventListener("touchmove",this._onRelease),this.removeEventListener("touchcancel",this._onRelease),this.removeEventListener("mouseup",this._onRelease),this.removeEventListener("mouseout",this._onRelease),this.removeEventListener("touchleave",this._onRelease)}},{key:"_updateRipple",value:function(){p.updateRipple(this)}},{key:"_onDrag",value:function(t){var e=t.gesture;this._shouldLockOnDrag()&&["left","right"].indexOf(e.direction)>-1&&e.preventDefault()}},{key:"_onTouch",value:function(){this.tapped||(this.tapped=!0,this.style.transition=this._transition,this.style.webkitTransition=this._transition,this.style.MozTransition=this._transition,this._tappable&&(this.style.backgroundColor&&(this._originalBackgroundColor=this.style.backgroundColor),this.style.backgroundColor=this._tapBackgroundColor,this.style.boxShadow="0px -1px 0px 0px "+this._tapBackgroundColor))}},{key:"_onRelease",value:function(){this.tapped=!1,this.style.transition="",this.style.webkitTransition="",this.style.MozTransition="",this.style.backgroundColor=this._originalBackgroundColor||"",this.style.boxShadow=""}},{key:"_shouldLockOnDrag",value:function(){return this.hasAttribute("lock-on-drag")}},{key:"_transition",get:function(){return"background-color 0.0s linear 0.02s, box-shadow 0.0s linear 0.02s"}},{key:"_tappable",get:function(){return this.hasAttribute("tappable")}},{key:"_tapBackgroundColor",get:function(){return this.getAttribute("tap-background-color")||"#d9d9d9"}}],[{key:"observedAttributes",get:function(){return["modifier","ripple"]}}]),n}(ft);customElements.define("ons-list-item",$t);var Kt={"":"list--*"},Qt=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,Object.getPrototypeOf(n).apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"init",value:function(){this._compile()}},{key:"_compile",value:function(){rt.prepare(this),this.classList.add("list"),F.initModifier(this,Kt)}},{key:"attributeChangedCallback",value:function(t,e,n){if("modifier"===t)return F.onModifierChanged(e,n,this,Kt)}}],[{key:"observedAttributes",get:function(){return["modifier"]}}]),n}(ft);customElements.define("ons-list",Qt);var Zt={".text-input":"text-input--*",".text-input__label":"text-input--*__label",".radio-button":"radio-button--*",".radio-button__input":"radio-button--*__input",".radio-button__checkmark":"radio-button--*__checkmark",".checkbox":"checkbox--*",".checkbox__input":"checkbox--*__input",".checkbox__checkmark":"checkbox--*__checkmark"},Jt=["autocapitalize","autocomplete","autocorrect","autofocus","disabled","inputmode","max","maxlength","min","minlength","name","pattern","placeholder","readonly","size","step","type","validator","value"],te=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,Object.getPrototypeOf(n).apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"init",value:function(){var t=this;I(this,function(){t._compile(),t.attributeChangedCallback("checked",null,t.getAttribute("checked"))}),this._boundOnInput=this._onInput.bind(this),this._boundOnFocusin=this._onFocusin.bind(this),this._boundDelegateEvent=this._delegateEvent.bind(this)}},{key:"_compile",value:function(){if(rt.prepare(this),0===this.children.length){var t=document.createElement("span");t.classList.add("_helper");var e=document.createElement("label");e.appendChild(document.createElement("input")),e.appendChild(t);var n=document.createElement("span");switch(n.classList.add("input-label"),p.arrayFrom(this.childNodes).forEach(function(t){return n.appendChild(t)}),this.hasAttribute("content-left")?e.insertBefore(n,e.firstChild):e.appendChild(n),this.appendChild(e),this.getAttribute("type")){case"checkbox":this.classList.add("checkbox"),this._input.classList.add("checkbox__input"),this._helper.classList.add("checkbox__checkmark"),this._updateBoundAttributes();break;case"radio":this.classList.add("radio-button"),this._input.classList.add("radio-button__input"),this._helper.classList.add("radio-button__checkmark"),this._updateBoundAttributes();break;default:this._input.classList.add("text-input"),this._helper.classList.add("text-input__label"),this._input.parentElement.classList.add("text-input__container"),this._updateLabel(),this._updateBoundAttributes(),this._updateLabelClass()}this.hasAttribute("input-id")&&(this._input.id=this.getAttribute("input-id")),F.initModifier(this,Zt)}}},{key:"attributeChangedCallback",value:function(t,e,n){var i=this;if("modifier"===t)return I(this,function(){return F.onModifierChanged(e,n,i,Zt)});if("placeholder"===t)return I(this,function(){return i._updateLabel()});if("input-id"===t&&I(this,function(){return i._input.id=n}),"checked"===t)this.checked=null!==n;else if(Jt.indexOf(t)>=0)return I(this,function(){return i._updateBoundAttributes()})}},{key:"connectedCallback",value:function(){var t=this;I(this,function(){"checkbox"!==t._input.type&&"radio"!==t._input.type&&(t._input.addEventListener("input",t._boundOnInput),t._input.addEventListener("focusin",t._boundOnFocusin),t._input.addEventListener("focusout",t._boundOnFocusout)),t._input.addEventListener("focus",t._boundDelegateEvent),t._input.addEventListener("blur",t._boundDelegateEvent)})}},{key:"disconnectedCallback",value:function(){var t=this;I(this,function(){t._input.removeEventListener("input",t._boundOnInput),t._input.removeEventListener("focusin",t._boundOnFocusin),t._input.removeEventListener("focus",t._boundDelegateEvent),t._input.removeEventListener("blur",t._boundDelegateEvent)})}},{key:"_setLabel",value:function(t){void 0!==this._helper.textContent?this._helper.textContent=t:this._helper.innerText=t}},{key:"_updateLabel",value:function(){this._setLabel(this.hasAttribute("placeholder")?this.getAttribute("placeholder"):"")}},{key:"_updateBoundAttributes",value:function(){var t=this;Jt.forEach(function(e){t.hasAttribute(e)?t._input.setAttribute(e,t.getAttribute(e)):t._input.removeAttribute(e)})}},{key:"_updateLabelClass",value:function(){""===this.value?this._helper.classList.remove("text-input--material__label--active"):-1===["checkbox","radio"].indexOf(this.getAttribute("type"))&&this._helper.classList.add("text-input--material__label--active")}},{key:"_delegateEvent",value:function(t){var e=new CustomEvent(t.type,{bubbles:!1,cancelable:!0});return this.dispatchEvent(e)}},{key:"_onInput",value:function(t){this._updateLabelClass()}},{key:"_onFocusin",value:function(t){this._updateLabelClass()}},{key:"_input",get:function(){return this.querySelector("input")}},{key:"_helper",get:function(){return this.querySelector("._helper")}},{key:"value",get:function(){return null===this._input?this.getAttribute("value"):this._input.value},set:function(t){var e=this;return this.setAttribute("value",t),I(this,function(){e._input.value=t,e._onInput()}),t}},{key:"checked",get:function(){return this._input.checked},set:function(t){var e=this;I(this,function(){e._input.checked=t})}},{key:"disabled",set:function(t){return p.toggleAttribute(this,"disabled",t)},get:function(){return this.hasAttribute("disabled")}},{key:"_isTextInput",get:function(){return"radio"!==this.type&&"checkbox"!==this.type}},{key:"type",get:function(){return this.getAttribute("type")}}],[{key:"observedAttributes",get:function(){return["modifier","placeholder","input-id","checked"].concat(Jt)}}]),n}(ft);customElements.define("ons-input",te);var ee=function(){function e(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];t.classCallCheck(this,e),this.delay=0,this.duration=.2,this.timing=n.timing||this.timing,this.duration=void 0!==n.duration?n.duration:this.duration,this.delay=void 0!==n.delay?n.delay:this.delay}return t.createClass(e,[{key:"show",value:function(t,e){e()}},{key:"hide",value:function(t,e){e()}}]),e}(),ne=function(e){function n(e){return t.classCallCheck(this,n),e.timing=e.timing||"linear",e.duration=e.duration||"0.3",e.delay=e.delay||0,t.possibleConstructorReturn(this,Object.getPrototypeOf(n).call(this,e))}return t.inherits(n,e),t.createClass(n,[{key:"show",value:function(t,e){e=e||function(){},animit(t).queue({opacity:0}).wait(this.delay).queue({opacity:1},{duration:this.duration,timing:this.timing}).queue(function(t){e(),t()}).play()}},{key:"hide",value:function(t,e){e=e||function(){},animit(t).queue({opacity:1}).wait(this.delay).queue({opacity:0},{duration:this.duration,timing:this.timing}).queue(function(t){e(),t()}).play()}}]),n}(ee),ie={"":"modal--*",modal__content:"modal--*__content"},re={default:ee,fade:ne,none:ee},ae=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,Object.getPrototypeOf(n).apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"init",value:function(){var t=this;I(this,function(){t._compile()}),this._doorLock=new ot,this._animatorFactory=new R({animators:re,baseClass:ee,baseClassName:"ModalAnimator",defaultAnimation:this.getAttribute("animation")})}},{key:"_compile",value:function(){if(this.style.display="none",this.style.zIndex=10001,this.classList.add("modal"),!p.findChild(this,".modal__content")){var t=document.createElement("div");for(t.classList.add("modal__content");this.childNodes[0];){var e=this.childNodes[0];this.removeChild(e),t.insertBefore(e,null)}this.appendChild(t)}F.initModifier(this,ie)}},{key:"disconnectedCallback",value:function(){this._backButtonHandler&&this._backButtonHandler.destroy()}},{key:"connectedCallback",value:function(){this.onDeviceBackButton=function(){}}},{key:"show",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];e.animationOptions=p.extend(e.animationOptions||{},R.parseAnimationOptionsString(this.getAttribute("animation-options")));var n=e.callback||function(){};return new Promise(function(i){t._doorLock.waitUnlock(function(){return i((r=t._doorLock.lock(),a=t._animatorFactory.newAnimator(e),new Promise(function(e){I(t,function(){t.style.display="table",a.show(t,function(){r(),n(),e(t)})})})));var r,a})})}},{key:"toggle",value:function(){return this.visible?this.hide.apply(this,arguments):this.show.apply(this,arguments)}},{key:"hide",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];e.animationOptions=p.extend(e.animationOptions||{},R.parseAnimationOptionsString(this.getAttribute("animation-options")));var n=e.callback||function(){};return new Promise(function(i){t._doorLock.waitUnlock(function(){return i((r=t._doorLock.lock(),a=t._animatorFactory.newAnimator(e),new Promise(function(e){I(t,function(){a.hide(t,function(){t.style.display="none",r(),n(),e(t)})})})));var r,a})})}},{key:"attributeChangedCallback",value:function(t,e,n){if("modifier"===t)return F.onModifierChanged(e,n,this,ie)}},{key:"onDeviceBackButton",get:function(){return this._backButtonHandler},set:function(t){this._backButtonHandler&&this._backButtonHandler.destroy(),this._backButtonHandler=J.createHandler(this,t)}},{key:"visible",get:function(){return"none"!==this.style.display}}],[{key:"registerAnimator",value:function(t,e){if(!(e.prototype instanceof ee))throw new Error('"Animator" param must inherit OnsModalElement.ModalAnimator');re[t]=e}},{key:"observedAttributes",get:function(){return["modifier"]}},{key:"ModalAnimator",get:function(){return ee}}]),n}(ft);customElements.define("ons-modal",ae);var oe=function(){function e(n){t.classCallCheck(this,e),n=p.extend({timing:"linear",duration:"0.4",delay:"0"},n||{}),this.timing=n.timing,this.duration=n.duration,this.delay=n.delay}return t.createClass(e,[{key:"push",value:function(t,e,n){n()}},{key:"pop",value:function(t,e,n){n()}}],[{key:"extend",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=this,n=function(){e.apply(this,arguments),p.extend(this,t)};return n.prototype=this.prototype,n}}]),e}(),se=function(e){function n(e){t.classCallCheck(this,n),e=p.extend({duration:.4,timing:"ease",delay:0},e||{});var i=t.possibleConstructorReturn(this,Object.getPrototypeOf(n).call(this,e));return i.backgroundMask=p.createElement('\n      <div style="position: absolute; width: 100%; height: 100%;\n        background-color: black; opacity: 0; z-index: 2"></div>\n    '),i}return t.inherits(n,e),t.createClass(n,[{key:"_decompose",value:function(t){var e=t._getToolbarElement(),n=e._getToolbarLeftItemsElement(),i=e._getToolbarRightItemsElement(),r=function(t){for(var e=[],n=0;n<t.length;n++)"ons-back-button"!==t[n].nodeName.toLowerCase()&&e.push(t[n]);return e},a=[].concat(0===n.children.length?n:r(n.children)).concat(0===i.children.length?i:r(i.children));return{toolbarCenter:e._getToolbarCenterItemsElement(),backButtonIcon:e._getToolbarBackButtonIconElement(),backButtonLabel:e._getToolbarBackButtonLabelElement(),other:a,content:t._getContentElement(),background:t._getBackgroundElement(),toolbar:e,bottomToolbar:t._getBottomToolbarElement()}}},{key:"_shouldAnimateToolbar",value:function(t,e){var n=t._canAnimateToolbar()&&e._canAnimateToolbar(),i=!t._getToolbarElement().classList.contains("navigation-bar--material")&&!e._getToolbarElement().classList.contains("navigation-bar--material");return n&&i}},{key:"_calculateDelta",value:function(t,e){var n=void 0,i=void 0,r=t.getBoundingClientRect();if(e.backButtonLabel.classList.contains("back-button__label")){var a=e.backButtonLabel.getBoundingClientRect();n=Math.round(r.width/2-a.width/2-a.left)}else n=Math.round(r.width/2*.6);return e.backButtonIcon.classList.contains("back-button__icon")&&(i=e.backButtonIcon.getBoundingClientRect().right-2),{title:n,label:i}}},{key:"push",value:function(t,e,n){var i=this;this.backgroundMask.remove(),e.parentNode.insertBefore(this.backgroundMask,e.nextSibling),I(t,function(){var r=i._decompose(t),a=i._decompose(e),o=i._calculateDelta(e,r),s=animit(i.backgroundMask).saveStyle().queue({opacity:0,transform:"translate3d(0, 0, 0)"}).wait(i.delay).queue({opacity:.05},{duration:i.duration,timing:i.timing}).restoreStyle().queue(function(t){i.backgroundMask.remove(),t()});if(i._shouldAnimateToolbar(t,e)){var l=r.toolbar.getBoundingClientRect().height+"px";i.backgroundMask.style.top=l,animit.runAll(s,animit([r.content,r.bottomToolbar,r.background]).saveStyle().queue({css:{transform:"translate3D(100%, 0px, 0px)"},duration:0}).wait(i.delay).queue({css:{transform:"translate3D(0px, 0px, 0px)"},duration:i.duration,timing:i.timing}).restoreStyle(),animit(r.toolbar).saveStyle().queue({css:{opacity:0},duration:0}).queue({css:{opacity:1},duration:i.duration,timing:i.timing}).restoreStyle(),animit(r.background).queue({css:{top:l},duration:0}),animit(r.toolbarCenter).saveStyle().queue({css:{transform:"translate3d(125%, 0, 0)",opacity:1},duration:0}).wait(i.delay).queue({css:{transform:"translate3d(0, 0, 0)",opacity:1},duration:i.duration,timing:i.timing}).restoreStyle(),animit(r.backButtonLabel).saveStyle().queue({css:{transform:"translate3d("+o.title+"px, 0, 0)",opacity:0},duration:0}).wait(i.delay).queue({css:{transform:"translate3d(0, 0, 0)",opacity:1},duration:i.duration,timing:i.timing}).restoreStyle(),animit(r.other).saveStyle().queue({css:{opacity:0},duration:0}).wait(i.delay).queue({css:{opacity:1},duration:i.duration,timing:i.timing}).restoreStyle(),animit([a.content,a.bottomToolbar,a.background]).saveStyle().queue({css:{transform:"translate3D(0, 0, 0)"},duration:0}).wait(i.delay).queue({css:{transform:"translate3D(-25%, 0px, 0px)"},duration:i.duration,timing:i.timing}).restoreStyle().queue(function(t){n(),t()}),animit(a.toolbarCenter).saveStyle().queue({css:{transform:"translate3d(0, 0, 0)",opacity:1},duration:0}).wait(i.delay).queue({css:{transform:"translate3d(-"+o.title+"px, 0, 0)",opacity:0},duration:i.duration,timing:i.timing}).restoreStyle(),animit(a.backButtonLabel).saveStyle().queue({css:{transform:"translate3d(0, 0, 0)",opacity:1},duration:0}).wait(i.delay).queue({css:{transform:"translate3d(-"+o.label+"px, 0, 0)",opacity:0},duration:i.duration,timing:i.timing}).restoreStyle(),animit(a.other).saveStyle().queue({css:{opacity:1},duration:0}).wait(i.delay).queue({css:{opacity:0},duration:i.duration,timing:i.timing}).restoreStyle())}else animit.runAll(s,animit(t).saveStyle().queue({css:{transform:"translate3D(100%, 0px, 0px)"},duration:0}).wait(i.delay).queue({css:{transform:"translate3D(0px, 0px, 0px)"},duration:i.duration,timing:i.timing}).restoreStyle(),animit(e).saveStyle().queue({css:{transform:"translate3D(0, 0, 0)"},duration:0}).wait(i.delay).queue({css:{transform:"translate3D(-25%, 0px, 0px)"},duration:i.duration,timing:i.timing}).restoreStyle().queue(function(t){n(),t()}))})}},{key:"pop",value:function(t,e,n){this.backgroundMask.remove(),t.parentNode.insertBefore(this.backgroundMask,t.nextSibling);var i=this._decompose(t),r=this._decompose(e),a=this._calculateDelta(e,r),o=animit(this.backgroundMask).saveStyle().queue({opacity:.1,transform:"translate3d(0, 0, 0)"}).wait(this.delay).queue({opacity:0},{duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){t()});if(this._shouldAnimateToolbar(t,e)){var s=i.toolbar.getBoundingClientRect().height+"px";this.backgroundMask.style.top=s,animit.runAll(o,animit([i.content,i.bottomToolbar,i.background]).saveStyle().queue({css:{transform:"translate3D(-25%, 0px, 0px)",opacity:.9},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0px, 0px, 0px)",opacity:1},duration:this.duration,timing:this.timing}).restoreStyle(),animit(i.toolbarCenter).saveStyle().queue({css:{transform:"translate3d(-"+a.title+"px, 0, 0)",opacity:0},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(0, 0, 0)",opacity:1},duration:this.duration,timing:this.timing}).restoreStyle(),animit(i.backButtonLabel).saveStyle().queue({css:{transform:"translate3d(-"+a.label+"px, 0, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(0, 0, 0)"},duration:this.duration,timing:this.timing}).restoreStyle(),animit(i.other).saveStyle().queue({css:{opacity:0},duration:0}).wait(this.delay).queue({css:{opacity:1},duration:this.duration,timing:this.timing}).restoreStyle(),animit(r.background).queue({css:{top:s},duration:0}),animit([r.content,r.bottomToolbar,r.background]).queue({css:{transform:"translate3D(0px, 0px, 0px)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(100%, 0px, 0px)"},duration:this.duration,timing:this.timing}).wait(0).queue(function(t){this.backgroundMask.remove(),n(),t()}.bind(this)),animit(r.toolbar).queue({css:{opacity:1},duration:0}).queue({css:{opacity:0},duration:this.duration,timing:this.timing}),animit(r.toolbarCenter).queue({css:{transform:"translate3d(0, 0, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3d(125%, 0, 0)"},duration:this.duration,timing:this.timing}),animit(r.backButtonLabel).queue({css:{transform:"translate3d(0, 0, 0)",opacity:1},duration:0}).wait(this.delay).queue({css:{transform:"translate3d("+a.title+"px, 0, 0)",opacity:0},duration:this.duration,timing:this.timing}))}else animit.runAll(o,animit(t).saveStyle().queue({css:{transform:"translate3D(-25%, 0px, 0px)",opacity:.9},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0px, 0px, 0px)",opacity:1},duration:this.duration,timing:this.timing}).restoreStyle(),animit(e).queue({css:{transform:"translate3D(0px, 0px, 0px)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(100%, 0px, 0px)"},duration:this.duration,timing:this.timing}).queue(function(t){this.backgroundMask.remove(),n(),t()}.bind(this)))}}]),n}(oe),le=function(e){function n(e){t.classCallCheck(this,n),e=p.extend({duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)",delay:0},e||{});var i=t.possibleConstructorReturn(this,Object.getPrototypeOf(n).call(this,e));return i.backgroundMask=p.createElement('\n      <div style="position: absolute; width: 100%; height: 100%;\n        background: linear-gradient(black, white);"></div>\n    '),i}return t.inherits(n,e),t.createClass(n,[{key:"push",value:function(t,e,n){var i=this;this.backgroundMask.remove(),e.parentNode.insertBefore(this.backgroundMask,e);var r=animit(this.backgroundMask).wait(this.delay+this.duration).queue(function(t){i.backgroundMask.remove(),t()});animit.runAll(r,animit(t).saveStyle().queue({css:{transform:"translate3D(0, 100%, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 0, 0)"},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){n(),t()}),animit(e).queue({css:{transform:"translate3D(0, 0, 0)",opacity:1},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, -10%, 0)",opacity:.9},duration:this.duration,timing:this.timing}))}},{key:"pop",value:function(t,e,n){var i=this;this.backgroundMask.remove(),t.parentNode.insertBefore(this.backgroundMask,t),animit.runAll(animit(this.backgroundMask).wait(this.delay+this.duration).queue(function(t){i.backgroundMask.remove(),t()}),animit(t).queue({css:{transform:"translate3D(0, -10%, 0)",opacity:.9},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 0, 0)",opacity:1},duration:this.duration,timing:this.timing}).queue(function(t){n(),t()}),animit(e).queue({css:{transform:"translate3D(0, 0, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 100%, 0)"},duration:this.duration,timing:this.timing}))}}]),n}(oe),ue=function(e){function n(e){return t.classCallCheck(this,n),e=p.extend({timing:"linear",duration:"0.4",delay:"0"},e||{}),t.possibleConstructorReturn(this,Object.getPrototypeOf(n).call(this,e))}return t.inherits(n,e),t.createClass(n,[{key:"push",value:function(t,e,n){animit.runAll(animit([t._getContentElement(),t._getBackgroundElement()]).saveStyle().queue({css:{transform:"translate3D(0, 0, 0)",opacity:0},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 0, 0)",opacity:1},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){n(),t()}),animit(t._getToolbarElement()).saveStyle().queue({css:{transform:"translate3D(0, 0, 0)",opacity:0},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 0, 0)",opacity:1},duration:this.duration,timing:this.timing}).restoreStyle())}},{key:"pop",value:function(t,e,n){animit.runAll(animit([e._getContentElement(),e._getBackgroundElement()]).queue({css:{transform:"translate3D(0, 0, 0)",opacity:1},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 0, 0)",opacity:0},duration:this.duration,timing:this.timing}).queue(function(t){n(),t()}),animit(e._getToolbarElement()).queue({css:{transform:"translate3D(0, 0, 0)",opacity:1},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 0, 0)",opacity:0},duration:this.duration,timing:this.timing}))}}]),n}(oe),ce=function(e){function n(e){t.classCallCheck(this,n),e=p.extend({duration:.3,timing:"cubic-bezier(.1, .7, .4, 1)",delay:0},e||{});var i=t.possibleConstructorReturn(this,Object.getPrototypeOf(n).call(this,e));return i.backgroundMask=p.createElement('\n      <div style="position: absolute; width: 100%; height: 100%; z-index: 2;\n        background-color: black; opacity: 0;"></div>\n    '),i.blackMaskOpacity=.4,i}return t.inherits(n,e),t.createClass(n,[{key:"push",value:function(t,e,n){var i=this;this.backgroundMask.remove(),e.parentElement.insertBefore(this.backgroundMask,e.nextSibling),animit.runAll(animit(this.backgroundMask).saveStyle().queue({opacity:0,transform:"translate3d(0, 0, 0)"}).wait(this.delay).queue({opacity:this.blackMaskOpacity},{duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){i.backgroundMask.remove(),t()}),animit(t).saveStyle().queue({css:{transform:"translate3D(100%, 0, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 0, 0)"},duration:this.duration,timing:this.timing}).restoreStyle(),animit(e).saveStyle().queue({css:{transform:"translate3D(0, 0, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(-45%, 0px, 0px)"},duration:this.duration,timing:this.timing}).restoreStyle().wait(.2).queue(function(t){n(),t()}))}},{key:"pop",value:function(t,e,n){var i=this;this.backgroundMask.remove(),t.parentNode.insertBefore(this.backgroundMask,t.nextSibling),animit.runAll(animit(this.backgroundMask).saveStyle().queue({opacity:this.blackMaskOpacity,transform:"translate3d(0, 0, 0)"}).wait(this.delay).queue({opacity:0},{duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){i.backgroundMask.remove(),t()}),animit(t).saveStyle().queue({css:{transform:"translate3D(-45%, 0px, 0px)",opacity:.9},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0px, 0px, 0px)",opacity:1},duration:this.duration,timing:this.timing}).restoreStyle(),animit(e).queue({css:{transform:"translate3D(0px, 0px, 0px)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(100%, 0px, 0px)"},duration:this.duration,timing:this.timing}).wait(.2).queue(function(t){n(),t()}))}}]),n}(oe),he=function(e){function n(e){t.classCallCheck(this,n),e=p.extend({duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)",delay:.05},e||{});var i=t.possibleConstructorReturn(this,Object.getPrototypeOf(n).call(this,e));return i.backgroundMask=p.createElement('\n      <div style="position: absolute; width: 100%; height: 100%;\n        background-color: black;"></div>\n    '),i}return t.inherits(n,e),t.createClass(n,[{key:"push",value:function(t,e,n){var i=this;this.backgroundMask.remove(),e.parentNode.insertBefore(this.backgroundMask,e);var r=animit(this.backgroundMask).wait(this.delay+this.duration).queue(function(t){i.backgroundMask.remove(),t()});animit.runAll(r,animit(t).saveStyle().queue({css:{transform:"translate3D(0, 100%, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 0, 0)"},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){n(),t()}),animit(e).queue({css:{opacity:1},duration:0}).queue({css:{opacity:.4},duration:this.duration,timing:this.timing}))}},{key:"pop",value:function(t,e,n){var i=this;this.backgroundMask.remove(),t.parentNode.insertBefore(this.backgroundMask,t),animit.runAll(animit(this.backgroundMask).wait(this.delay+this.duration).queue(function(t){i.backgroundMask.remove(),t()}),animit(t).queue({css:{transform:"translate3D(0, 0, 0)",opacity:.4},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 0, 0)",opacity:1},duration:this.duration,timing:this.timing}).queue(function(t){n(),t()}),animit(e).queue({css:{transform:"translate3D(0, 0, 0)"},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 100%, 0)"},duration:this.duration,timing:this.timing}))}}]),n}(oe),de=function(e){function n(e){return t.classCallCheck(this,n),e=p.extend({timing:"ease-out",duration:"0.25",delay:"0"},e||{}),t.possibleConstructorReturn(this,Object.getPrototypeOf(n).call(this,e))}return t.inherits(n,e),t.createClass(n,[{key:"push",value:function(t,e,n){animit.runAll(animit(t).saveStyle().queue({css:{transform:"translate3D(0, 42px, 0)",opacity:0},duration:0}).wait(this.delay).queue({css:{transform:"translate3D(0, 0, 0)",opacity:1},duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){n(),t()}))}},{key:"pop",value:function(t,e,n){animit.runAll(animit(e).queue({css:{transform:"translate3D(0, 0, 0)"},duration:0}).wait(.15).queue({css:{transform:"translate3D(0, 38px, 0)"},duration:this.duration,timing:this.timing}).queue(function(t){n(),t()}),animit(e).queue({css:{opacity:1},duration:0}).wait(.04).queue({css:{opacity:0},duration:this.duration,timing:this.timing}))}}]),n}(oe),fe=function(e){function n(e){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,Object.getPrototypeOf(n).call(this,e))}return t.inherits(n,e),t.createClass(n,[{key:"push",value:function(t,e,n){n()}},{key:"pop",value:function(t,e,n){n()}}]),n}(oe),pe={default:function(){return S.isAndroid()?de:se},slide:function(){return S.isAndroid()?ce:se},lift:function(){return S.isAndroid()?he:le},fade:function(){return S.isAndroid()?de:ue},"slide-ios":se,"slide-md":ce,"lift-ios":le,"lift-md":he,"fade-ios":ue,"fade-md":de,none:fe},me={ready:function(t,e){e()},link:function(t,e,n,i){i(e)}},ge=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,Object.getPrototypeOf(n).apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"init",value:function(){this._isRunning=!1,this._pageLoader=ct,this._updateAnimatorFactory()}},{key:"_getPageTarget",value:function(){return this._page||this.getAttribute("page")}},{key:"connectedCallback",value:function(){var t=this;this.onDeviceBackButton=this._onDeviceBackButton.bind(this),me.ready(this,function(){if(0===t.pages.length&&t._getPageTarget())t.pushPage(t._getPageTarget(),{animation:"none"});else if(t.pages.length>0){for(var e=0;e<t.pages.length;e++)if("ONS-PAGE"!==t.pages[e].nodeName)throw new Error("The children of <ons-navigator> need to be of type <ons-page>");t.topPage&&I(t.topPage,function(){return setTimeout(function(){t.topPage._show(),t._updateLastPageBackButton()},0)})}else I(t,function(){0===t.pages.length&&t._getPageTarget()&&t.pushPage(t._getPageTarget(),{animation:"none"})})})}},{key:"_updateAnimatorFactory",value:function(){this._animatorFactory=new R({animators:pe,baseClass:oe,baseClassName:"NavigatorTransitionAnimator",defaultAnimation:this.getAttribute("animation")})}},{key:"disconnectedCallback",value:function(){this._backButtonHandler.destroy(),this._backButtonHandler=null}},{key:"attributeChangedCallback",value:function(t,e,n){"animation"===t&&this._updateAnimatorFactory()}},{key:"popPage",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=this._preparePageAndOptions(null,e);e=n.options;var i=function(){return new Promise(function(e){t.pages[t.pages.length-1]._destroy(),e()})};if(!e.refresh)return this._popPage(e,i);var r=this.pages.length-2,a=this.pages[r];if(!a.name)throw new Error("Refresh option cannot be used with pages directly inside the Navigator. Use ons-template instead.");return new Promise(function(e){var n={page:a.name,parent:t,params:a.pushedOptions.data};t._pageLoader.load(n,function(n){var i=n.element,r=n.unload;i=p.extend(i,{name:a.name,data:a.data,pushedOptions:a.pushedOptions,unload:r}),me.link(t,i,a.options,function(n){t.insertBefore(n,a||null),a._destroy(),e()})})}).then(function(){return t._popPage(e,i)})}},{key:"_popPage",value:function(t){var e=this,n=arguments.length<=1||void 0===arguments[1]?function(){return Promise.resolve()}:arguments[1];if(this._isRunning)return Promise.reject("popPage is already running.");if(this.pages.length<=1)return Promise.reject("ons-navigator's page stack is empty.");if(this._emitPrePopEvent())return Promise.reject("Canceled in prepop event.");var i=this.pages.length;return this._isRunning=!0,this.pages[i-2].updateBackButton(i-2>0),new Promise(function(r){var a=e.pages[i-1],o=e.pages[i-2];o.style.display="block",t.animation=t.animation||a.pushedOptions.animation,t.animationOptions=p.extend({},a.pushedOptions.animationOptions,t.animationOptions||{}),t.data&&(o.data=p.extend({},o.data||{},t.data||{}));a._hide(),e._animatorFactory.newAnimator(t).pop(e.pages[i-2],e.pages[i-1],function(){n().then(function(){e._isRunning=!1,o._show(),p.triggerElementEvent(e,"postpop",{leavePage:a,enterPage:o,navigator:e}),"function"==typeof t.callback&&t.callback(),r(o)})})}).catch(function(){return e._isRunning=!1})}},{key:"pushPage",value:function(t){var e=this,n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=this._preparePageAndOptions(t,n);t=i.page,n=i.options;var r=function(t,i){e._verifyPageElement(t),(t=p.extend(t,{name:n.page,data:n.data,unload:i})).style.display="none"};return n.pageHTML?this._pushPage(n,function(){return new Promise(function(t){ht.load({page:n.pageHTML,parent:e,params:n.data},function(e){var n=e.element,i=e.unload;r(n,i),t()})})}):this._pushPage(n,function(){return new Promise(function(i){e._pageLoader.load({page:t,parent:e,params:n.data},function(t){var e=t.element,n=t.unload;r(e,n),i()})})})}},{key:"_pushPage",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=arguments.length<=1||void 0===arguments[1]?function(){return Promise.resolve()}:arguments[1];if(this._isRunning)return Promise.reject("pushPage is already running.");if(this._emitPrePushEvent())return Promise.reject("Canceled in prepush event.");this._isRunning=!0;var i=R.parseAnimationOptionsString(this.getAttribute("animation-options"));e=p.extend({},this.options||{},{animationOptions:i},e);var r=this._animatorFactory.newAnimator(e);return n().then(function(){var n=t.pages.length,i=t.pages[n-1],a=t.pages[n-2];if("ONS-PAGE"!==i.nodeName)throw new Error("Only elements of type <ons-page> can be pushed to the navigator");return i.updateBackButton(n-1),i.pushedOptions=p.extend({},i.pushedOptions||{},e||{}),i.data=p.extend({},i.data||{},e.data||{}),i.name=i.name||e.page,i.unload=i.unload||e.unload,new Promise(function(n){var o=function(){t._isRunning=!1,a&&(a.style.display="none"),setImmediate(function(){return i._show()}),p.triggerElementEvent(t,"postpush",{leavePage:a,enterPage:i,navigator:t}),"function"==typeof e.callback&&e.callback(),n(i)};i.style.display="none";var s=function(){i.style.display="block",a?(a._hide(),r.push(i,a,o)):o()};e._linked?s():me.link(t,i,e,s)})}).catch(function(e){throw t._isRunning=!1,e})}},{key:"replacePage",value:function(t){var e=this,n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return this.pushPage(t,n).then(function(t){return e.pages.length>1&&e.pages[e.pages.length-2]._destroy(),e._updateLastPageBackButton(),Promise.resolve(t)})}},{key:"insertPage",value:function(t,e){var n=this,i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=this._preparePageAndOptions(e,i);if(e=r.page,i=r.options,(t=this._normalizeIndex(t))>=this.pages.length)return this.pushPage(e,i);e="string"==typeof i.pageHTML?i.pageHTML:e;var a="string"==typeof i.pageHTML?ht:this._pageLoader;return new Promise(function(r){a.load({page:e,parent:n},function(e){var a=e.element,o=e.unload;n._verifyPageElement(a),a=p.extend(a,{name:i.page,data:i.data,pushedOptions:i,unload:o}),i.animationOptions=p.extend({},R.parseAnimationOptionsString(n.getAttribute("animation-options")),i.animationOptions||{}),a.style.display="none",n.insertBefore(a,n.pages[t]),n.topPage.updateBackButton(!0),me.link(n,a,i,function(e){setTimeout(function(){null,r(n.pages[t])},1e3/60)})})})}},{key:"resetToPage",value:function(t){var e=this,n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=this._preparePageAndOptions(t,n);t=i.page,(n=i.options).animator||n.animation||(n.animation="none");var r=n.callback;return n.callback=function(){for(;e.pages.length>1;)e.pages[0]._destroy();e.pages[0].updateBackButton(!1),r&&r()},n.page||n.pageHTML||!this._getPageTarget()||(t=n.page=this._getPageTarget()),this.pushPage(t,n)}},{key:"bringPageTop",value:function(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(-1===["number","string"].indexOf(void 0===e?"undefined":t.typeof(e)))throw new Error("First argument must be a page name or the index of an existing page. You supplied "+e);var i="number"==typeof e?this._normalizeIndex(e):this._lastIndexOfPage(e),r=this.pages[i];if(i<0)return this.pushPage(e,n);if(n=this._preparePageAndOptions(r,n).options,i===this.pages.length-1)return Promise.resolve(r);if(!r)throw new Error("Failed to find item "+e);return this._isRunning?Promise.reject("pushPage is already running."):this._emitPrePushEvent()?Promise.reject("Canceled in prepush event."):(p.extend(n,{page:r.name,_linked:!0}),r.style.display="none",r.setAttribute("_skipinit",""),r.parentNode.appendChild(r),this._pushPage(n))}},{key:"_preparePageAndOptions",value:function(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if("object"!=(void 0===n?"undefined":t.typeof(n)))throw new Error("options must be an object. You supplied "+n);return null==e&&n.page&&(e=n.page),{page:e,options:n=p.extend({},this.options||{},n,{page:e})}}},{key:"_updateLastPageBackButton",value:function(){var t=this.pages.length-1;t>=0&&this.pages[t].updateBackButton(t>0)}},{key:"_normalizeIndex",value:function(t){return t>=0?t:Math.abs(this.pages.length+t)%this.pages.length}},{key:"_onDeviceBackButton",value:function(t){this.pages.length>1?this.popPage():t.callParentHandler()}},{key:"_lastIndexOfPage",value:function(t){var e=void 0;for(e=this.pages.length-1;e>=0&&this.pages[e].name!==t;e--);return e}},{key:"_emitPreEvent",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=!1;return p.triggerElementEvent(this,"pre"+t,p.extend({navigator:this,currentPage:this.pages[this.pages.length-1],cancel:function(){return n=!0}},e)),n}},{key:"_emitPrePushEvent",value:function(){return this._emitPreEvent("push")}},{key:"_emitPrePopEvent",value:function(){var t=this.pages.length;return this._emitPreEvent("pop",{leavePage:this.pages[t-1],enterPage:this.pages[t-2]})}},{key:"_createPageElement",value:function(t){var e=p.createElement(B.normalizePageHTML(t));return this._verifyPageElement(e),e}},{key:"_verifyPageElement",value:function(t){if("ons-page"!==t.nodeName.toLowerCase())throw new Error('You must supply an "ons-page" element to "ons-navigator".')}},{key:"_show",value:function(){this.topPage&&this.topPage._show()}},{key:"_hide",value:function(){this.topPage&&this.topPage._hide()}},{key:"_destroy",value:function(){for(var t=this.pages.length-1;t>=0;t--)this.pages[t]._destroy();this.remove()}},{key:"animatorFactory",get:function(){return this._animatorFactory}},{key:"pageLoader",get:function(){return this._pageLoader},set:function(t){if(!(t instanceof ut))throw Error("First parameter must be an instance of PageLoader.");this._pageLoader=t}},{key:"page",get:function(){return this._page},set:function(t){this._page=t}},{key:"onDeviceBackButton",get:function(){return this._backButtonHandler},set:function(t){this._backButtonHandler&&this._backButtonHandler.destroy(),this._backButtonHandler=J.createHandler(this,t)}},{key:"topPage",get:function(){return this.pages[this.pages.length-1]||null}},{key:"pages",get:function(){return p.arrayFrom(this.children).filter(function(t){return"ONS-PAGE"===t.tagName})}},{key:"options",get:function(){return this._options},set:function(t){this._options=t}},{key:"_isRunning",set:function(t){this.setAttribute("_is-running",t?"true":"false")},get:function(){return JSON.parse(this.getAttribute("_is-running"))}}],[{key:"registerAnimator",value:function(t,e){if(!(e.prototype instanceof oe))throw new Error('"Animator" param must inherit NavigatorElement.NavigatorTransitionAnimator');pe[t]=e}},{key:"observedAttributes",get:function(){return["animation"]}},{key:"animators",get:function(){return pe}},{key:"NavigatorTransitionAnimator",get:function(){return oe}},{key:"rewritables",get:function(){return me}}]),n}(ft);customElements.define("ons-navigator",ge);var ve={"":"navigation-bar--*",".navigation-bar__left":"navigation-bar--*__left",".navigation-bar__center":"navigation-bar--*__center",".navigation-bar__right":"navigation-bar--*__right"},_e=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,Object.getPrototypeOf(n).apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"init",value:function(){var t=this;I(this,function(){t._compile()})}},{key:"attributeChangedCallback",value:function(t,e,n){if("modifier"===t)return F.onModifierChanged(e,n,this,ve)}},{key:"_getToolbarLeftItemsElement",value:function(){return this.querySelector(".left")||B.nullElement}},{key:"_getToolbarCenterItemsElement",value:function(){return this.querySelector(".center")||B.nullElement}},{key:"_getToolbarRightItemsElement",value:function(){return this.querySelector(".right")||B.nullElement}},{key:"_getToolbarBackButtonLabelElement",value:function(){return this.querySelector("ons-back-button .back-button__label")||B.nullElement}},{key:"_getToolbarBackButtonIconElement",value:function(){return this.querySelector("ons-back-button .back-button__icon")||B.nullElement}},{key:"_compile",value:function(){rt.prepare(this),this.classList.add("navigation-bar"),this._ensureToolbarItemElements(),F.initModifier(this,ve)}},{key:"_ensureToolbarItemElements",value:function(){for(var t=this.childNodes.length-1;t>=0;t--)1!=this.childNodes[t].nodeType&&this.removeChild(this.childNodes[t]);var e=this._ensureToolbarElement("center");if(e.classList.add("navigation-bar__title"),1!==this.children.length||!this.children[0].classList.contains("center")){var n=this._ensureToolbarElement("left"),i=this._ensureToolbarElement("right");this.children[0]===n&&this.children[1]===e&&this.children[2]===i||(this.appendChild(n),this.appendChild(e),this.appendChild(i))}}},{key:"_ensureToolbarElement",value:function(t){if(p.findChild(this,".navigation-bar__"+t)){var e=p.findChild(this,".navigation-bar__"+t);return e.classList.add(t),e}var n=p.findChild(this,"."+t)||p.create("."+t);return n.classList.add("navigation-bar__"+t),n}}],[{key:"observedAttributes",get:function(){return["modifier"]}}]),n}(ft);customElements.define("ons-toolbar",_e);var be={"":"page--*",".page__content":"page--*__content",".page__background":"page--*__background"},ye=document.createElement("ons-toolbar"),ke=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,Object.getPrototypeOf(n).apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"init",value:function(){var t=this;this.classList.add("page"),I(this,function(){t._compile(),t._isShown=!1,t._contentElement=t._getContentElement(),t._isMuted=t.hasAttribute("_muted"),t._skipInit=t.hasAttribute("_skipinit"),t.pushedOptions={}})}},{key:"connectedCallback",value:function(){var t=this;I(this,function(){t._isMuted||(t._skipInit?t.removeAttribute("_skipinit"):setImmediate(function(){return p.triggerElementEvent(t,"init")})),p.hasAnyComponentAsParent(t)||setImmediate(function(){return t._show()}),t._tryToFillStatusBar(),t.hasAttribute("on-infinite-scroll")&&t.attributeChangedCallback("on-infinite-scroll",null,t.getAttribute("on-infinite-scroll"))})}},{key:"updateBackButton",value:function(t){this.backButton&&(t?this.backButton.show():this.backButton.hide())}},{key:"_tryToFillStatusBar",value:function(){var t=this;B.autoStatusBarFill(function(){var e=p.findParent(t,function(t){return t.hasAttribute("status-bar-fill")});p.toggleAttribute(t,"status-bar-fill",!e&&(t._canAnimateToolbar()||!t._hasAPageControlChild()))})}},{key:"_hasAPageControlChild",value:function(){return p.findChild(this._contentElement,function(t){return t.nodeName.match(/ons-(splitter|sliding-menu|navigator|tabbar)/i)})}},{key:"_onScroll",value:function(){var t=this,e=this._contentElement,n=(e.scrollTop+e.clientHeight)/e.scrollHeight>=this._infiniteScrollLimit;this._onInfiniteScroll&&!this._loadingContent&&n&&(this._loadingContent=!0,this._onInfiniteScroll(function(){return t._loadingContent=!1}))}},{key:"_getContentElement",value:function(){var t=p.findChild(this,".page__content");if(t)return t;throw Error('fail to get ".page__content" element.')}},{key:"_canAnimateToolbar",value:function(){return!!p.findChild(this,"ons-toolbar")||!!p.findChild(this._contentElement,function(t){return p.match(t,"ons-toolbar")&&!t.hasAttribute("inline")})}},{key:"_getBackgroundElement",value:function(){var t=p.findChild(this,".page__background");if(t)return t;throw Error('fail to get ".page__background" element.')}},{key:"_getBottomToolbarElement",value:function(){return p.findChild(this,"ons-bottom-toolbar")||B.nullElement}},{key:"_getToolbarElement",value:function(){return p.findChild(this,"ons-toolbar")||ye}},{key:"attributeChangedCallback",value:function(t,e,n){var i=this;if("modifier"===t)return F.onModifierChanged(e,n,this,be);"_muted"===t?this._isMuted=this.hasAttribute("_muted"):"_skipinit"===t?this._skipInit=this.hasAttribute("_skipinit"):"on-infinite-scroll"===t&&(this.onInfiniteScroll=null===n?null:function(t){var e=p.findFromPath(n);i.onInfiniteScroll=e,e(t)})}},{key:"_compile",value:function(){var t=this;if(rt.prepare(this),p.findChild(this,".content")&&p.findChild(this,".content").classList.add("page__content"),p.findChild(this,".background")&&p.findChild(this,".background").classList.add("page__background"),p.findChild(this,".page__content")||function(){var e=p.create(".page__content");p.arrayFrom(t.childNodes).forEach(function(n){(1!==n.nodeType||t._elementShouldBeMoved(n))&&e.appendChild(n)});var n=p.findChild(t,".page__background")||p.findChild(t,"ons-toolbar");t.insertBefore(e,n&&n.nextSibling)}(),!p.findChild(this,".page__background")){var e=p.create(".page__background");this.insertBefore(e,p.findChild(this,".page__content"))}F.initModifier(this,be)}},{key:"_elementShouldBeMoved",value:function(t){if(t.classList.contains("page__background"))return!1;var e=t.tagName.toLowerCase();if("ons-fab"===e)return!t.hasAttribute("position");return t.hasAttribute("inline")||-1===["ons-toolbar","ons-bottom-toolbar","ons-modal","ons-speed-dial"].indexOf(e)}},{key:"_show",value:function(){!this._isShown&&p.isAttached(this)&&(this._isShown=!0,this._isMuted||p.triggerElementEvent(this,"show"),p.propagateAction(this._contentElement,"_show"))}},{key:"_hide",value:function(){this._isShown&&(this._isShown=!1,this._isMuted||p.triggerElementEvent(this,"hide"),p.propagateAction(this._contentElement,"_hide"))}},{key:"_destroy",value:function(){this._hide(),this._isMuted||p.triggerElementEvent(this,"destroy"),this.onDeviceBackButton&&this.onDeviceBackButton.destroy(),p.propagateAction(this._contentElement,"_destroy"),this.unload instanceof Function&&this.unload(),this.remove()}},{key:"name",set:function(t){this.setAttribute("name",t)},get:function(){return this.getAttribute("name")}},{key:"backButton",get:function(){return this.querySelector("ons-back-button")}},{key:"onInfiniteScroll",set:function(t){if(null===t)return this._onInfiniteScroll=null,void this._contentElement.removeEventListener("scroll",this._boundOnScroll);if(!(t instanceof Function))throw new Error("onInfiniteScroll must be a function or null");this._onInfiniteScroll||(this._infiniteScrollLimit=.9,this._boundOnScroll=this._onScroll.bind(this),this._contentElement.addEventListener("scroll",this._boundOnScroll)),this._onInfiniteScroll=t},get:function(){return this._onInfiniteScroll}},{key:"onDeviceBackButton",get:function(){return this._backButtonHandler},set:function(t){this._backButtonHandler&&this._backButtonHandler.destroy(),this._backButtonHandler=J.createHandler(this,t)}}],[{key:"observedAttributes",get:function(){return["modifier","_muted","_skipinit","on-infinite-scroll"]}}]),n}(ft);customElements.define("ons-page",ke);var Ee=function(){function e(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];t.classCallCheck(this,e),this.options=p.extend({timing:"cubic-bezier(.1, .7, .4, 1)",duration:.2,delay:0},n)}return t.createClass(e,[{key:"show",value:function(t,e){e()}},{key:"hide",value:function(t,e){e()}},{key:"_animate",value:function(t,e){var n=e.from,i=e.to,r=e.options,a=e.callback,o=e.restore,s=void 0!==o&&o,l=e.animation;return r=p.extend({},this.options,r),l&&(n=l.from,i=l.to),l=animit(t),s&&(l=l.saveStyle()),l=l.queue(n).wait(r.delay).queue({css:i,duration:r.duration,timing:r.timing}),s&&(l=l.restoreStyle()),a&&(l=l.queue(function(t){a(),t()})),l}},{key:"_animateAll",value:function(t,e){var n=this;Object.keys(e).forEach(function(i){return n._animate(t[i],e[i]).play()})}}]),e}(),Ce={out:{from:{opacity:1},to:{opacity:0}},in:{from:{opacity:0},to:{opacity:1}}},we=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,Object.getPrototypeOf(n).apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"show",value:function(t,e){this._animateAll(t,{_mask:Ce.in,_popover:{animation:Ce.in,restore:!0,callback:e}})}},{key:"hide",value:function(t,e){this._animateAll(t,{_mask:Ce.out,_popover:{animation:Ce.out,restore:!0,callback:e}})}}]),n}(Ee),Ae=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,Object.getPrototypeOf(n).apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"show",value:function(t,e){this._animateAll(t,{_mask:Ce.in,_popover:{from:{transform:"scale3d(1.3, 1.3, 1.0)",opacity:0},to:{transform:"scale3d(1.0, 1.0,  1.0)",opacity:1},restore:!0,callback:e}})}}]),n}(we),Le={".popover":"popover--*",".popover-mask":"popover-mask--*",".popover__container":"popover__container--*",".popover__content":"popover__content--*",".popover__arrow":"popover__arrow--*"},Te={default:function(){return S.isAndroid()?we:Ae},none:Ee,"fade-ios":Ae,"fade-md":we},Oe=p.createFragment('\n  <div class="popover-mask"></div>\n  <div class="popover__container">\n    <div class="popover__content"></div>\n    <div class="popover__arrow"></div>\n  </div>\n'),Se={up:"bottom",left:"right",down:"top",right:"left"},Pe=(Object.keys(Se),function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,Object.getPrototypeOf(n).apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"init",value:function(){var t=this;I(this,function(){t._compile(),t._initAnimatorFactory()}),this._doorLock=new ot,this._boundOnChange=this._onChange.bind(this),this._boundCancel=this._cancel.bind(this)}},{key:"_initAnimatorFactory",value:function(){var t=new R({animators:Te,baseClass:Ee,baseClassName:"PopoverAnimator",defaultAnimation:this.getAttribute("animation")||"default"});this._animator=function(e){return t.newAnimator(e)}}},{key:"_positionPopover",value:function(t){var e=this._radius,n=this._content,i=this._margin,r=t.getBoundingClientRect(),a=p.hasModifier(this,"material"),o=a&&this.hasAttribute("cover-target"),s={top:r.top-i,left:r.left-i,right:window.innerWidth-r.right-i,bottom:window.innerHeight-r.bottom-i},l=this._calculateDirections(s),u=l.vertical,c=l.primary,h=l.secondary;this._popover.classList.add("popover--"+c);var d=o?0:(u?r.height:r.width)+(a?0:14);this.style[c]=Math.max(0,s[c]+d)+i+"px",n.style[c]=0;var f,m=u?"width":"height",g=(f=window.getComputedStyle(n),{width:parseInt(f.getPropertyValue("width")),height:parseInt(f.getPropertyValue("height"))});n.style[h]=Math.max(0,s[h]-(g[m]-r[m])/2)+"px",this._arrow.style[h]=Math.max(e,s[h]+r[m]/2)+"px",this._setTransformOrigin(s,g,r,c),n.removeAttribute("data-animit-orig-style")}},{key:"_setTransformOrigin",value:function(t,e,n,i){var r=function(r,a,o){return i===r?e[o]/2:t[r]+(i===a?-e[o]:e[o]-n[o])/2},a=r("left","right","width")+"px",o=r("top","bottom","height")+"px";p.extend(this._popover.style,{transformOrigin:a+" "+o,webkitTransformOriginX:a,webkitTransformOriginY:o})}},{key:"_calculateDirections",value:function(t){var e=(this.getAttribute("direction")||"up down left right").split(/\s+/).map(function(t){return Se[t]}).sort(function(e,n){return t[e]-t[n]})[0],n=-1!==["top","bottom"].indexOf(e);return{vertical:n,primary:e,secondary:n?t.left<t.right?"left":"right":t.top<t.bottom?"top":"bottom"}}},{key:"_clearStyles",value:function(){var t=this;["top","bottom","left","right"].forEach(function(e){t._arrow.style[e]=t._content.style[e]=t.style[e]="",t._popover.classList.remove("popover--"+e)})}},{key:"_onChange",value:function(){var t=this;setImmediate(function(){t._currentTarget&&t._positionPopover(t._currentTarget)})}},{key:"_compile",value:function(){if(rt.prepare(this),!this.classList.contains("popover")){if(this.classList.add("popover"),this._popover&&this._content){if(!this._mask){var t=document.createElement("div");t.classList.add("popover-mask"),this.insertBefore(t,this.firstChild)}if(!this._arrow){var e=document.createElement("div");e.classList.add("popover__arrow"),this._popover.appendChild(e)}}else{for(var n=Oe.cloneNode(!0),i=n.querySelector(".popover__content");this.childNodes[0];)i.appendChild(this.childNodes[0]);this.appendChild(n)}this.hasAttribute("style")&&(this._popover.setAttribute("style",this.getAttribute("style")),this.removeAttribute("style")),this.hasAttribute("mask-color")&&(this._mask.style.backgroundColor=this.getAttribute("mask-color")),F.initModifier(this,Le)}}},{key:"_prepareAnimationOptions",value:function(t){if(t.animation&&!(t.animation in Te))throw new Error("Animator "+t.animation+" is not registered.");t.animationOptions=p.extend(R.parseAnimationOptionsString(this.getAttribute("animation-options")),t.animationOptions||{})}},{key:"_executeAction",value:function(t){var e=this,n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=n.callback,r=t.action,a=t.before,o=t.after;this._prepareAnimationOptions(n);var s=!1;return p.triggerElementEvent(this,"pre"+r,{popover:this,cancel:function(){return s=!0}}),s?Promise.reject("Canceled in pre"+r+" event."):new Promise(function(t){e._doorLock.waitUnlock(function(){var s=e._doorLock.lock();a&&a(),I(e,function(){e._animator(n)[r](e,function(){o&&o(),s(),p.triggerElementEvent(e,"post"+r,{popover:e}),i&&i(),t(e)})})})})}},{key:"show",value:function(t){var e=this,n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if("string"==typeof t?t=document.querySelector(t):t instanceof Event&&(t=t.target),!(t instanceof HTMLElement))throw new Error("Invalid target");return this._executeAction({action:"show",before:function(){e.style.display="block",e._currentTarget=t,e._positionPopover(t)}},n)}},{key:"hide",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return this._executeAction({action:"hide",after:function(){t.style.display="none",t._clearStyles()}},e)}},{key:"_resetBackButtonHandler",value:function(){var t=this;this.onDeviceBackButton=function(e){return t.cancelable?t._cancel():e.callParentHandler()}}},{key:"connectedCallback",value:function(){var t=this;this._resetBackButtonHandler(),I(this,function(){t._margin=t._margin||parseInt(window.getComputedStyle(t).getPropertyValue("top")),t._margin||(t._margin=6),t._radius=parseInt(window.getComputedStyle(t._content).getPropertyValue("border-top-left-radius")),t._mask.addEventListener("click",t._boundCancel,!1),t._resetBackButtonHandler(),window.addEventListener("resize",t._boundOnChange,!1)})}},{key:"disconnectedCallback",value:function(){var t=this;I(this,function(){t._mask.removeEventListener("click",t._boundCancel,!1),t._backButtonHandler.destroy(),t._backButtonHandler=null,window.removeEventListener("resize",t._boundOnChange,!1)})}},{key:"attributeChangedCallback",value:function(t,e,n){return"modifier"===t?F.onModifierChanged(e,n,this,Le):"direction"===t?this._boundOnChange():void("animation"===t&&this._initAnimatorFactory())}},{key:"_cancel",value:function(){var t=this;this.cancelable&&this.hide({callback:function(){p.triggerElementEvent(t,"dialog-cancel")}})}},{key:"_mask",get:function(){return p.findChild(this,".popover-mask")}},{key:"_popover",get:function(){return p.findChild(this,".popover__container")}},{key:"_content",get:function(){return p.findChild(this._popover,".popover__content")}},{key:"_arrow",get:function(){return p.findChild(this._popover,".popover__arrow")}},{key:"visible",get:function(){return"none"!==window.getComputedStyle(this).getPropertyValue("display")}},{key:"cancelable",set:function(t){return p.toggleAttribute(this,"cancelable",t)},get:function(){return this.hasAttribute("cancelable")}},{key:"onDeviceBackButton",get:function(){return this._backButtonHandler},set:function(t){this._backButtonHandler&&this._backButtonHandler.destroy(),this._backButtonHandler=J.createHandler(this,t)}}],[{key:"registerAnimator",value:function(t,e){if(!(e.prototype instanceof Ee))throw new Error('"Animator" param must inherit PopoverAnimator');Te[t]=e}},{key:"observedAttributes",get:function(){return["modifier","direction","animation"]}},{key:"PopoverAnimator",get:function(){return Ee}}]),n}(ft));customElements.define("ons-popover",Pe);var Me={".progress-bar":"progress-bar--*",".progress-bar__primary":"progress-bar__primary--*",".progress-bar__secondary":"progress-bar__secondary--*"},De=p.createElement('\n  <div class="progress-bar">\n    <div class="progress-bar__secondary"></div>\n    <div class="progress-bar__primary"></div>\n  </div>\n'),xe=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,Object.getPrototypeOf(n).apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"init",value:function(){var t=this;I(this,function(){return t._compile()})}},{key:"_compile",value:function(){this._isCompiled()?this._template=p.findChild(this,".progress-bar"):this._template=De.cloneNode(!0),this._primary=p.findChild(this._template,".progress-bar__primary"),this._secondary=p.findChild(this._template,".progress-bar__secondary"),this._updateDeterminate(),this._updateValue(),this.appendChild(this._template),F.initModifier(this,Me)}},{key:"_isCompiled",value:function(){if(!p.findChild(this,".progress-bar"))return!1;var t=p.findChild(this,".progress-bar");return!!p.findChild(t,".progress-bar__secondary")&&!!p.findChild(t,".progress-bar__primary")}},{key:"attributeChangedCallback",value:function(t,e,n){if("modifier"===t)return F.onModifierChanged(e,n,this,Me);"value"===t||"secondary-value"===t?this._updateValue():"indeterminate"===t&&this._updateDeterminate()}},{key:"_updateDeterminate",value:function(){var t=this;this.hasAttribute("indeterminate")?I(this,function(){t._template.classList.add("progress-bar--indeterminate"),t._template.classList.remove("progress-bar--determinate")}):I(this,function(){t._template.classList.add("progress-bar--determinate"),t._template.classList.remove("progress-bar--indeterminate")})}},{key:"_updateValue",value:function(){var t=this;I(this,function(){t._primary.style.width=t.hasAttribute("value")?t.getAttribute("value")+"%":"0%",t._secondary.style.width=t.hasAttribute("secondary-value")?t.getAttribute("secondary-value")+"%":"0%"})}},{key:"value",set:function(t){if("number"!=typeof t||t<0||t>100)throw new Error("Invalid value");this.setAttribute("value",Math.floor(t))},get:function(){return parseInt(this.getAttribute("value")||"0")}},{key:"secondaryValue",set:function(t){if("number"!=typeof t||t<0||t>100)throw new Error("Invalid value");this.setAttribute("secondary-value",Math.floor(t))},get:function(){return parseInt(this.getAttribute("secondary-value")||"0")}},{key:"indeterminate",set:function(t){t?this.setAttribute("indeterminate",""):this.removeAttribute("indeterminate")},get:function(){return this.hasAttribute("indeterminate")}}],[{key:"observedAttributes",get:function(){return["modifier","value","secondary-value","indeterminate"]}}]),n}(ft);customElements.define("ons-progress-bar",xe);var Ie={".progress-circular":"progress-circular--*",".progress-circular__primary":"progress-circular__primary--*",".progress-circular__secondary":"progress-circular__secondary--*"},He=p.createElement('\n  <svg class="progress-circular">\n    <circle class="progress-circular__secondary" cx="50%" cy="50%" r="40%" fill="none" stroke-width="10%" stroke-miterlimit="10"/>\n    <circle class="progress-circular__primary" cx="50%" cy="50%" r="40%" fill="none" stroke-width="10%" stroke-miterlimit="10"/>\n  </svg>\n'),Ne=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,Object.getPrototypeOf(n).apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"init",value:function(){var t=this;I(this,function(){return t._compile()})}},{key:"attributeChangedCallback",value:function(t,e,n){if("modifier"===t)return F.onModifierChanged(e,n,this,Ie);"value"===t||"secondary-value"===t?this._updateValue():"indeterminate"===t&&this._updateDeterminate()}},{key:"_updateDeterminate",value:function(){var t=this;this.hasAttribute("indeterminate")?I(this,function(){t._template.classList.add("progress-circular--indeterminate"),t._template.classList.remove("progress-circular--determinate")}):I(this,function(){t._template.classList.add("progress-circular--determinate"),t._template.classList.remove("progress-circular--indeterminate")})}},{key:"_updateValue",value:function(){var t=this;this.hasAttribute("value")&&I(this,function(){var e=Math.ceil(251.32*t.getAttribute("value")*.01);t._primary.style["stroke-dasharray"]=e+"%, 251.32%"}),this.hasAttribute("secondary-value")&&I(this,function(){var e=Math.ceil(251.32*t.getAttribute("secondary-value")*.01);t._secondary.style["stroke-dasharray"]=e+"%, 251.32%"})}},{key:"_compile",value:function(){this._isCompiled()?this._template=p.findChild(this,".progress-circular"):this._template=He.cloneNode(!0),this._primary=p.findChild(this._template,".progress-circular__primary"),this._secondary=p.findChild(this._template,".progress-circular__secondary"),this._updateDeterminate(),this._updateValue(),this.appendChild(this._template),F.initModifier(this,Ie)}},{key:"_isCompiled",value:function(){if(!p.findChild(this,".progress-circular"))return!1;var t=p.findChild(this,".progress-circular");return!!p.findChild(t,".progress-circular__secondary")&&!!p.findChild(t,".progress-circular__primary")}},{key:"value",set:function(t){if("number"!=typeof t||t<0||t>100)throw new Error("Invalid value");this.setAttribute("value",Math.floor(t))},get:function(){return parseInt(this.getAttribute("value")||"0")}},{key:"secondaryValue",set:function(t){if("number"!=typeof t||t<0||t>100)throw new Error("Invalid value");this.setAttribute("secondary-value",Math.floor(t))},get:function(){return parseInt(this.getAttribute("secondary-value")||"0")}},{key:"indeterminate",set:function(t){t?this.setAttribute("indeterminate",""):this.removeAttribute("indeterminate")},get:function(){return this.hasAttribute("indeterminate")}}],[{key:"observedAttributes",get:function(){return["modifier","value","secondary-value","indeterminate"]}}]),n}(ft);customElements.define("ons-progress-circular",Ne);var qe="initial",Be="preaction",Re=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,Object.getPrototypeOf(n).apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"init",value:function(){this._boundOnDrag=this._onDrag.bind(this),this._boundOnDragStart=this._onDragStart.bind(this),this._boundOnDragEnd=this._onDragEnd.bind(this),this._boundOnScroll=this._onScroll.bind(this),this._setState(qe,!0)}},{key:"_setStyle",value:function(){var t=this.height;this.style.height=t+"px",this.style.lineHeight=t+"px",this.style.marginTop="-1px",this._pageElement.style.marginTop="-"+t+"px"}},{key:"_onScroll",value:function(t){var e=this._pageElement;e.scrollTop<0&&(e.scrollTop=0)}},{key:"_generateTranslationTransform",value:function(t){return"translate3d(0px, "+t+"px, 0px)"}},{key:"_onDrag",value:function(t){var e=this;if(!this.disabled){if(S.isAndroid()){var n=this._pageElement;n.scrollTop=this._startScroll-t.gesture.deltaY,n.scrollTop<window.innerHeight&&"up"!==t.gesture.direction&&t.gesture.preventDefault()}if(0===this._currentTranslation&&0===this._getCurrentScroll())this._transitionDragLength=t.gesture.deltaY,"down"===t.gesture.interimDirection?this._transitionDragLength-=1:this._transitionDragLength+=1;var i=Math.max(t.gesture.deltaY-this._startScroll,0);this._thresholdHeightEnabled()&&i>=this.thresholdHeight?(t.gesture.stopDetect(),setImmediate(function(){return e._finish()})):i>=this.height?this._setState(Be):this._setState(qe),t.stopPropagation(),this._translateTo(i)}}},{key:"_onDragStart",value:function(t){this.disabled||(this._startScroll=this._getCurrentScroll())}},{key:"_onDragEnd",value:function(t){this.disabled||this._currentTranslation>0&&(this._currentTranslation>this.height?this._finish():this._translateTo(0,{animate:!0}))}},{key:"_finish",value:function(){var t=this;this._setState("action"),this._translateTo(this.height,{animate:!0}),(this.onAction||function(t){return t()})(function(){t._translateTo(0,{animate:!0}),t._setState(qe)})}},{key:"_thresholdHeightEnabled",value:function(){var t=this.thresholdHeight;return t>0&&t>=this.height}},{key:"_setState",value:function(t,e){var n=this._getState();this.setAttribute("state",t),e||n===this._getState()||p.triggerElementEvent(this,"changestate",{pullHook:this,state:t,lastState:n})}},{key:"_getState",value:function(){return this.getAttribute("state")}},{key:"_getCurrentScroll",value:function(){return this._pageElement.scrollTop}},{key:"_isContentFixed",value:function(){return this.hasAttribute("fixed-content")}},{key:"_getScrollableElement",value:function(){return this._isContentFixed()?this:this._pageElement}},{key:"_translateTo",value:function(t){var e=this,n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(0!=this._currentTranslation||0!=t){var i=function(){if(0===t){var i=e._getScrollableElement();(r=i).style.transform="",r.style.WebkitTransform="",r.style.transition="",r.style.WebkitTransition=""}var r;n.callback&&n.callback()};this._currentTranslation=t,n.animate?animit(this._getScrollableElement()).queue({transform:this._generateTranslationTransform(t)},{duration:.3,timing:"cubic-bezier(.1, .7, .1, 1)"}).play(i):animit(this._getScrollableElement()).queue({transform:this._generateTranslationTransform(t)}).play(i)}}},{key:"_disableDragLock",value:function(){this._dragLockDisabled=!0,this._destroyEventListeners(),this._createEventListeners()}},{key:"_createEventListeners",value:function(){this._gestureDetector=new m(this._pageElement,{dragMinDistance:1,dragDistanceCorrection:!1,dragLockToAxis:!this._dragLockDisabled}),this._gestureDetector.on("dragup dragdown",this._boundOnDrag),this._gestureDetector.on("dragstart",this._boundOnDragStart),this._gestureDetector.on("dragend",this._boundOnDragEnd),this._pageElement.addEventListener("scroll",this._boundOnScroll,!1)}},{key:"_destroyEventListeners",value:function(){this._gestureDetector&&(this._gestureDetector.off("dragup dragdown",this._boundOnDrag),this._gestureDetector.off("dragstart",this._boundOnDragStart),this._gestureDetector.off("dragend",this._boundOnDragEnd),this._gestureDetector.dispose(),this._gestureDetector=null),this._pageElement.removeEventListener("scroll",this._boundOnScroll,!1)}},{key:"connectedCallback",value:function(){this._currentTranslation=0,this._pageElement=this.parentNode,this._createEventListeners(),this._setStyle()}},{key:"disconnectedCallback",value:function(){this._pageElement.style.marginTop="",this._destroyEventListeners()}},{key:"attributeChangedCallback",value:function(t,e,n){"height"===t&&this._setStyle()}},{key:"height",set:function(t){if(!p.isInteger(t))throw new Error("The height must be an integer");this.setAttribute("height",t+"px")},get:function(){return parseInt(this.getAttribute("height")||"64",10)}},{key:"thresholdHeight",set:function(t){if(!p.isInteger(t))throw new Error("The threshold height must be an integer");this.setAttribute("threshold-height",t+"px")},get:function(){return parseInt(this.getAttribute("threshold-height")||"96",10)}},{key:"state",get:function(){return this._getState()}},{key:"pullDistance",get:function(){return this._currentTranslation}},{key:"disabled",set:function(t){return p.toggleAttribute(this,"disabled",t)},get:function(){return this.hasAttribute("disabled")}}],[{key:"observedAttributes",get:function(){return["height"]}},{key:"STATE_INITIAL",get:function(){return qe}},{key:"STATE_PREACTION",get:function(){return Be}},{key:"STATE_ACTION",get:function(){return"action"}}]),n}(ft);customElements.define("ons-pull-hook",Re);var Fe=function(){function e(){t.classCallCheck(this,e),this._queue=[],this._index=0}return t.createClass(e,[{key:"animate",value:function(t,e){var n=arguments.length<=2||void 0===arguments[2]?200:arguments[2],i=(new Date).getTime(),r={},a=!1,o=!1,s=!1,l=Object.keys(e),u={stop:function(){var c=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];s&&clearTimeout(s);var h=Math.min(1,((new Date).getTime()-i)/n);return l.forEach(function(n){t.style[n]=(1-h)*r[n]+h*e[n]+("opacity"==n?"":"px")}),t.style.transitionDuration="0s",c.stopNext?o=!1:a||(a=!0,o&&o()),u},then:function(t){return o=t,a&&o&&o(),u},speed:function(o){return B.config.animationsDisabled&&(o=0),a||function(){s&&clearTimeout(s);var a,c=((new Date).getTime()-i)/n,h=o*(1-c);l.forEach(function(n){t.style[n]=(1-c)*r[n]+c*e[n]+("opacity"==n?"":"px")}),a=window.getComputedStyle(t),l.forEach(a.getPropertyValue.bind(a)),a=t.offsetHeight,i=t.speedUpTime,n=h,t.style.transitionDuration=n/1e3+"s",l.forEach(function(n){t.style[n]=e[n]+("opacity"==n?"":"px")}),s=setTimeout(u.stop,h)}(),u},finish:function(){var t=arguments.length<=0||void 0===arguments[0]?50:arguments[0],e=((new Date).getTime()-i)/n;return u.speed(t/(1-e)),u}};if(t.hasAttribute("disabled")||a||B.config.animationsDisabled)return u;var c=window.getComputedStyle(t);return l.forEach(function(t){var e=parseFloat(c.getPropertyValue(t));r[t]=isNaN(e)?0:e}),a||(t.style.transitionProperty=l.join(","),t.style.transitionDuration=n/1e3+"s",l.forEach(function(n){t.style[n]=e[n]+("opacity"==n?"":"px")})),s=setTimeout(u.stop,n),this._onStopAnimations(t,u.stop),u}}]),t.createClass(e,[{key:"_onStopAnimations",value:function(t,e){var n=this._queue,i=this._index++;n[t]=n[t]||[],n[t][i]=function(r){return delete n[t][i],n[t]&&0==n[t].length&&delete n[t],e(r)}}},{key:"stopAnimations",value:function(t){var e=this,n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(Array.isArray(t))return t.forEach(function(t){e.stopAnimations(t,n)});(this._queue[t]||[]).forEach(function(t){t(n||{})})}},{key:"stopAll",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.stopAnimations(Object.keys(this._queue),t)}},{key:"fade",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?200:arguments[1];return this.animate(t,{opacity:0},e)}}]),e}(),je=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,Object.getPrototypeOf(n).apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"init",value:function(){var t=this;I(this,function(){return t._compile()}),this._animator=new Fe,["color","center","start-radius","background"].forEach(function(e){t.attributeChangedCallback(e,null,t.getAttribute(e))})}},{key:"_compile",value:function(){this.classList.add("ripple"),this._wave=this.getElementsByClassName("ripple__wave")[0],this._background=this.getElementsByClassName("ripple__background")[0],this._background&&this._wave||(this._wave=p.create(".ripple__wave"),this._background=p.create(".ripple__background"),this.appendChild(this._wave),this.appendChild(this._background))}},{key:"_calculateCoords",value:function(t){var e,n,i,r,a,o=this.getBoundingClientRect();return this._center?(e=o.width/2,n=o.height/2,a=Math.sqrt(e*e+n*n)):(e=(t.clientX||t.changedTouches[0].clientX)-o.left,n=(t.clientY||t.changedTouches[0].clientY)-o.top,i=Math.max(n,o.height-n),r=Math.max(e,o.width-e),a=Math.sqrt(i*i+r*r)),{x:e,y:n,r:a}}},{key:"_rippleAnimation",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?300:arguments[1],n=this._animator,i=this._wave,r=this._background,a=this._minR,o=this._calculateCoords(t),s=o.x,l=o.y,u=o.r;return n.stopAll({stopNext:1}),n.animate(r,{opacity:1},e),p.extend(i.style,{opacity:1,top:l-a+"px",left:s-a+"px",width:2*a+"px",height:2*a+"px"}),n.animate(i,{top:l-u,left:s-u,height:2*u,width:2*u},e)}},{key:"_updateParent",value:function(){!this._parentUpdated&&this.parentNode&&("static"===window.getComputedStyle(this.parentNode).getPropertyValue("position")&&(this.parentNode.style.position="relative"),this._parentUpdated=!0)}},{key:"_onTap",value:function(t){var e=this;this.disabled||(this._updateParent(),this._rippleAnimation(t.gesture.srcEvent).then(function(){e._animator.fade(e._wave),e._animator.fade(e._background)}))}},{key:"_onHold",value:function(t){this.disabled||(this._updateParent(),this._holding=this._rippleAnimation(t.gesture.srcEvent,2e3),document.addEventListener("release",this._boundOnRelease))}},{key:"_onRelease",value:function(t){var e=this;this._holding&&(this._holding.speed(300).then(function(){e._animator.stopAll({stopNext:!0}),e._animator.fade(e._wave),e._animator.fade(e._background)}),this._holding=!1),document.removeEventListener("release",this._boundOnRelease)}},{key:"_onDragStart",value:function(t){if(this._holding)return this._onRelease(t);-1!=["left","right"].indexOf(t.gesture.direction)&&this._onTap(t)}},{key:"connectedCallback",value:function(){this._parentNode=this.parentNode,this._boundOnTap=this._onTap.bind(this),this._boundOnHold=this._onHold.bind(this),this._boundOnDragStart=this._onDragStart.bind(this),this._boundOnRelease=this._onRelease.bind(this),B.config.animationsDisabled?this.disabled=!0:(this._parentNode.addEventListener("tap",this._boundOnTap),this._parentNode.addEventListener("hold",this._boundOnHold),this._parentNode.addEventListener("dragstart",this._boundOnDragStart))}},{key:"disconnectedCallback",value:function(){var t=this._parentNode||this.parentNode;t.removeEventListener("tap",this._boundOnTap),t.removeEventListener("hold",this._boundOnHold),t.removeEventListener("dragstart",this._boundOnDragStart)}},{key:"attributeChangedCallback",value:function(t,e,n){var i=this;"start-radius"===t&&(this._minR=Math.max(0,parseFloat(n)||0)),"color"===t&&n&&I(this,function(){i._wave.style.background=n,i.hasAttribute("background")||(i._background.style.background=n)}),"background"===t&&(n||e)&&I(this,"none"===n?function(){i._background.setAttribute("disabled","disabled"),i._background.style.background="transparent"}:function(){i._background.hasAttribute("disabled")&&i._background.removeAttribute("disabled"),i._background.style.background=n}),"center"===t&&(this._center=null!=n&&"false"!=n)}},{key:"disabled",set:function(t){return p.toggleAttribute(this,"disabled",t)},get:function(){return this.hasAttribute("disabled")}}],[{key:"observedAttributes",get:function(){return["start-radius","color","background","center"]}}]),n}(ft);customElements.define("ons-ripple",je);var ze=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,Object.getPrototypeOf(n).apply(this,arguments))}return t.inherits(n,e),n}(ft);customElements.define("ons-row",ze);var Ve={"":"speed-dial__item--*"},Ue=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,Object.getPrototypeOf(n).apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"init",value:function(){this._compile(),this._boundOnClick=this._onClick.bind(this)}},{key:"attributeChangedCallback",value:function(t,e,n){switch(t){case"modifier":F.onModifierChanged(e,n,this,Ve);break;case"ripple":this._updateRipple()}}},{key:"connectedCallback",value:function(){this.addEventListener("click",this._boundOnClick,!1)}},{key:"disconnectedCallback",value:function(){this.removeEventListener("click",this._boundOnClick,!1)}},{key:"_updateRipple",value:function(){p.updateRipple(this)}},{key:"_onClick",value:function(t){t.stopPropagation()}},{key:"_compile",value:function(){rt.prepare(this),this.classList.add("fab"),this.classList.add("fab--mini"),this.classList.add("speed-dial__item"),this._updateRipple(),F.initModifier(this,Ve)}}],[{key:"observedAttributes",get:function(){return["modifier","ripple"]}}]),n}(ft);customElements.define("ons-speed-dial-item",Ue);var We,Ye,Xe=function t(e,n){return t.css.apply(t,arguments)};Xe.css=function(t,e){return Object.keys(e).forEach(function(n){n in t.style?t.style[n]=e[n]:Xe._prefix(n)in t.style&&(t.style[Xe._prefix(n)]=e[n])}),t},Xe._prefix=(We=window.getComputedStyle(document.documentElement,""),Ye=(Array.prototype.slice.call(We).join("").match(/-(moz|webkit|ms)-/)||""===We.OLink&&["","o"])[1],function(t){return Ye+t.substr(0,1).toUpperCase()+t.substr(1)}),Xe.clear=function(t){Xe._clear(t)},Xe._clear=function(t){for(var e=t.style.length,n=t.style,i=[],r=0;r<e;r++)i.push(n[r]);i.forEach(function(t){n[t]=""})};var Ge={"":"speed-dial--*"},$e=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,Object.getPrototypeOf(n).apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"init",value:function(){var t=this;I(this,function(){t._compile()}),this._shown=!0,this._itemShown=!1,this._boundOnClick=this._onClick.bind(this)}},{key:"_compile",value:function(){this.classList.contains("speed__dial")||(this.classList.add("speed__dial"),rt.prepare(this),this._updateRipple(),F.initModifier(this,Ge),this.hasAttribute("direction")?this._updateDirection(this.getAttribute("direction")):this._updateDirection("up")),this._updatePosition()}},{key:"attributeChangedCallback",value:function(t,e,n){var i=this;switch(t){case"modifier":F.onModifierChanged(e,n,this,Ge);break;case"ripple":I(this,function(){return i._updateRipple()});break;case"direction":I(this,function(){return i._updateDirection(n)});break;case"position":I(this,function(){return i._updatePosition()})}}},{key:"connectedCallback",value:function(){this.addEventListener("click",this._boundOnClick,!1)}},{key:"disconnectedCallback",value:function(){this.removeEventListener("click",this._boundOnClick,!1)}},{key:"_onClick",value:function(t){!this.disabled&&this._shown&&this.toggleItems()}},{key:"_show",value:function(){this.inline||this.show()}},{key:"_hide",value:function(){this.inline||this.hide()}},{key:"_updateRipple",value:function(){var t=p.findChild(this,"ons-fab");t&&(this.hasAttribute("ripple")?t.setAttribute("ripple",""):t.removeAttribute("ripple"))}},{key:"_updateDirection",value:function(t){for(var e=this.items,n=0;n<e.length;n++)Xe(e[n],{transitionDelay:25*n+"ms",bottom:"auto",right:"auto",top:"auto",left:"auto"});switch(t){case"up":for(var i=0;i<e.length;i++)e[i].style.bottom=72+56*i+"px",e[i].style.right="8px";break;case"down":for(var r=0;r<e.length;r++)e[r].style.top=72+56*r+"px",e[r].style.left="8px";break;case"left":for(var a=0;a<e.length;a++)e[a].style.top="8px",e[a].style.right=72+56*a+"px";break;case"right":for(var o=0;o<e.length;o++)e[o].style.top="8px",e[o].style.left=72+56*o+"px";break;default:throw new Error("Argument must be one of up, down, left or right.")}}},{key:"_updatePosition",value:function(){var t=this.getAttribute("position");switch(this.classList.remove("fab--top__left","fab--bottom__right","fab--bottom__left","fab--top__right","fab--top__center","fab--bottom__center"),t){case"top right":case"right top":this.classList.add("fab--top__right");break;case"top left":case"left top":this.classList.add("fab--top__left");break;case"bottom right":case"right bottom":this.classList.add("fab--bottom__right");break;case"bottom left":case"left bottom":this.classList.add("fab--bottom__left");break;case"center top":case"top center":this.classList.add("fab--top__center");break;case"center bottom":case"bottom center":this.classList.add("fab--bottom__center")}}},{key:"show",value:function(){arguments.length<=0||void 0===arguments[0]||arguments[0];this.querySelector("ons-fab").show(),this._shown=!0}},{key:"hide",value:function(){var t=this;arguments.length<=0||void 0===arguments[0]||arguments[0];this.hideItems(),setTimeout(function(){t.querySelector("ons-fab").hide()},200),this._shown=!1}},{key:"showItems",value:function(){if(this.hasAttribute("direction")?this._updateDirection(this.getAttribute("direction")):this._updateDirection("up"),!this._itemShown)for(var t=this.items,e=0;e<t.length;e++)Xe(t[e],{transform:"scale(1)",transitionDelay:25*e+"ms"});this._itemShown=!0,p.triggerElementEvent(this,"open")}},{key:"hideItems",value:function(){if(this._itemShown)for(var t=this.items,e=0;e<t.length;e++)Xe(t[e],{transform:"scale(0)",transitionDelay:25*(t.length-e)+"ms"});this._itemShown=!1,p.triggerElementEvent(this,"close")}},{key:"isOpen",value:function(){return this._itemShown}},{key:"toggle",value:function(){this.visible?this.hide():this.show()}},{key:"toggleItems",value:function(){this.isOpen()?this.hideItems():this.showItems()}},{key:"items",get:function(){return p.arrayFrom(this.querySelectorAll("ons-speed-dial-item"))}},{key:"disabled",set:function(t){return t&&this.hideItems(),p.arrayFrom(this.children).forEach(function(e){p.match(e,".fab")&&p.toggleAttribute(e,"disabled",t)}),p.toggleAttribute(this,"disabled",t)},get:function(){return this.hasAttribute("disabled")}},{key:"inline",get:function(){return this.hasAttribute("inline")}},{key:"visible",get:function(){return this._shown&&"none"!==this.style.display}}],[{key:"observedAttributes",get:function(){return["modifier","ripple","direction","position"]}}]),n}(ft);customElements.define("ons-speed-dial",$e);var Ke={ready:function(t,e){setImmediate(e)},link:function(t,e,n,i){i(e)}},Qe=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,Object.getPrototypeOf(n).apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"init",value:function(){var t=this;this._page=null,this._pageLoader=ct,I(this,function(){var e=t._getPageTarget();e&&t.load(e)})}},{key:"connectedCallback",value:function(){if(!p.match(this.parentNode,"ons-splitter"))throw new Error('"ons-splitter-content" must have "ons-splitter" as parentNode.')}},{key:"_getPageTarget",value:function(){return this._page||this.getAttribute("page")}},{key:"disconnectedCallback",value:function(){}},{key:"attributeChangedCallback",value:function(t,e,n){}},{key:"load",value:function(t){var e=this,n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];this._page=t;var i=n.callback||function(){};return new Promise(function(r){e._pageLoader.load({page:t,parent:e,replace:!0},function(t){var a=t.element;t.unload;Ke.link(e,a,n,function(t){setImmediate(function(){return e._show()}),i(),r(e.firstChild)})})})}},{key:"_show",value:function(){p.propagateAction(this,"_show")}},{key:"_hide",value:function(){p.propagateAction(this,"_hide")}},{key:"_destroy",value:function(){p.propagateAction(this,"_destroy"),this.remove()}},{key:"page",get:function(){return this._page},set:function(t){this._page=t}},{key:"pageLoader",get:function(){return this._pageLoader},set:function(t){if(!(t instanceof ut))throw Error("First parameter must be an instance of PageLoader");this._pageLoader=t}}],[{key:"observedAttributes",get:function(){return[]}},{key:"rewritables",get:function(){return Ke}}]),n}(ft);customElements.define("ons-splitter-content",Qe);var Ze=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,Object.getPrototypeOf(n).apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"init",value:function(){this._boundOnClick=this._onClick.bind(this)}},{key:"_onClick",value:function(t){p.match(this.parentNode,"ons-splitter")&&this.parentNode._sides.forEach(function(t){return t.close("left").catch(function(){})}),t.stopPropagation()}},{key:"attributeChangedCallback",value:function(t,e,n){}},{key:"connectedCallback",value:function(){this.addEventListener("click",this._boundOnClick)}},{key:"disconnectedCallback",value:function(){this.removeEventListener("click",this._boundOnClick)}}],[{key:"observedAttributes",get:function(){return[]}}]),n}(ft);customElements.define("ons-splitter-mask",Ze);var Je=function(){function e(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];t.classCallCheck(this,e),this._options={timing:"cubic-bezier(.1, .7, .1, 1)",duration:"0.3",delay:"0"},this.updateOptions(n)}return t.createClass(e,[{key:"updateOptions",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];p.extend(this._options,t),this._timing=this._options.timing,this._duration=this._options.duration,this._delay=this._options.delay}},{key:"activate",value:function(t){var e=this,n=t.parentNode;I(n,function(){e._side=t,e._content=n.content,e._mask=n.mask})}},{key:"inactivate",value:function(){this._content=this._side=this._mask=null}},{key:"translate",value:function(t){animit(this._side).queue({transform:"translate3d("+(this.minus+t)+"px, 0px, 0px)"}).play()}},{key:"open",value:function(t){animit.runAll(animit(this._side).wait(this._delay).queue({transform:"translate3d("+this.minus+"100%, 0px, 0px)"},{duration:this._duration,timing:this._timing}).queue(function(e){e(),t&&t()}),animit(this._mask).wait(this._delay).queue({display:"block"}).queue({opacity:"1"},{duration:this._duration,timing:"linear"}))}},{key:"close",value:function(t){var e=this;animit.runAll(animit(this._side).wait(this._delay).queue({transform:"translate3d(0px, 0px, 0px)"},{duration:this._duration,timing:this._timing}).queue(function(n){e._side.style.webkitTransition="",t&&t(),n()}),animit(this._mask).wait(this._delay).queue({opacity:"0"},{duration:this._duration,timing:"linear"}).queue({display:"none"}))}},{key:"minus",get:function(){return"right"===this._side._side?"-":""}}]),e}(),tn={default:Je,overlay:Je},en=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,Object.getPrototypeOf(n).apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"_getSide",value:function(t){return p.findChild(this,function(e){return p.match(e,"ons-splitter-side")&&e.getAttribute("side")===t})}},{key:"_onDeviceBackButton",value:function(t){this._sides.some(function(t){return!!t.isOpen&&t.close()})||t.callParentHandler()}},{key:"_onModeChange",value:function(t){var e=this;t.target.parentNode&&I(this,function(){e._layout()})}},{key:"_layout",value:function(){var t=this;this._sides.forEach(function(e){t.content.style[e.side]="split"===e.mode?e._width:0})}},{key:"init",value:function(){var t=this;this._boundOnModeChange=this._onModeChange.bind(this),I(this,function(){t._compile(),t._layout()})}},{key:"_compile",value:function(){this.mask||this.appendChild(document.createElement("ons-splitter-mask"))}},{key:"connectedCallback",value:function(){this.onDeviceBackButton=this._onDeviceBackButton.bind(this),this.addEventListener("modechange",this._boundOnModeChange,!1)}},{key:"disconnectedCallback",value:function(){this._backButtonHandler.destroy(),this._backButtonHandler=null,this.removeEventListener("modechange",this._boundOnModeChange,!1)}},{key:"attributeChangedCallback",value:function(t,e,n){}},{key:"_show",value:function(){p.propagateAction(this,"_show")}},{key:"_hide",value:function(){p.propagateAction(this,"_hide")}},{key:"_destroy",value:function(){p.propagateAction(this,"_destroy"),this.remove()}},{key:"left",get:function(){return this._getSide("left")}},{key:"right",get:function(){return this._getSide("right")}},{key:"_sides",get:function(){return[this.left,this.right].filter(function(t){return t})}},{key:"content",get:function(){return p.findChild(this,"ons-splitter-content")}},{key:"mask",get:function(){return p.findChild(this,"ons-splitter-mask")}},{key:"onDeviceBackButton",get:function(){return this._backButtonHandler},set:function(t){this._backButtonHandler&&this._backButtonHandler.destroy(),this._backButtonHandler=J.createHandler(this,t)}}],[{key:"registerAnimator",value:function(t,e){if(!(e instanceof Je))throw new Error("Animator parameter must be an instance of SplitterAnimator.");tn[t]=e}},{key:"SplitterAnimator",get:function(){return Je}},{key:"animators",get:function(){return tn}}]),n}(ft);customElements.define("ons-splitter",en);var nn="collapse",rn="closed",an="changing",on=["animation","width","side","collapse","swipeable","swipe-target-width","animation-options","open-threshold"],sn={ready:function(t,e){setImmediate(e)},link:function(t,e,n,i){i(e)}},ln=function(){function e(n,i){t.classCallCheck(this,e),this._element=n,this._boundOnChange=this._onChange.bind(this),i&&this.changeTarget(i)}return t.createClass(e,[{key:"changeTarget",value:function(t){this.disable(),this._target=t,t&&(this._orientation=-1!==["portrait","landscape"].indexOf(t),this.activate())}},{key:"_match",value:function(t){return this._orientation?this._target===(t.isPortrait?"portrait":"landscape"):t.matches}},{key:"_onChange",value:function(t){this._element._updateMode(this._match(t)?nn:"split")}},{key:"activate",value:function(){this._orientation?(U.on("change",this._boundOnChange),this._onChange({isPortrait:U.isPortrait()})):(this._queryResult=window.matchMedia(this._target),this._queryResult.addListener(this._boundOnChange),this._onChange(this._queryResult))}},{key:"disable",value:function(){this._orientation?U.off("change",this._boundOnChange):this._queryResult&&(this._queryResult.removeListener(this._boundOnChange),this._queryResult=null)}}]),e}(),un=function(){function e(n){t.classCallCheck(this,e),this._active=!1,this._state=rn,this._element=n,this._lock=new ot}return t.createClass(e,[{key:"_animator",get:function(){return this._element._animator}}]),t.createClass(e,[{key:"isOpen",value:function(){return this._active&&this._state!==rn}},{key:"handleGesture",value:function(t){!this._active||this._lock.isLocked()||this._isOpenOtherSideMenu()||("dragstart"===t.type?this._onDragStart(t):this._ignoreDrag||("dragend"===t.type?this._onDragEnd(t):this._onDrag(t)))}},{key:"_onDragStart",value:function(t){var e,n,i,r=!/left|right/.test(t.gesture.direction),a="left"===this._element._side?t.gesture.center.clientX:window.innerWidth-t.gesture.center.clientX,o=this._element._swipeTargetWidth,s=this.isOpen();this._ignoreDrag=r||o&&a>o&&!s,this._width=(e=this._element._width,n=this._element.parentNode,i=parseInt(e,10),/px/.test(e)?i:Math.round(n.offsetWidth*i/100)),this._startDistance=this._distance=s?this._width:0}},{key:"_onDrag",value:function(t){t.gesture.preventDefault();var e="left"===this._element._side?t.gesture.deltaX:-t.gesture.deltaX,n=Math.max(0,Math.min(this._width,this._startDistance+e));n!==this._distance&&(this._animator.translate(n),this._distance=n,this._state=an)}},{key:"_onDragEnd",value:function(t){var e=this._distance,n=this._width,i=this._element,r=t.gesture.interimDirection,a=i._side!==r&&e>n*i._threshold;this.executeAction(a?"open":"close"),this._ignoreDrag=!0}},{key:"layout",value:function(){this._active&&"open"===this._state&&this._animator.open()}},{key:"enterMode",value:function(){this._active||(this._active=!0,this.layout())}},{key:"exitMode",value:function(){this._active=!1}},{key:"_isOpenOtherSideMenu",value:function(){var t=this;return p.arrayFrom(this._element.parentElement.children).some(function(e){return p.match(e,"ons-splitter-side")&&e!==t._element&&e.isOpen})}},{key:"executeAction",value:function(t){var e=this,n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i="open"===t?"open":rn;if(!this._active)return Promise.resolve(!1);if(this._state===i)return Promise.resolve(this._element);if(this._lock.isLocked())return Promise.reject("Splitter side is locked.");if("open"===t&&this._isOpenOtherSideMenu())return Promise.reject("Another menu is already open.");if(this._element._emitEvent("pre"+t))return Promise.reject("Canceled in pre"+t+" event.");var r=n.callback,a=this._lock.lock(),o=function(){e._state=i,e.layout(),a(),e._element._emitEvent("post"+t),r&&r()};return n.withoutAnimation?(o(),Promise.resolve(this._element)):(this._state=an,new Promise(function(n){e._animator[t](function(){o(),n(e._element)})}))}}]),e}(),cn=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,Object.getPrototypeOf(n).apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"init",value:function(){var t=this;this._page=null,this._pageLoader=ct,this._collapseMode=new un(this),this._collapseDetection=new ln(this),this._animatorFactory=new R({animators:en.animators,baseClass:Je,baseClassName:"SplitterAnimator",defaultAnimation:this.getAttribute("animation")}),this._boundHandleGesture=function(e){return t._collapseMode.handleGesture(e)},this._watchedAttributes=on,I(this,function(){sn.ready(t,function(){var e=t._getPageTarget();e&&t.load(e)})})}},{key:"connectedCallback",value:function(){var t=this;if(!p.match(this.parentNode,"ons-splitter"))throw new Error("Parent must be an ons-splitter element.");this._gestureDetector=new m(this.parentElement,{dragMinDistance:1}),I(this,function(){t._watchedAttributes.forEach(function(e){return t._update(e)})}),this.hasAttribute("side")||this.setAttribute("side","left")}},{key:"_getPageTarget",value:function(){return this._page||this.getAttribute("page")}},{key:"disconnectedCallback",value:function(){this._collapseDetection.disable(),this._gestureDetector.dispose(),this._gestureDetector=null}},{key:"attributeChangedCallback",value:function(t,e,n){this._update(t,n)}},{key:"_update",value:function(t,e){return this[t="_update"+t.split("-").map(function(t){return t[0].toUpperCase()+t.slice(1)}).join("")](e)}},{key:"_emitEvent",value:function(t){if("pre"!==t.slice(0,3))return p.triggerElementEvent(this,t,{side:this});var e=!1;return p.triggerElementEvent(this,t,{side:this,cancel:function(){return e=!0}}),e}},{key:"_updateCollapse",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.getAttribute("collapse"):arguments[0];return null===t||"split"===t?(this._collapseDetection.disable(),this._updateMode("split")):""===t||"collapse"===t?(this._collapseDetection.disable(),this._updateMode(nn)):void this._collapseDetection.changeTarget(t)}},{key:"_updateMode",value:function(t){t!==this._mode&&(this._mode=t,this._collapseMode[t===nn?"enterMode":"exitMode"](),this.setAttribute("mode",t),p.triggerElementEvent(this,"modechange",{side:this,mode:t}))}},{key:"_updateOpenThreshold",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.getAttribute("open-threshold"):arguments[0];this._threshold=Math.max(0,Math.min(1,parseFloat(t)||.3))}},{key:"_updateSwipeable",value:function(){var t=null===(arguments.length<=0||void 0===arguments[0]?this.getAttribute("swipeable"):arguments[0])?"off":"on";this._gestureDetector&&this._gestureDetector[t]("dragstart dragleft dragright dragend",this._boundHandleGesture)}},{key:"_updateSwipeTargetWidth",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.getAttribute("swipe-target-width"):arguments[0];this._swipeTargetWidth=Math.max(0,parseInt(t)||0)}},{key:"_updateWidth",value:function(){this.style.width=this._width}},{key:"_updateSide",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.getAttribute("side"):arguments[0];this._side="right"===t?t:"left"}},{key:"_updateAnimation",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.getAttribute("animation"):arguments[0];this._animator=this._animatorFactory.newAnimator({animation:t}),this._animator.activate(this)}},{key:"_updateAnimationOptions",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.getAttribute("animation-options"):arguments[0];this._animator.updateOptions(R.parseAnimationOptionsString(t))}},{key:"open",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return this._collapseMode.executeAction("open",t)}},{key:"close",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return this._collapseMode.executeAction("close",t)}},{key:"toggle",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return this.isOpen?this.close(t):this.open(t)}},{key:"load",value:function(t){var e=this,n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];this._page=t;var i=n.callback||function(){};return new Promise(function(r){e._pageLoader.load({page:t,parent:e,replace:!0},function(t){var a=t.element;t.unload;sn.link(e,a,n,function(t){setImmediate(function(){return e._show()}),i(),r(e.firstChild)})})})}},{key:"_show",value:function(){p.propagateAction(this,"_show")}},{key:"_hide",value:function(){p.propagateAction(this,"_hide")}},{key:"_destroy",value:function(){p.propagateAction(this,"_destroy"),this.remove()}},{key:"side",get:function(){return"right"===this.getAttribute("side")?"right":"left"}},{key:"_width",get:function(){var t=this.getAttribute("width");return/^\d+(px|%)$/.test(t)?t:"80%"},set:function(t){this.setAttribute("width",t)}},{key:"page",get:function(){return this._page},set:function(t){this._page=t}},{key:"pageLoader",get:function(){return this._pageLoader},set:function(t){if(!(t instanceof ut))throw Error("First parameter must be an instance of PageLoader.");this._pageLoader=t}},{key:"mode",get:function(){return this._mode}},{key:"isOpen",get:function(){return this._collapseMode.isOpen()}}],[{key:"observedAttributes",get:function(){return on}},{key:"rewritables",get:function(){return sn}}]),n}(ft);customElements.define("ons-splitter-side",cn);var hn={"":"switch--*",".switch__input":"switch--*__input",".switch__handle":"switch--*__handle",".switch__toggle":"switch--*__toggle"},dn=p.createFragment('\n  <input type="checkbox" class="switch__input">\n  <div class="switch__toggle">\n    <div class="switch__handle">\n      <div class="switch__touch"></div>\n    </div>\n  </div>\n'),fn={ios:[1,21],material:[0,16]},pn=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,Object.getPrototypeOf(n).apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"init",value:function(){var t=this;this._checked=!1,this._disabled=!1,this._boundOnChange=this._onChange.bind(this),this._compile(),["checked","disabled","modifier","name","input-id"].forEach(function(e){t.attributeChangedCallback(e,null,t.getAttribute(e))})}},{key:"_compile",value:function(){rt.prepare(this),this.classList.add("switch"),p.findChild(this,".switch__input")&&p.findChild(this,".switch__toggle")||this.appendChild(dn.cloneNode(!0)),F.initModifier(this,hn),this._checkbox=this.querySelector(".switch__input"),this._handle=this.querySelector(".switch__handle"),this._checkbox.checked=this._checked,this._checkbox.disbled=this._disabled}},{key:"disconnectedCallback",value:function(){this._checkbox.removeEventListener("change",this._boundOnChange),this.removeEventListener("dragstart",this._onDragStart),this.removeEventListener("hold",this._onHold),this.removeEventListener("tap",this.click),this.removeEventListener("click",this._onClick),this._gestureDetector.dispose()}},{key:"connectedCallback",value:function(){this._checkbox.addEventListener("change",this._boundOnChange),this.addEventListener("dragstart",this._onDragStart),this.addEventListener("hold",this._onHold),this.addEventListener("tap",this.click),this.addEventListener("click",this._onClick),this._gestureDetector=new m(this,{dragMinDistance:1,holdTimeout:251}),this._boundOnRelease=this._onRelease.bind(this)}},{key:"_onChange",value:function(t){p.toggleAttribute(this,"checked",this.checkbox.checked)}},{key:"_onClick",value:function(t){t.target.classList.contains("switch__touch")&&t.preventDefault()}},{key:"click",value:function(){this._disabled||(this.checked=!this.checked,p.triggerElementEvent(this,"change",{value:this.checked,switch:this,isInteractive:!0}))}},{key:"_getPosition",value:function(t){var e=this._locations;return Math.min(e[1],Math.max(e[0],this._startX+t.gesture.deltaX))}},{key:"_onHold",value:function(t){this.disabled||(this.classList.add("switch--active"),document.addEventListener("release",this._boundOnRelease))}},{key:"_onDragStart",value:function(t){this.disabled||-1===["left","right"].indexOf(t.gesture.direction)?this.classList.remove("switch--active"):(t.stopPropagation(),this.classList.add("switch--active"),this._startX=this._locations[this.checked?1:0],this.addEventListener("drag",this._onDrag),document.addEventListener("release",this._boundOnRelease))}},{key:"_onDrag",value:function(t){t.gesture.srcEvent.preventDefault(),this._handle.style.left=this._getPosition(t)+"px"}},{key:"_onRelease",value:function(t){var e=this._locations,n=this._getPosition(t),i=this.checked;this.checked=n>=(e[0]+e[1])/2,this.checked!==i&&p.triggerElementEvent(this,"change",{value:this.checked,switch:this,isInteractive:!0}),this.removeEventListener("drag",this._onDrag),document.removeEventListener("release",this._boundOnRelease),this._handle.style.left="",this.classList.remove("switch--active")}},{key:"attributeChangedCallback",value:function(t,e,n){switch(t){case"modifier":this._isMaterial=-1!==(n||"").indexOf("material"),this._locations=fn[this._isMaterial?"material":"ios"],F.onModifierChanged(e,n,this,hn);break;case"input-id":this._checkbox.id=n;break;case"checked":this._checked=null!==n,this._checkbox.checked=null!==n,p.toggleAttribute(this._checkbox,t,null!==n);break;case"disabled":this._disabled=null!==n,this._checkbox.disabled=null!==n,p.toggleAttribute(this._checkbox,t,null!==n)}}},{key:"checked",get:function(){return this._checked},set:function(t){this._checked=!!t,p.toggleAttribute(this,"checked",this._checked)}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=!!t,p.toggleAttribute(this,"disabled",this._disabled),this._checkbox.disabled=this._disabled}},{key:"checkbox",get:function(){return this._checkbox}}],[{key:"observedAttributes",get:function(){return["modifier","input-id","checked","disabled"]}}]),n}(ft);customElements.define("ons-switch",pn);var mn,gn=function(){function e(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];t.classCallCheck(this,e),this.timing=n.timing||"linear",this.duration=void 0!==n.duration?n.duration:"0.4",this.delay=void 0!==n.delay?n.delay:"0"}return t.createClass(e,[{key:"apply",value:function(t,e,n,i,r){throw new Error("This method must be implemented.")}}]),e}(),vn=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,Object.getPrototypeOf(n).apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"apply",value:function(t,e,n,i,r){setTimeout(r,1e3/60)}}]),n}(gn),_n=function(e){function n(e){return t.classCallCheck(this,n),e.timing=void 0!==e.timing?e.timing:"linear",e.duration=void 0!==e.duration?e.duration:"0.4",e.delay=void 0!==e.delay?e.delay:"0",t.possibleConstructorReturn(this,Object.getPrototypeOf(n).call(this,e))}return t.inherits(n,e),t.createClass(n,[{key:"apply",value:function(t,e,n,i,r){animit.runAll(animit(t).saveStyle().queue({transform:"translate3D(0, 0, 0)",opacity:0}).wait(this.delay).queue({transform:"translate3D(0, 0, 0)",opacity:1},{duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){r(),t()}),animit(e).queue({transform:"translate3D(0, 0, 0)",opacity:1}).wait(this.delay).queue({transform:"translate3D(0, 0, 0)",opacity:0},{duration:this.duration,timing:this.timing}))}}]),n}(gn),bn=function(e){function n(e){return t.classCallCheck(this,n),e.timing=void 0!==e.timing?e.timing:"ease-in",e.duration=void 0!==e.duration?e.duration:"0.15",e.delay=void 0!==e.delay?e.delay:"0",t.possibleConstructorReturn(this,Object.getPrototypeOf(n).call(this,e))}return t.inherits(n,e),t.createClass(n,[{key:"apply",value:function(t,e,n,i,r){var a=n>i;animit.runAll(animit(t).saveStyle().queue({transform:"translate3D("+(a?"":"-")+"100%, 0, 0)"}).wait(this.delay).queue({transform:"translate3D(0, 0, 0)"},{duration:this.duration,timing:this.timing}).restoreStyle().queue(function(t){r(),t()}),animit(e).queue({transform:"translate3D(0, 0, 0)"}).wait(this.delay).queue({transform:"translate3D("+(a?"-":"")+"100%, 0, 0)"},{duration:this.duration,timing:this.timing}))}}]),n}(gn),yn={".tab-bar__content":"tab-bar--*__content",".tab-bar":"tab-bar--*"},kn={default:vn,fade:_n,slide:bn,none:vn},En={ready:function(t,e){e()},link:function(t,e,n,i){i(e)},unlink:function(t,e,n){n(e)}},Cn=(mn=0,function(){return"ons-tabbar-gen-"+mn++}),wn=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,Object.getPrototypeOf(n).apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"init",value:function(){var t=this;this._tabbarId=Cn(),I(this,function(){t._compile();for(var e=t._contentElement,n=0;n<e.children.length;n++)e.children[n].style.display="none";var i=t.getAttribute("activeIndex"),r=t._tabbarElement;i&&r.children.length>i&&r.children[i].setAttribute("active","true"),rt.prepare(t),F.initModifier(t,yn),t._animatorFactory=new R({animators:kn,baseClass:gn,baseClassName:"TabbarAnimator",defaultAnimation:t.getAttribute("animation")})})}},{key:"connectedCallback",value:function(){var t=this;I(this,function(){return t._updatePosition()})}},{key:"_compile",value:function(){if(this._contentElement&&this._tabbarElement){var t=p.findChild(this,".tab-bar__content"),e=p.findChild(this,".tab-bar");t.classList.add("ons-tab-bar__content"),e.classList.add("ons-tab-bar__footer")}else{for(var n=p.create(".ons-tab-bar__content.tab-bar__content"),i=p.create(".tab-bar.ons-tab-bar__footer");this.firstChild;)i.appendChild(this.firstChild);this.appendChild(n),this.appendChild(i)}}},{key:"_updatePosition",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?this.getAttribute("position"):arguments[0],n=this._top="top"===e||"auto"===e&&S.isAndroid(),i=n?p.addModifier:p.removeModifier;i(this,"top");var r=p.findParent(this,"ons-page");r&&(this.style.top=n?window.getComputedStyle(r._getContentElement(),null).getPropertyValue("padding-top"):"",p.match(r.firstChild,"ons-toolbar")&&i(r.firstChild,"noshadow")),B.autoStatusBarFill(function(){var e=p.findParent(t,function(t){return t.hasAttribute("status-bar-fill")});p.toggleAttribute(t,"status-bar-fill",n&&!e)})}},{key:"_getTabbarElement",value:function(){return p.findChild(this,".tab-bar")}},{key:"loadPage",value:function(t){var e=this,n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return new Promise(function(i){(e._tabbarElement.children[0]||new On)._loadPage(t,e._contentElement,function(t){i(e._loadPageDOMAsync(t,n))})})}},{key:"_loadPageDOMAsync",value:function(t){var e=this,n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return new Promise(function(i){En.link(e,t,n,function(t){e._contentElement.appendChild(t),-1!==e.getActiveTabIndex()?i(e._switchPage(t,n)):(n.callback instanceof Function&&n.callback(),e._oldPageElement=t,i(t))})})}},{key:"getTabbarId",value:function(){return this._tabbarId}},{key:"_getCurrentPageElement",value:function(){for(var t=this._contentElement.children,e=null,n=0;n<t.length;n++)if("none"!==t[n].style.display){e=t[n];break}if(e&&"ons-page"!==e.nodeName.toLowerCase())throw new Error('Invalid state: page element must be a "ons-page" element.');return e}},{key:"_switchPage",value:function(t,e){var n=this._oldPageElement||B.nullElement;this._oldPageElement=t;var i=this._animatorFactory.newAnimator(e);return new Promise(function(r){n!==B.nullElement&&n._hide(),i.apply(t,n,e.selectedTabIndex,e.previousTabIndex,function(){n!==B.nullElement&&(n.style.display="none"),t.style.display="block",t._show(),e.callback instanceof Function&&e.callback(),r(t)})})}},{key:"setActiveTab",value:function(e){var n=this,i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(i&&"object"!=(void 0===i?"undefined":t.typeof(i)))throw new Error("options must be an object. You supplied "+i);i.animationOptions=p.extend(i.animationOptions||{},R.parseAnimationOptionsString(this.getAttribute("animation-options"))),!i.animation&&this.hasAttribute("animation")&&(i.animation=this.getAttribute("animation"));var r=this._getActiveTabElement(),a=this._getTabElement(e),o=this.getActiveTabIndex(),s=e,l=this._getCurrentPageElement();if(!a)return Promise.reject("Specified index does not match any tab.");if(s===o)return p.triggerElementEvent(this,"reactive",{index:s,tabItem:a}),Promise.resolve(l);var u=!1;if(p.triggerElementEvent(this,"prechange",{index:s,tabItem:a,cancel:function(){return u=!0}}),u)return a.setInactive(),r&&r.setActive(),Promise.reject("Canceled in prechange event.");a.setActive();var c=t.extends({},i,{previousTabIndex:o,selectedTabIndex:s});r?r.setInactive():c.animation="none";var h=function(t,e){En.link(n,t,i,e)};return new Promise(function(t){a._loadPageElement(n._contentElement,function(e){e.removeAttribute("style"),n._switchPage(e,c).then(function(e){return p.triggerElementEvent(n,"postchange",{index:s,tabItem:a}),t(e)})},h)})}},{key:"setTabbarVisibility",value:function(t){this._contentElement.style[this._top?"top":"bottom"]=t?"":"0px",this._getTabbarElement().style.display=t?"":"none"}},{key:"getActiveTabIndex",value:function(){for(var t=this._getTabbarElement().children,e=0;e<t.length;e++)if(t[e]instanceof On&&t[e].isActive&&t[e].isActive())return e;return-1}},{key:"_getActiveTabElement",value:function(){return this._getTabElement(this.getActiveTabIndex())}},{key:"_getTabElement",value:function(t){return this._getTabbarElement().children[t]}},{key:"disconnectedCallback",value:function(){}},{key:"_show",value:function(){var t=this._getCurrentPageElement();t&&t._show()}},{key:"_hide",value:function(){var t=this._getCurrentPageElement();t&&t._hide()}},{key:"_destroy",value:function(){for(var t=this._contentElement.children,e=t.length-1;e>=0;e--)t[e]._destroy();this.remove()}},{key:"attributeChangedCallback",value:function(t,e,n){if("modifier"===t)return F.onModifierChanged(e,n,this,yn)}},{key:"_contentElement",get:function(){return p.findChild(this,".tab-bar__content")}},{key:"_tabbarElement",get:function(){return p.findChild(this,".tab-bar")}},{key:"pages",get:function(){return p.arrayFrom(this._contentElement.children)}}],[{key:"registerAnimator",value:function(t,e){if(!(e.prototype instanceof gn))throw new Error('"Animator" param must inherit TabbarElement.TabbarAnimator');kn[t]=e}},{key:"observedAttributes",get:function(){return["modifier"]}},{key:"rewritables",get:function(){return En}},{key:"TabbarAnimator",get:function(){return gn}}]),n}(ft);customElements.define("ons-tabbar",wn);var An={"":"tab-bar--*__item",".tab-bar__button":"tab-bar--*__button"},Ln=p.createElement('\n  <div>\n    <input type="radio" style="display: none">\n    <button class="tab-bar__button"></button>\n  </div>\n'),Tn=p.createElement('\n  <div>\n    <div class="tab-bar__icon">\n      <ons-icon icon="ion-cloud"></ons-icon>\n    </div>\n    <div class="tab-bar__label">label</div>\n    <div class="tab-bar__badge notification">1</div>\n  </div>\n'),On=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,Object.getPrototypeOf(n).apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"init",value:function(){var t=this;this._pageLoader=ct,this._page=null,this.hasAttribute("label")||this.hasAttribute("icon")||this.hasAttribute("badge")?this._compile():I(this,function(){t._compile()}),this._boundOnClick=this._onClick.bind(this)}},{key:"_getPageTarget",value:function(){return this.page||this.getAttribute("page")}},{key:"_templateLoaded",value:function(){if(0==this.children.length)return!1;var t="radio"===this.children[0].getAttribute("type"),e=p.findChild(this,".tab-bar__button");return t&&e}},{key:"_compile",value:function(){if(rt.prepare(this),this.classList.add("tab-bar__item"),!this._templateLoaded()){for(var t=document.createDocumentFragment(),e=!1;this.childNodes[0];){var n=this.childNodes[0];this.removeChild(n),t.appendChild(n),n.nodeType==Node.ELEMENT_NODE&&(e=!0)}for(var i=Ln.cloneNode(!0);i.children[0];)this.appendChild(i.children[0]);var r=p.findChild(this,".tab-bar__button");e?(r.appendChild(t),this._hasDefaultTemplate=!1):(this._hasDefaultTemplate=!0,this._updateDefaultTemplate())}F.initModifier(this,An),this._updateRipple()}},{key:"_updateRipple",value:function(){}},{key:"_updateDefaultTemplate",value:function(){if(this._hasDefaultTemplate){var t=p.findChild(this,".tab-bar__button"),e=Tn.cloneNode(!0);if(0==t.children.length)for(;e.children[0];)t.appendChild(e.children[0]);t.querySelector(".tab-bar__icon")||t.insertBefore(e.querySelector(".tab-bar__icon"),t.firstChild),t.querySelector(".tab-bar__label")||t.appendChild(e.querySelector(".tab-bar__label")),t.querySelector(".tab-bar__badge")||t.appendChild(e.querySelector(".tab-bar__badge"));var n=this,i=this.getAttribute("icon"),r=this.getAttribute("label"),a=this.getAttribute("badge");if("string"==typeof i){var o=d(),s=o.getAttribute("icon");o.setAttribute("icon",i),d().attributeChangedCallback("icon",s,i)}else{var l=t.querySelector(".tab-bar__icon");l&&l.remove()}if("string"==typeof r)h().textContent=r;else{var u=h();u&&u.remove()}if("string"==typeof a)f().textContent=a;else{var c=f();c&&c.remove()}}function h(){return n.querySelector(".tab-bar__label")}function d(){return n.querySelector("ons-icon")}function f(){return n.querySelector(".tab-bar__badge")}}},{key:"_onClick",value:function(){var t=this._findTabbarElement();t&&t.setActiveTab(this._findTabIndex())}},{key:"setActive",value:function(){p.findChild(this,"input").checked=!0,this.classList.add("active"),p.arrayFrom(this.querySelectorAll("[ons-tab-inactive], ons-tab-inactive")).forEach(function(t){return t.style.display="none"}),p.arrayFrom(this.querySelectorAll("[ons-tab-active], ons-tab-active")).forEach(function(t){return t.style.display="inherit"})}},{key:"setInactive",value:function(){p.findChild(this,"input").checked=!1,this.classList.remove("active"),p.arrayFrom(this.querySelectorAll("[ons-tab-inactive], ons-tab-inactive")).forEach(function(t){return t.style.display="inherit"}),p.arrayFrom(this.querySelectorAll("[ons-tab-active], ons-tab-active")).forEach(function(t){return t.style.display="none"})}},{key:"_loadPageElement",value:function(t,e,n){var i=this;if(this._loadedPage||this._getPageTarget())this._loadedPage?e(this._loadedPage.element):this._pageLoader.load({page:this._getPageTarget(),parent:t},function(t){i._loadedPage=t,n(t.element,function(n){t.element=n,e(t.element)})});else{var r=this._findTabbarElement().pages,a=this._findTabIndex();e(r[a])}}},{key:"_loadPage",value:function(t,e,n){this._pageLoader.load({page:t,parent:e},function(t){n(t.element)})}},{key:"isActive",value:function(){return this.classList.contains("active")}},{key:"disconnectedCallback",value:function(){this.removeEventListener("click",this._boundOnClick,!1),this._loadedPage&&(this._loadedPage.unload(),this._loadedPage=null)}},{key:"connectedCallback",value:function(){var t=this;I(this,function(){t._ensureElementPosition();var e=t._findTabbarElement();if(e.hasAttribute("modifier")){var n=t.hasAttribute("modifier")?t.getAttribute("modifier")+" ":"";t.setAttribute("modifier",n+e.getAttribute("modifier"))}wn.rewritables.ready(e,function(){t._getPageTarget()&&!t.hasLoaded&&(t.hasLoaded=!0,t._loadPageElement(e._contentElement,function(n){n.style.display="none",e._contentElement.appendChild(n),t.hasAttribute("active")&&e.setActiveTab(t._findTabIndex())},function(t,n){wn.rewritables.link(e,t,{},function(t){return n(t)})}))}),t.addEventListener("click",t._boundOnClick,!1)})}},{key:"_findTabbarElement",value:function(){return this.parentNode&&"ons-tabbar"===this.parentNode.nodeName.toLowerCase()?this.parentNode:this.parentNode.parentNode&&"ons-tabbar"===this.parentNode.parentNode.nodeName.toLowerCase()?this.parentNode.parentNode:null}},{key:"_findTabIndex",value:function(){for(var t=this.parentNode.children,e=0;e<t.length;e++)if(this===t[e])return e}},{key:"_ensureElementPosition",value:function(){if(!this._findTabbarElement())throw new Error("This ons-tab element is must be child of ons-tabbar element.")}},{key:"attributeChangedCallback",value:function(t,e,n){var i=this;switch(t){case"modifier":I(this,function(){return F.onModifierChanged(e,n,i,An)});break;case"ripple":I(this,function(){return i._updateRipple()});break;case"icon":case"label":case"badge":I(this,function(){return i._updateDefaultTemplate()});break;case"page":"string"==typeof n&&(this._page=n)}}},{key:"page",set:function(t){this._page=t},get:function(){return this._page}},{key:"pageLoader",set:function(t){if(!(t instanceof ut))throw Error("First parameter must be an instance of PageLoader.");this._pageLoader=t},get:function(){return this._pageLoader}},{key:"pageElement",get:function(){if(this._loadedPage)return this._loadedPage.element;var t=this._findTabbarElement(),e=this._findTabIndex();return t._contentElement.children[e]}}],[{key:"observedAttributes",get:function(){return["modifier","ripple","icon","label","page","badge"]}}]),n}(ft);customElements.define("ons-tab",On);var Sn={"":"toolbar-button--*"},Pn=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,Object.getPrototypeOf(n).apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"init",value:function(){this._compile()}},{key:"_compile",value:function(){rt.prepare(this),this.classList.add("toolbar-button"),F.initModifier(this,Sn)}},{key:"attributeChangedCallback",value:function(t,e,n){if("modifier"===t)return F.onModifierChanged(e,n,this,Sn)}},{key:"disabled",set:function(t){return p.toggleAttribute(this,"disabled",t)},get:function(){return this.hasAttribute("disabled")}}],[{key:"observedAttributes",get:function(){return["modifier"]}}]),n}(ft);customElements.define("ons-toolbar-button",Pn);var Mn={".range":"range--*",".range__left":"range--*__left"},Dn=p.createElement('<div>\n  <div class="range__left"></div>\n  <input type="range" class="range">\n</div>'),xn=["autofocus","disabled","inputmode","max","min","name","placeholder","readonly","size","step","validator","value"],In=function(e){function n(){return t.classCallCheck(this,n),t.possibleConstructorReturn(this,Object.getPrototypeOf(n).apply(this,arguments))}return t.inherits(n,e),t.createClass(n,[{key:"init",value:function(){var t=this;I(this,function(){t._compile(),t._updateBoundAttributes(),t._onChange()})}},{key:"_compile",value:function(){if(rt.prepare(this),!p.findChild(this,".range__left")||!p.findChild(this,"input"))for(var t=Dn.cloneNode(!0);t.children[0];)this.appendChild(t.children[0]);F.initModifier(this,Mn)}},{key:"_onChange",value:function(){this._left.style.width=100*this._ratio+"%"}},{key:"_onDragstart",value:function(t){t.stopPropagation(),t.gesture.stopPropagation()}},{key:"attributeChangedCallback",value:function(t,e,n){var i=this;"modifier"===t?F.onModifierChanged(e,n,this,Mn):xn.indexOf(t)>=0&&I(this,function(){i._updateBoundAttributes(),"min"!==t&&"max"!==t||i._onChange()})}},{key:"connectedCallback",value:function(){this.addEventListener("dragstart",this._onDragstart),this.addEventListener("input",this._onChange)}},{key:"disconnectedCallback",value:function(){this.removeEventListener("dragstart",this._onDragstart),this.removeEventListener("input",this._onChange)}},{key:"_updateBoundAttributes",value:function(){var t=this;xn.forEach(function(e){t.hasAttribute(e)?t._input.setAttribute(e,t.getAttribute(e)):t._input.removeAttribute(e)})}},{key:"_ratio",get:function(){var t=""===this._input.min?0:parseInt(this._input.min),e=""===this._input.max?100:parseInt(this._input.max);return(this.value-t)/(e-t)}},{key:"_input",get:function(){return this.querySelector("input")}},{key:"_left",get:function(){return this.querySelector(".range__left")}},{key:"disabled",set:function(t){return p.toggleAttribute(this,"disabled",t)},get:function(){return this.hasAttribute("disabled")}},{key:"value",get:function(){return this._input.value},set:function(t){var e=this;I(this,function(){e._input.value=t,e._onChange()})}}],[{key:"observedAttributes",get:function(){return["modifier"].concat(xn)}}]),n}(ft);return customElements.define("ons-range",In),dt.TemplateElement=pt,dt.IfElement=mt,dt.AlertDialogElement=kt,dt.BackButtonElement=Ct,dt.BottomToolbarElement=At,dt.ButtonElement=Tt,dt.CarouselItemElement=St,dt.CarouselElement=Dt,dt.ColElement=xt,dt.DialogElement=Ft,dt.FabElement=zt,dt.GestureDetectorElement=Vt,dt.IconElement=Ut,dt.LazyRepeatElement=Wt,dt.ListHeaderElement=Xt,dt.ListItemElement=$t,dt.ListElement=Qt,dt.InputElement=te,dt.ModalElement=ae,dt.NavigatorElement=ge,dt.PageElement=ke,dt.PopoverElement=Pe,dt.ProgressBarElement=xe,dt.ProgressCircularElement=Ne,dt.PullHookElement=Re,dt.RippleElement=je,dt.RowElement=ze,dt.SpeedDialItemElement=Ue,dt.SpeedDialElement=$e,dt.SplitterContentElement=Qe,dt.SplitterMaskElement=Ze,dt.SplitterSideElement=cn,dt.SplitterElement=en,dt.SwitchElement=pn,dt.TabElement=On,dt.TabbarElement=wn,dt.ToolbarButtonElement=Pn,dt.ToolbarElement=_e,dt.RangeElement=In,window.addEventListener("load",function(){dt.fastClick=FastClick.attach(document.body)},!1),window.addEventListener("DOMContentLoaded",function(){dt._deviceBackButtonDispatcher.enable(),dt._defaultDeviceBackButtonHandler=dt._deviceBackButtonDispatcher.createHandler(window.document.body,function(){navigator.app.exitApp()}),document.body._gestureDetector=new dt.GestureDetector(document.body)},!1),dt.ready(function(){dt._setupLoadingPlaceHolders()}),(new Viewport).setup(),dt});