!function(){if(/^https:\/\/preview-.+monaca\.(local||mobi)/.test(location.href)&&(window.device=function(){var e=window.location.search.substring(1).split("&"),t={},n={platform:""};if(e){for(var o in e){var r=e[o].split("=");t[r[0]]=decodeURIComponent(r[1])}n.platform=t.platform}return n}()),navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/iPhone|iPad|iPod/i)){if("string"==typeof location.href){for(var e=location.href.split("/www")[1].split("/"),t="",n=0;n<e.length-2;n++)t+="../";document.write('<script src="'+t+'cordova.js"><\/script>')}}else if(navigator.userAgent.match(/MSIE\s10.0/)&&navigator.userAgent.match(/Windows\sNT\s6.2/)||navigator.userAgent.match(/MSAppHost/)){var o=document.createElement("script");o.setAttribute("src","cordova.js"),document.getElementsByTagName("head")[0].appendChild(o)}}(),window.monaca=window.monaca||{},function(){monaca.apiQueue=monaca.apiQueue||{},monaca.apiQueue.paramsArray=[],monaca.apiQueue.exec=function(e,t,n,o,r){monaca.isDeviceReady?window.cordova.exec(e,t,n,o,r):monaca.apiQueue.paramsArray.push([e,t,n,o,r])},monaca.apiQueue.next=function(){var e=monaca.apiQueue.paramsArray.shift();e&&window.cordova.exec(function(t){"function"==typeof e[0]&&e[0](t),monaca.apiQueue.next()},function(t){"function"==typeof e[1]&&e[1](t),monaca.apiQueue.next()},e[2],e[3],e[4])},monaca.isDeviceReady=monaca.isDeviceReady||!1,document.addEventListener("deviceready",function(){window.monaca.isDeviceReady=!0,monaca.apiQueue.next()},!1);var e=!!navigator.userAgent.match(/Android/i),t=!!navigator.userAgent.match(/iPhone|iPad|iPod/i);monaca.isAndroid=e,monaca.isIOS=t,monaca.retrieveUIStyle=function(){var e=[].slice.apply(arguments);monaca.apiQueue.exec(arguments[arguments.length-1],null,"mobi.monaca.nativecomponent","retrieve",e)},monaca.updateUIStyle=function(e,t,n){if("string"==typeof e){var o=[].slice.apply(arguments);monaca.apiQueue.exec(null,null,"mobi.monaca.nativecomponent","update",o)}else for(var r=0;r<e.length;r++)monaca.apiQueue.exec(null,null,"mobi.monaca.nativecomponent","update",[e[r],t,n])},e&&(monaca.retrieveUIStyle=function(e,t,n,o){monaca.apiQueue.exec(function(e){n(e[t])}||function(){},o||function(){},"mobi.monaca.nativecomponent","retrieve",[e])},monaca.updateUIStyle=function(e,t,n,o,r){var i={};i[t]=n,monaca.apiQueue.exec(o||function(){},r||function(){},"mobi.monaca.nativecomponent","update",[e,i])}),monaca.showSpinner=function(e){var t=(e=e||{}).src?e.src:null,n=null!=e.frames?e.frames:null,o=null!=e.interval?e.interval:null,r=e.backgroundColor?e.backgroundColor:null,i=null!=e.backgroundOpacity?e.backgroundOpacity:null,a=e.title?e.title:null,u=e.titleColor?e.titleColor:null,c=null!=e.titleFontScale?e.titleFontScale:null;monaca.apiQueue.exec(null,null,"mobi.monaca.nativecomponent","showSpinner",[t,n,o,r,i,a,u,c,null])},monaca.hideSpinner=function(){monaca.apiQueue.exec(null,null,"mobi.monaca.nativecomponent","hideSpinner",[])},monaca.updateSpinnerTitle=function(e){e||(e=""),monaca.apiQueue.exec(null,null,"mobi.monaca.nativecomponent","updateSpinnerTitle",[e])};var n="Transit";monaca.pushPage=function(e,t,o){var r=null;switch((t=t||{}).animation){case"lift":r="modal";break;case"slide":case"slideLeft":r="push";break;case"slideRight":r="slideRight";break;default:r="push"}monaca.apiQueue.exec(null,null,n,r,[e,t,o])},monaca.popPage=function(e){var t="lift"==(e=e||{}).animation?"dismiss":"pop";monaca.apiQueue.exec(null,null,n,t,[e])},monaca.invokeBrowser=function(e){monaca.apiQueue.exec(null,null,n,"browse",[e])},monaca.load=function(e,t,o){monaca.apiQueue.exec(null,null,n,"link",[e,t,o])},monaca.home=function(e){e=e||{},monaca.apiQueue.exec(null,null,n,"home",[e])},monaca.clearPageStack=function(e){e=e||!1,monaca.apiQueue.exec(null,null,n,"clearPageStack",[e])},window.monaca.console=window.monaca.console||{},monaca.console.sendLog=function(e,n,o,r,arguments){for(var i,a=0;a<arguments.length;a++)if(i="string"==typeof arguments[a]?arguments[a]:JSON.stringify(arguments[a]),t){var u=i.substr(0,5);if(!0!==window.monaca.isDeviceReady||"ERROR"!=u&&"WARN:"!=u){var c=new XMLHttpRequest,s="monaca://log?level="+encodeURIComponent(e)+"&message="+encodeURIComponent(i);c.open("GET",s),c.send()}}else window.console[e](i)};for(var o=["debug","info","log","warn","error"],r=0;r<o.length;r++){var i=o[r];monaca.console[i]=function(e){return function(){monaca.console.sendLog(e,null,null,null,arguments)}}(i)}t&&(window.console=window.monaca.console),window.monaca.splashScreen=window.monaca.splashScreen||{};monaca.splashScreen.hide=function(){e?monaca.apiQueue.exec(null,null,"MonacaSplashScreen","hide",[]):navigator.splashscreen.hide()},"string"!=typeof location.href?(console.warn("Cannot find base url"),monaca.baseUrl=null):monaca.baseUrl=location.href.split("/www/")[0]+"/www/",monaca.getDeviceId=function(e){monaca.apiQueue.exec(function(t){e(t.deviceId)},null,"Monaca","getRuntimeConfiguration",[])}}(),window.StatusBar=window.StatusBar||{},StatusBar.hideStatusBar=function(){monaca.apiQueue.exec(null,null,"mobi.monaca.nativecomponent","hideStatusBar",[])},StatusBar.showStatusBar=function(){monaca.apiQueue.exec(null,null,"mobi.monaca.nativecomponent","showStatusBar",[])},StatusBar.statusBarStyleDefault=function(){monaca.apiQueue.exec(null,null,"mobi.monaca.nativecomponent","statusBarStyleDefault",[])},StatusBar.statusBarStyleLightContent=function(){monaca.apiQueue.exec(null,null,"mobi.monaca.nativecomponent","statusBarStyleLightContent",[])},StatusBar.statusBarStyleBlackOpaque=function(){monaca.apiQueue.exec(null,null,"mobi.monaca.nativecomponent","statusBarStyleBlackOpaque",[])},StatusBar.statusBarStyleBlackTranslucent=function(){monaca.apiQueue.exec(null,null,"mobi.monaca.nativecomponent","statusBarStyleBlackTranslucent",[])},window.monaca=window.monaca||{},window.monaca.cloud=window.monaca.cloud||{},monaca.cloud.Push={},monaca.cloud.Push.callback=null,monaca.cloud.Push.callbackData=null,monaca.cloud.Push.send=function(e){"function"==typeof monaca.cloud.Push.callback?monaca.cloud.Push.callback(e):monaca.cloud.Push.callbackData=e},monaca.cloud.Push.setHandler=function(e){"function"!=typeof e?console.warn("Push callback must be a function"):(monaca.cloud.Push.callback=e,monaca.cloud.Push.callbackData&&(monaca.cloud.Push.callback(monaca.cloud.Push.callbackData),monaca.cloud.Push.callbackData=null))},function(e){var t,n=e.$,o=e.Zepto,r=function(){function e(e){return null==e?String(e):Q[q.call(e)]||"object"}function t(t){return"function"==e(t)}function n(e){return null!=e&&e==e.window}function o(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function r(t){return"object"==e(t)}function i(e){return r(e)&&!n(e)&&Object.getPrototypeOf(e)==Object.prototype}function a(e){return"number"==typeof e.length}function u(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function c(e){return e in D?D[e]:D[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function s(e,t){return"number"!=typeof t||k[u(e)]?t:t+"px"}function l(e){return"children"in e?P.call(e.children):y.map(e.childNodes,function(e){return 1==e.nodeType?e:void 0})}function d(e,t){return null==t?y(e):y(e).filter(t)}function f(e,n,o,r){return t(n)?n.call(e,o,r):n}function p(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function h(e,t){var n=e.className,o=n&&n.baseVal!==v;return t===v?o?n.baseVal:n:void(o?n.baseVal=t:e.className=t)}function m(e){var t;try{return e?"true"==e||"false"!=e&&("null"==e?null:/^0/.test(e)||isNaN(t=Number(e))?/^[\[\{]/.test(e)?y.parseJSON(e):e:t):e}catch(t){return e}}var v,g,y,w,b,x,_=[],P=_.slice,C=_.filter,S=window.document,E={},D={},k={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},T=/^\s*<(\w+|!)[^>]*>/,O=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,j=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,N=/^(?:body|html)$/i,A=/([A-Z])/g,I=["val","css","html","text","data","width","height","offset"],B=S.createElement("table"),L=S.createElement("tr"),M={tr:S.createElement("tbody"),tbody:B,thead:B,tfoot:B,td:L,th:L,"*":S.createElement("div")},R=/complete|loaded|interactive/,U=/^[\w-]*$/,Q={},q=Q.toString,$={},F=S.createElement("div"),H={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},W=Array.isArray||function(e){return e instanceof Array};return $.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var n=e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var o,r=e.parentNode,i=!r;return i&&(r=F).appendChild(e),o=~$.qsa(r,t).indexOf(e),i&&F.removeChild(e),o},b=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},x=function(e){return C.call(e,function(t,n){return e.indexOf(t)==n})},$.fragment=function(e,t,n){var o,r,a;return O.test(e)&&(o=y(S.createElement(RegExp.$1))),o||(e.replace&&(e=e.replace(j,"<$1></$2>")),t===v&&(t=T.test(e)&&RegExp.$1),t in M||(t="*"),(a=M[t]).innerHTML=""+e,o=y.each(P.call(a.childNodes),function(){a.removeChild(this)})),i(n)&&(r=y(o),y.each(n,function(e,t){I.indexOf(e)>-1?r[e](t):r.attr(e,t)})),o},$.Z=function(e,t){return(e=e||[]).__proto__=y.fn,e.selector=t||"",e},$.isZ=function(e){return e instanceof $.Z},$.init=function(e,n){var o,i;if(!e)return $.Z();if("string"==typeof e)if("<"==(e=e.trim())[0]&&T.test(e))o=$.fragment(e,RegExp.$1,n),e=null;else{if(n!==v)return y(n).find(e);o=$.qsa(S,e)}else{if(t(e))return y(S).ready(e);if($.isZ(e))return e;if(W(e))i=e,o=C.call(i,function(e){return null!=e});else if(r(e))o=[e],e=null;else if(T.test(e))o=$.fragment(e.trim(),RegExp.$1,n),e=null;else{if(n!==v)return y(n).find(e);o=$.qsa(S,e)}}return $.Z(o,e)},(y=function(e,t){return $.init(e,t)}).extend=function(e){var t,n=P.call(arguments,1);return"boolean"==typeof e&&(t=e,e=n.shift()),n.forEach(function(n){!function e(t,n,o){for(g in n)o&&(i(n[g])||W(n[g]))?(i(n[g])&&!i(t[g])&&(t[g]={}),W(n[g])&&!W(t[g])&&(t[g]=[]),e(t[g],n[g],o)):n[g]!==v&&(t[g]=n[g])}(e,n,t)}),e},$.qsa=function(e,t){var n,r="#"==t[0],i=!r&&"."==t[0],a=r||i?t.slice(1):t,u=U.test(a);return o(e)&&u&&r?(n=e.getElementById(a))?[n]:[]:1!==e.nodeType&&9!==e.nodeType?[]:P.call(u&&!r?i?e.getElementsByClassName(a):e.getElementsByTagName(t):e.querySelectorAll(t))},y.contains=function(e,t){return e!==t&&e.contains(t)},y.type=e,y.isFunction=t,y.isWindow=n,y.isArray=W,y.isPlainObject=i,y.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},y.inArray=function(e,t,n){return _.indexOf.call(t,e,n)},y.camelCase=b,y.trim=function(e){return null==e?"":String.prototype.trim.call(e)},y.uuid=0,y.support={},y.expr={},y.map=function(e,t){var n,o,r,i,u=[];if(a(e))for(o=0;o<e.length;o++)null!=(n=t(e[o],o))&&u.push(n);else for(r in e)null!=(n=t(e[r],r))&&u.push(n);return(i=u).length>0?y.fn.concat.apply([],i):i},y.each=function(e,t){var n,o;if(a(e)){for(n=0;n<e.length;n++)if(!1===t.call(e[n],n,e[n]))return e}else for(o in e)if(!1===t.call(e[o],o,e[o]))return e;return e},y.grep=function(e,t){return C.call(e,t)},window.JSON&&(y.parseJSON=JSON.parse),y.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Q["[object "+t+"]"]=t.toLowerCase()}),y.fn={forEach:_.forEach,reduce:_.reduce,push:_.push,sort:_.sort,indexOf:_.indexOf,concat:_.concat,map:function(e){return y(y.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return y(P.apply(this,arguments))},ready:function(e){return R.test(S.readyState)&&S.body?e(y):S.addEventListener("DOMContentLoaded",function(){e(y)},!1),this},get:function(e){return e===v?P.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(e){return _.every.call(this,function(t,n){return!1!==e.call(t,n,t)}),this},filter:function(e){return t(e)?this.not(this.not(e)):y(C.call(this,function(t){return $.matches(t,e)}))},add:function(e,t){return y(x(this.concat(y(e,t))))},is:function(e){return this.length>0&&$.matches(this[0],e)},not:function(e){var n=[];if(t(e)&&e.call!==v)this.each(function(t){e.call(this,t)||n.push(this)});else{var o="string"==typeof e?this.filter(e):a(e)&&t(e.item)?P.call(e):y(e);this.forEach(function(e){o.indexOf(e)<0&&n.push(e)})}return y(n)},has:function(e){return this.filter(function(){return r(e)?y.contains(this,e):y(this).find(e).size()})},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!r(e)?e:y(e)},last:function(){var e=this[this.length-1];return e&&!r(e)?e:y(e)},find:function(e){var t=this;return"object"==typeof e?y(e).filter(function(){var e=this;return _.some.call(t,function(t){return y.contains(t,e)})}):1==this.length?y($.qsa(this[0],e)):this.map(function(){return $.qsa(this,e)})},closest:function(e,t){var n=this[0],r=!1;for("object"==typeof e&&(r=y(e));n&&!(r?r.indexOf(n)>=0:$.matches(n,e));)n=n!==t&&!o(n)&&n.parentNode;return y(n)},parents:function(e){for(var t=[],n=this;n.length>0;)n=y.map(n,function(e){return(e=e.parentNode)&&!o(e)&&t.indexOf(e)<0?(t.push(e),e):void 0});return d(t,e)},parent:function(e){return d(x(this.pluck("parentNode")),e)},children:function(e){return d(this.map(function(){return l(this)}),e)},contents:function(){return this.map(function(){return P.call(this.childNodes)})},siblings:function(e){return d(this.map(function(e,t){return C.call(l(t.parentNode),function(e){return e!==t})}),e)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(e){return y.map(this,function(t){return t[e]})},show:function(){return this.each(function(){var e,t,n;"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=(e=this.nodeName,E[e]||(t=S.createElement(e),S.body.appendChild(t),n=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==n&&(n="block"),E[e]=n),E[e]))})},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var n=t(e);if(this[0]&&!n)var o=y(e).get(0),r=o.parentNode||this.length>1;return this.each(function(t){y(this).wrapAll(n?e.call(this,t):r?o.cloneNode(!0):o)})},wrapAll:function(e){if(this[0]){y(this[0]).before(e=y(e));for(var t;(t=e.children()).length;)e=t.first();y(e).append(this)}return this},wrapInner:function(e){var n=t(e);return this.each(function(t){var o=y(this),r=o.contents(),i=n?e.call(this,t):e;r.length?r.wrapAll(i):o.append(i)})},unwrap:function(){return this.parent().each(function(){y(this).replaceWith(y(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(e){return this.each(function(){var t=y(this);(e===v?"none"==t.css("display"):e)?t.show():t.hide()})},prev:function(e){return y(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return y(this.pluck("nextElementSibling")).filter(e||"*")},html:function(e){return 0===arguments.length?this.length>0?this[0].innerHTML:null:this.each(function(t){var n=this.innerHTML;y(this).empty().append(f(this,e,t,n))})},text:function(e){return 0===arguments.length?this.length>0?this[0].textContent:null:this.each(function(){this.textContent=e===v?"":""+e})},attr:function(e,t){var n;return"string"==typeof e&&t===v?0==this.length||1!==this[0].nodeType?v:"value"==e&&"INPUT"==this[0].nodeName?this.val():!(n=this[0].getAttribute(e))&&e in this[0]?this[0][e]:n:this.each(function(n){if(1===this.nodeType)if(r(e))for(g in e)p(this,g,e[g]);else p(this,e,f(this,t,n,this.getAttribute(e)))})},removeAttr:function(e){return this.each(function(){1===this.nodeType&&p(this,e)})},prop:function(e,t){return e=H[e]||e,t===v?this[0]&&this[0][e]:this.each(function(n){this[e]=f(this,t,n,this[e])})},data:function(e,t){var n=this.attr("data-"+e.replace(A,"-$1").toLowerCase(),t);return null!==n?m(n):v},val:function(e){return 0===arguments.length?this[0]&&(this[0].multiple?y(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value):this.each(function(t){this.value=f(this,e,t,this.value)})},offset:function(e){if(e)return this.each(function(t){var n=y(this),o=f(this,e,t,n.offset()),r=n.offsetParent().offset(),i={top:o.top-r.top,left:o.left-r.left};"static"==n.css("position")&&(i.position="relative"),n.css(i)});if(0==this.length)return null;var t=this[0].getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:Math.round(t.width),height:Math.round(t.height)}},css:function(t,n){if(arguments.length<2){var o=this[0],r=getComputedStyle(o,"");if(!o)return;if("string"==typeof t)return o.style[b(t)]||r.getPropertyValue(t);if(W(t)){var i={};return y.each(W(t)?t:[t],function(e,t){i[t]=o.style[b(t)]||r.getPropertyValue(t)}),i}}var a="";if("string"==e(t))n||0===n?a=u(t)+":"+s(t,n):this.each(function(){this.style.removeProperty(u(t))});else for(g in t)t[g]||0===t[g]?a+=u(g)+":"+s(g,t[g])+";":this.each(function(){this.style.removeProperty(u(g))});return this.each(function(){this.style.cssText+=";"+a})},index:function(e){return e?this.indexOf(y(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return!!e&&_.some.call(this,function(e){return this.test(h(e))},c(e))},addClass:function(e){return e?this.each(function(t){w=[];var n=h(this);f(this,e,t,n).split(/\s+/g).forEach(function(e){y(this).hasClass(e)||w.push(e)},this),w.length&&h(this,n+(n?" ":"")+w.join(" "))}):this},removeClass:function(e){return this.each(function(t){return e===v?h(this,""):(w=h(this),f(this,e,t,w).split(/\s+/g).forEach(function(e){w=w.replace(c(e)," ")}),void h(this,w.trim()))})},toggleClass:function(e,t){return e?this.each(function(n){var o=y(this);f(this,e,n,h(this)).split(/\s+/g).forEach(function(e){(t===v?!o.hasClass(e):t)?o.addClass(e):o.removeClass(e)})}):this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return e===v?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return e===v?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var e=this[0],t=this.offsetParent(),n=this.offset(),o=N.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(y(e).css("margin-top"))||0,n.left-=parseFloat(y(e).css("margin-left"))||0,o.top+=parseFloat(y(t[0]).css("border-top-width"))||0,o.left+=parseFloat(y(t[0]).css("border-left-width"))||0,{top:n.top-o.top,left:n.left-o.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||S.body;e&&!N.test(e.nodeName)&&"static"==y(e).css("position");)e=e.offsetParent;return e})}},y.fn.detach=y.fn.remove,["width","height"].forEach(function(e){var t=e.replace(/./,function(e){return e[0].toUpperCase()});y.fn[e]=function(r){var i,a=this[0];return r===v?n(a)?a["inner"+t]:o(a)?a.documentElement["scroll"+t]:(i=this.offset())&&i[e]:this.each(function(t){(a=y(this)).css(e,f(this,r,t,a[e]()))})}}),["after","prepend","before","append"].forEach(function(t,n){var o=n%2;y.fn[t]=function(){var t,r,i=y.map(arguments,function(n){return"object"==(t=e(n))||"array"==t||null==n?n:$.fragment(n)}),a=this.length>1;return i.length<1?this:this.each(function(e,t){r=o?t:t.parentNode,t=0==n?t.nextSibling:1==n?t.firstChild:2==n?t:null,i.forEach(function(e){if(a)e=e.cloneNode(!0);else if(!r)return y(e).remove();!function e(t,n){for(var o in n(t),t.childNodes)e(t.childNodes[o],n)}(r.insertBefore(e,t),function(e){null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&"text/javascript"!==e.type||e.src||window.eval.call(window,e.innerHTML)})})})},y.fn[o?t+"To":"insert"+(n?"Before":"After")]=function(e){return y(e)[t](this),this}}),$.Z.prototype=y.fn,$.uniq=x,$.deserializeValue=m,y.zepto=$,y}();window.Zepto=r,void 0===window.$&&(window.$=r),function(e){function t(e){return e._zid||(e._zid=d++)}function n(e,n,r,i){if((n=o(n)).ns)var a=(u=n.ns,new RegExp("(?:^| )"+u.replace(" "," .* ?")+"(?: |$)"));var u;return(m[t(e)]||[]).filter(function(e){return!(!e||n.e&&e.e!=n.e||n.ns&&!a.test(e.ns)||r&&t(e.fn)!==t(r)||i&&e.sel!=i)})}function o(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function r(e,t){return e.del&&!g&&e.e in y||!!t}function i(e){return w[e]||g&&y[e]||e}function a(n,a,u,s,d,f,p){var h=t(n),v=m[h]||(m[h]=[]);a.split(/\s/).forEach(function(t){if("ready"==t)return e(document).ready(u);var a=o(t);a.fn=u,a.sel=d,a.e in w&&(u=function(t){var n=t.relatedTarget;return!n||n!==this&&!e.contains(this,n)?a.fn.apply(this,arguments):void 0}),a.del=f;var h=f||u;a.proxy=function(e){if(!(e=c(e)).isImmediatePropagationStopped()){e.data=s;var t=h.apply(n,e._args==l?[e]:[e].concat(e._args));return!1===t&&(e.preventDefault(),e.stopPropagation()),t}},a.i=v.length,v.push(a),"addEventListener"in n&&n.addEventListener(i(a.e),a.proxy,r(a,p))})}function u(e,o,a,u,c){var s=t(e);(o||"").split(/\s/).forEach(function(t){n(e,t,a,u).forEach(function(t){delete m[s][t.i],"removeEventListener"in e&&e.removeEventListener(i(t.e),t.proxy,r(t,c))})})}function c(t,n){return(n||!t.isDefaultPrevented)&&(n||(n=t),e.each(P,function(e,o){var r=n[e];t[e]=function(){return this[o]=b,r&&r.apply(n,arguments)},t[o]=x}),(n.defaultPrevented!==l?n.defaultPrevented:"returnValue"in n?!1===n.returnValue:n.getPreventDefault&&n.getPreventDefault())&&(t.isDefaultPrevented=b)),t}function s(e){var t,n={originalEvent:e};for(t in e)_.test(t)||e[t]===l||(n[t]=e[t]);return c(n,e)}var l,d=1,f=Array.prototype.slice,p=e.isFunction,h=function(e){return"string"==typeof e},m={},v={},g="onfocusin"in window,y={focus:"focusin",blur:"focusout"},w={mouseenter:"mouseover",mouseleave:"mouseout"};v.click=v.mousedown=v.mouseup=v.mousemove="MouseEvents",e.event={add:a,remove:u},e.proxy=function(n,o){if(p(n)){var r=function(){return n.apply(o,arguments)};return r._zid=t(n),r}if(h(o))return e.proxy(n[o],n);throw new TypeError("expected function")},e.fn.bind=function(e,t,n){return this.on(e,t,n)},e.fn.unbind=function(e,t){return this.off(e,t)},e.fn.one=function(e,t,n,o){return this.on(e,t,n,o,1)};var b=function(){return!0},x=function(){return!1},_=/^([A-Z]|returnValue$|layer[XY]$)/,P={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};e.fn.delegate=function(e,t,n){return this.on(t,e,n)},e.fn.undelegate=function(e,t,n){return this.off(t,e,n)},e.fn.live=function(t,n){return e(document.body).delegate(this.selector,t,n),this},e.fn.die=function(t,n){return e(document.body).undelegate(this.selector,t,n),this},e.fn.on=function(t,n,o,r,i){var c,d,m=this;return t&&!h(t)?(e.each(t,function(e,t){m.on(e,n,o,t,i)}),m):(h(n)||p(r)||!1===r||(r=o,o=n,n=l),(p(o)||!1===o)&&(r=o,o=l),!1===r&&(r=x),m.each(function(l,p){i&&(c=function(e){return u(p,e.type,r),r.apply(this,arguments)}),n&&(d=function(t){var o,i=e(t.target).closest(n,p).get(0);return i&&i!==p?(o=e.extend(s(t),{currentTarget:i,liveFired:p}),(c||r).apply(i,[o].concat(f.call(arguments,1)))):void 0}),a(p,t,r,o,n,d||c)}))},e.fn.off=function(t,n,o){var r=this;return t&&!h(t)?(e.each(t,function(e,t){r.off(e,n,t)}),r):(h(n)||p(o)||!1===o||(o=n,n=l),!1===o&&(o=x),r.each(function(){u(this,t,o,n)}))},e.fn.trigger=function(t,n){return(t=h(t)||e.isPlainObject(t)?e.Event(t):c(t))._args=n,this.each(function(){"dispatchEvent"in this?this.dispatchEvent(t):e(this).triggerHandler(t,n)})},e.fn.triggerHandler=function(t,o){var r,i;return this.each(function(a,u){(r=s(h(t)?e.Event(t):t))._args=o,r.target=u,e.each(n(u,t.type||t),function(e,t){return i=t.proxy(r),!r.isImmediatePropagationStopped()&&void 0})}),i},"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){e.fn[t]=function(e){return e?this.bind(t,e):this.trigger(t)}}),["focus","blur"].forEach(function(t){e.fn[t]=function(e){return e?this.bind(t,e):this.each(function(){try{this[t]()}catch(e){}}),this}}),e.Event=function(e,t){h(e)||(e=(t=e).type);var n=document.createEvent(v[e]||"Events"),o=!0;if(t)for(var r in t)"bubbles"==r?o=!!t[r]:n[r]=t[r];return n.initEvent(e,o,!0),c(n)}}(r),function(e){function t(t,n,o,r){return t.global?(i=n||f,a=o,u=r,c=e.Event(a),e(i).trigger(c,u),!c.isDefaultPrevented()):void 0;var i,a,u,c}function n(e,n){var o=n.context;return!1!==n.beforeSend.call(o,e,n)&&!1!==t(n,o,"ajaxBeforeSend",[e,n])&&void t(n,o,"ajaxSend",[e,n])}function o(e,n,o,r){var a=o.context,u="success";o.success.call(a,e,u,n),r&&r.resolveWith(a,[e,u,n]),t(o,a,"ajaxSuccess",[n,o,e]),i(u,n,o)}function r(e,n,o,r,a){var u=r.context;r.error.call(u,o,n,e),a&&a.rejectWith(u,[o,n,e]),t(r,u,"ajaxError",[o,r,e||n]),i(n,o,r)}function i(n,o,r){var i,a=r.context;r.complete.call(a,o,n),t(r,a,"ajaxComplete",[o,r]),(i=r).global&&!--e.active&&t(i,null,"ajaxStop")}function a(){}function u(e,t){return""==t?e:(e+"&"+t).replace(/[&?]{1,2}/,"?")}function c(t,n,o,r){return e.isFunction(n)&&(r=o,o=n,n=void 0),e.isFunction(o)||(r=o,o=void 0),{url:t,data:n,success:o,dataType:r}}var s,l,d=0,f=window.document,p=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,h=/^(?:text|application)\/javascript/i,m=/^(?:text|application)\/xml/i,v="application/json",g="text/html",y=/^\s*$/;e.active=0,e.ajaxJSONP=function(t,i){if(!("type"in t))return e.ajax(t);var a,u,c=t.jsonpCallback,s=(e.isFunction(c)?c():c)||"jsonp"+ ++d,l=f.createElement("script"),p=window[s],h=function(t){e(l).triggerHandler("error",t||"abort")},m={abort:h};return i&&i.promise(m),e(l).on("load error",function(n,c){clearTimeout(u),e(l).off().remove(),"error"!=n.type&&a?o(a[0],m,t,i):r(null,c||"error",m,t,i),window[s]=p,a&&e.isFunction(p)&&p(a[0]),p=a=void 0}),!1===n(m,t)?(h("abort"),m):(window[s]=function(){a=arguments},l.src=t.url.replace(/\?(.+)=\?/,"?$1="+s),f.head.appendChild(l),t.timeout>0&&(u=setTimeout(function(){h("timeout")},t.timeout)),m)},e.ajaxSettings={type:"GET",beforeSend:a,success:a,error:a,complete:a,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:v,xml:"application/xml, text/xml",html:g,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},e.ajax=function(i){var c,d,f=e.extend({},i||{}),p=e.Deferred&&e.Deferred();for(s in e.ajaxSettings)void 0===f[s]&&(f[s]=e.ajaxSettings[s]);(d=f).global&&0==e.active++&&t(d,null,"ajaxStart"),f.crossDomain||(f.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(f.url)&&RegExp.$2!=window.location.host),f.url||(f.url=window.location.toString()),(c=f).processData&&c.data&&"string"!=e.type(c.data)&&(c.data=e.param(c.data,c.traditional)),!c.data||c.type&&"GET"!=c.type.toUpperCase()||(c.url=u(c.url,c.data),c.data=void 0),!1===f.cache&&(f.url=u(f.url,"_="+Date.now()));var w=f.dataType,b=/\?.+=\?/.test(f.url);if("jsonp"==w||b)return b||(f.url=u(f.url,f.jsonp?f.jsonp+"=?":!1===f.jsonp?"":"callback=?")),e.ajaxJSONP(f,p);var x,_=f.accepts[w],P={},C=function(e,t){P[e.toLowerCase()]=[e,t]},S=/^([\w-]+:)\/\//.test(f.url)?RegExp.$1:window.location.protocol,E=f.xhr(),D=E.setRequestHeader;if(p&&p.promise(E),f.crossDomain||C("X-Requested-With","XMLHttpRequest"),C("Accept",_||"*/*"),(_=f.mimeType||_)&&(_.indexOf(",")>-1&&(_=_.split(",",2)[0]),E.overrideMimeType&&E.overrideMimeType(_)),(f.contentType||!1!==f.contentType&&f.data&&"GET"!=f.type.toUpperCase())&&C("Content-Type",f.contentType||"application/x-www-form-urlencoded"),f.headers)for(l in f.headers)C(l,f.headers[l]);if(E.setRequestHeader=C,E.onreadystatechange=function(){if(4==E.readyState){E.onreadystatechange=a,clearTimeout(x);var t,n=!1;if(E.status>=200&&E.status<300||304==E.status||0==E.status&&"file:"==S){w=w||((i=f.mimeType||E.getResponseHeader("content-type"))&&(i=i.split(";",2)[0]),i&&(i==g?"html":i==v?"json":h.test(i)?"script":m.test(i)&&"xml")||"text"),t=E.responseText;try{"script"==w?(0,eval)(t):"xml"==w?t=E.responseXML:"json"==w&&(t=y.test(t)?null:e.parseJSON(t))}catch(e){n=e}n?r(n,"parsererror",E,f,p):o(t,E,f,p)}else r(E.statusText||null,E.status?"error":"abort",E,f,p)}var i},!1===n(E,f))return E.abort(),r(null,"abort",E,f,p),E;if(f.xhrFields)for(l in f.xhrFields)E[l]=f.xhrFields[l];var k=!("async"in f)||f.async;for(l in E.open(f.type,f.url,k,f.username,f.password),P)D.apply(E,P[l]);return f.timeout>0&&(x=setTimeout(function(){E.onreadystatechange=a,E.abort(),r(null,"timeout",E,f,p)},f.timeout)),E.send(f.data?f.data:null),E},e.get=function(){return e.ajax(c.apply(null,arguments))},e.post=function(){var t=c.apply(null,arguments);return t.type="POST",e.ajax(t)},e.getJSON=function(){var t=c.apply(null,arguments);return t.dataType="json",e.ajax(t)},e.fn.load=function(t,n,o){if(!this.length)return this;var r,i=this,a=t.split(/\s/),u=c(t,n,o),s=u.success;return a.length>1&&(u.url=a[0],r=a[1]),u.success=function(t){i.html(r?e("<div>").html(t.replace(p,"")).find(r):t),s&&s.apply(i,arguments)},e.ajax(u),this};var w=encodeURIComponent;e.param=function(t,n){var o=[];return o.add=function(e,t){this.push(w(e)+"="+w(t))},function t(n,o,r,i){var a,u=e.isArray(o),c=e.isPlainObject(o);e.each(o,function(o,s){a=e.type(s),i&&(o=r?i:i+"["+(c||"object"==a||"array"==a?o:"")+"]"),!i&&u?n.add(s.name,s.value):"array"==a||!r&&"object"==a?t(n,s,r,o):n.add(o,s)})}(o,t,n),o.join("&").replace(/%20/g,"+")}}(r),function(e){function t(n){var o=[["resolve","done",e.Callbacks({once:1,memory:1}),"resolved"],["reject","fail",e.Callbacks({once:1,memory:1}),"rejected"],["notify","progress",e.Callbacks({memory:1})]],r="pending",i={state:function(){return r},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var n=arguments;return t(function(t){e.each(o,function(o,r){var u=e.isFunction(n[o])&&n[o];a[r[1]](function(){var n=u&&u.apply(this,arguments);if(n&&e.isFunction(n.promise))n.promise().done(t.resolve).fail(t.reject).progress(t.notify);else{var o=this===i?t.promise():this,a=u?[n]:arguments;t[r[0]+"With"](o,a)}})}),n=null}).promise()},promise:function(t){return null!=t?e.extend(t,i):i}},a={};return e.each(o,function(e,t){var n=t[2],u=t[3];i[t[1]]=n.add,u&&n.add(function(){r=u},o[1^e][2].disable,o[2][2].lock),a[t[0]]=function(){return a[t[0]+"With"](this===a?i:this,arguments),this},a[t[0]+"With"]=n.fireWith}),i.promise(a),n&&n.call(a,a),a}var n=Array.prototype.slice;e.when=function(o){var r,i,a,u=n.call(arguments),c=u.length,s=0,l=1!==c||o&&e.isFunction(o.promise)?c:0,d=1===l?o:t(),f=function(e,t,o){return function(i){t[e]=this,o[e]=arguments.length>1?n.call(arguments):i,o===r?d.notifyWith(t,o):--l||d.resolveWith(t,o)}};if(c>1)for(r=new Array(c),i=new Array(c),a=new Array(c);c>s;++s)u[s]&&e.isFunction(u[s].promise)?u[s].promise().done(f(s,a,u)).fail(d.reject).progress(f(s,i,r)):--l;return l||d.resolveWith(a,u),d.promise()},e.Deferred=t}(r),(t=r).Callbacks=function(e){e=t.extend({},e);var n,o,r,i,a,u,c=[],s=!e.once&&[],l=function(t){for(n=e.memory&&t,o=!0,u=i||0,i=0,a=c.length,r=!0;c&&a>u;++u)if(!1===c[u].apply(t[0],t[1])&&e.stopOnFalse){n=!1;break}r=!1,c&&(s?s.length&&l(s.shift()):n?c.length=0:d.disable())},d={add:function(){if(c){var o=c.length,u=function(n){t.each(n,function(t,n){"function"==typeof n?e.unique&&d.has(n)||c.push(n):n&&n.length&&"string"!=typeof n&&u(n)})};u(arguments),r?a=c.length:n&&(i=o,l(n))}return this},remove:function(){return c&&t.each(arguments,function(e,n){for(var o;(o=t.inArray(n,c,o))>-1;)c.splice(o,1),r&&(a>=o&&--a,u>=o&&--u)}),this},has:function(e){return!(!c||!(e?t.inArray(e,c)>-1:c.length))},empty:function(){return a=c.length=0,this},disable:function(){return c=s=n=void 0,this},disabled:function(){return!c},lock:function(){return s=void 0,n||d.disable(),this},locked:function(){return!s},fireWith:function(e,t){return!c||o&&!s||(t=[e,(t=t||[]).slice?t.slice():t],r?s.push(t):l(t)),this},fire:function(){return d.fireWith(this,arguments)},fired:function(){return!!o}};return d},e.$=n,e.Zepto=o;var i=e.monaca=e.monaca||{};i.cloud=i.cloud||{},i.cloud.timeout=3e4,i.cloud.url="%%%CLOUD_HOST%%%",i.cloud.backendId="%%%BACKEND_ID%%%",i.cloud.apiKey="%%%BACKEND_API_KEY%%%",i.cloud.deviceId=null,i.cloud.postQueue=[],i.cloud.$=r;var a=function(){return function(e,t,n){void 0===n&&(n={}),this.code=e,this.message=t,this.data=n}}();i.cloud.Error=function(e,t,n){return new a(e,t,n)},i.cloud.setTimeout=function(e){this.timeout=e},document.addEventListener("deviceready",function(){cordova.exec(function(e){i.cloud.deviceId=new String(e.deviceId),i.cloud.url=new String(e.url),i.cloud.backendId=new String(e.backendId),i.cloud.apiKey=new String(e.apiKey);for(var t=0;t<i.cloud.postQueue.length;t++)i.cloud._doPost.apply(i.cloud,i.cloud.postQueue[t]);i.cloud.postQueue=[]},function(e){console.error(e)},"Monaca","getRuntimeConfiguration",[])},!1),i.cloud._post=function(e,t,n,o,r){null==i.cloud.deviceId?i.cloud.postQueue.push([e,t,n,o,r]):i.cloud._doPost(e,t,n,o,r)},i.cloud._doPost=function(e,t,n,o,r){var a=i.cloud.$;if(void 0===o&&(o={}),void 0===e&&void 0===t)throw new Error("Invalid arguments");t.__api_key=i.cloud.apiKey,t.__device=i.cloud.deviceId;var u=i.cloud._getSessionId();u.length>0&&(t.__session=u);var c=JSON.stringify({jsonrpc:"2.0",method:e,params:t,id:"1"}),s=a.extend(!0,{url:this.url+this.backendId,data:c,dataType:"json",type:"POST",timeout:this.timeout,success:function(e,t,o){var a=o.getResponseHeader("X-Set-Monaca-Cloud-Session");a&&i.cloud._setSessionId(a),void 0!==e.error?n.reject(e.error):(void 0!==e.result.loginToken&&(localStorage.monacaCloudLoginToken=e.result.loginToken),void 0!==r&&r(e,t,o,n),n.resolve(e.result))},error:function(e,t){switch(t){case"timeout":var o=i.cloud.Error(-11,"Connection timeout");break;case"parsererror":o=i.cloud.Error(-12,"Invalid response");break;default:o=i.cloud.Error(-13,"Invalid status code")}n.reject(o)}},o);a.ajax(s)};var u="";i.cloud._getSessionId=function(){return u},i.cloud._setSessionId=function(e){"string"!=typeof e&&(e=""),u=e}}(window),function(e){var t=e.monaca=e.monaca||{};t.cloud=t.cloud||{};var n=t.cloud.$;MonacaCloudCollectionItem=function(){function e(e,t){for(var n in this._id=e._id,this._ownerUserOid=e._ownerUserOid,this._createdAt=new Date(e._createdAt),this._updatedAt=new Date(e._updatedAt),this._collection=t,e)"_"!=n.substr(0,1)&&(this[n]=e[n])}return e.prototype={update:function(){var e=new n.Deferred,o=this._collection,r={};for(var i in this)0!==i.indexOf("_")&&(r[i]=this[i]);return t.cloud._post("Collection.update",{collectionName:o.name,itemOid:this._id,data:r},e,{}),e.promise()},getPermission:function(){var e=new n.Deferred,o=this._collection;return t.cloud._post("Collection.getPermission",{collectionName:o.name,itemOid:this._id},e,{}),e.promise()},updatePermission:function(e,o){var r=new n.Deferred,i=this._collection;return void 0===o&&(o={}),t.cloud._post("Collection.updatePermission",{collectionName:i.name,criteria:"_id == ?",bindParams:[this._id],permission:e,options:o},r,{}),r.promise()},remove:function(){var e=new n.Deferred,o=this._collection;return t.cloud._post("Collection.delete",{collectionName:o.name,itemOid:this._id},e,{}),e.promise()},delete:function(){return this.remove()}},e}(),t.cloud.CollectionItem=function(e,t){return new MonacaCloudCollectionItem(e,t)}}(window),function(e){var t=e.monaca=e.monaca||{};t.cloud=t.cloud||{};var n=t.cloud.$;MonacaCloudCollection=function(){function e(e){this.name=e}return e.prototype={_makeCollectionItem:function(e){var n=[];if(e instanceof Array)for(var o=0;o<e.length;o++)n[o]=t.cloud.CollectionItem(e[o],this);else n=t.cloud.CollectionItem(e,this);return n},_validateCriteria:function(e){return void 0===e||"null"==typeof e?e=t.cloud.Criteria(""):"string"==typeof e&&(e=t.cloud.Criteria(e)),e},_validateOptions:function(e,t){return"object"==typeof e&&void 0===e.length&&(e=void 0!==(t=e).orderBy?e.orderBy:null),""===e&&(e=null),{orderBy:e,options:t}},find:function(e,o,r){var i=this,a=new n.Deferred;e=i._validateCriteria(e);var u=i._validateOptions(o,r);return t.cloud._post("Collection.find",{collectionName:this.name,criteria:e.query,bindParams:e.bindParams,orderBy:u.orderBy,options:u.options},a,{},function(e,t,n,o){e.result.items=i._makeCollectionItem(e.result.items),o.resolve(e.result)}),a.promise()},findMine:function(e,o,r){var i=this,a=new n.Deferred;e=i._validateCriteria(e);var u=i._validateOptions(o,r),c=t.cloud.User._oid;return""!=e.query&&(e.query="("+e.query+") && "),null!=c?(e.query+="(_ownerUserOid == ?)",e.bindParams.push(c)):(e.query+="(_ownerDeviceOid == ?)",e.bindParams.push(t.cloud.deviceId)),t.cloud._post("Collection.find",{collectionName:this.name,criteria:e.query,bindParams:e.bindParams,orderBy:u.orderBy,options:u.options},a,{},function(e,t,n,o){e.result.items=i._makeCollectionItem(e.result.items),o.resolve(e.result)}),a.promise()},findOne:function(e,o,r){var i=this,a=new n.Deferred;e=i._validateCriteria(e);var u=i._validateOptions(o,r);return t.cloud._post("Collection.find",{collectionName:this.name,criteria:e.query,bindParams:e.bindParams,orderBy:u.orderBy,options:u.options},a,{},function(e,t,n,o){var r=e.result.totalItems>0?i._makeCollectionItem(e.result.items[0]):null;o.resolve(r)}),a.promise()},findOneMine:function(e,o,r){var i=this,a=new n.Deferred;e=i._validateCriteria(e);var u=i._validateOptions(o,r),c=t.cloud.User._oid;return""!=e.query&&(e.query="("+e.query+") && "),null!=c?(e.query+="(_ownerUserOid == ?)",e.bindParams.push(c)):(e.query+="(_ownerDeviceOid == ?)",e.bindParams.push(t.cloud.deviceId)),t.cloud._post("Collection.find",{collectionName:this.name,criteria:e.query,bindParams:e.bindParams,orderBy:u.orderBy,options:u.options},a,{},function(e,t,n,o){var r=e.result.totalItems>0?i._makeCollectionItem(e.result.items[0]):null;o.resolve(r)}),a.promise()},insert:function(e,o){var r=this,i=new n.Deferred;return void 0===o&&(o={}),t.cloud._post("Collection.insert",{collectionName:this.name,item:e,permission:o},i,{},function(e,t,n,o){var i=r._makeCollectionItem(e.result.item);o.resolve(i)}),i.promise()},updatePermission:function(e,o,r){var i=new n.Deferred;return e=this._validateCriteria(e),t.cloud._post("Collection.updatePermission",{collectionName:this.name,criteria:e.query,bindParams:e.bindParams,permission:o,options:r},i,{}),i.promise()}},e}(),t.cloud.Collection=function(e){return new MonacaCloudCollection(e)}}(window),function(e){var t=e.monaca=e.monaca||{};t.cloud=t.cloud||{};t.cloud.$;MonacaCloudCriteria=function(){return function(e,t){this.query=e,this.bindParams=void 0!==t?t:[]}}(),t.cloud.Criteria=function(e,t){return new MonacaCloudCriteria(e,t)}}(window),function(e){var t=e.monaca=e.monaca||{};t.cloud=t.cloud||{};var n=t.cloud.$;t.cloud.Device={getProperty:function(e){var o=new n.Deferred;return t.cloud._post("Device.getProperties",{names:[e]},o,{},function(t,n,o,r){r.resolve(t.result.properties[e])}),o.promise()},getProperties:function(e){var o=new n.Deferred;return t.cloud._post("Device.getProperties",{names:e},o,{},function(e,t,n,o){o.resolve(e.result.properties)}),o.promise()},saveProperty:function(e,o){var r=new n.Deferred,i={};return void 0!==e&&void 0!==o&&((i={properties:{}}).properties[e]=o),t.cloud._post("Device.saveProperties",i,r),r.promise()},saveProperties:function(e){var o=new n.Deferred,r={};return void 0!==e&&(r.properties=e),t.cloud._post("Device.saveProperties",r,o),o.promise()}}}(window),function(e){var t=e.monaca=e.monaca||{};t.cloud=t.cloud||{};var n=t.cloud.$;t.cloud.Mailer={sendMail:function(e,o,r,i){var a=new n.Deferred;return void 0===i&&(i={}),t.cloud._post("Mailer.sendMail",{userOid:e,templateName:o,substituteParams:r,options:i},a),a.promise()}}}(window),function(e){var t=e.monaca=e.monaca||{};t.cloud=t.cloud||{};var n=t.cloud.$;t.cloud.User={_oid:null,isAuthenticated:function(){return null!==this._oid},register:function(e,o,r){var i=new n.Deferred,a=this;return void 0===r&&(r={}),t.cloud._post("User.register",{username:e,password:o,properties:r},i,{},function(e){a._oid=e.result.user._id}),i.promise()},validate:function(e,o){var r=new n.Deferred;return t.cloud._post("User.validate",{username:e,properties:o},r),r.promise()},unregister:function(e){var o=this,r=new n.Deferred;return t.cloud._post("User.unregister",{password:e},r,{},function(){o._oid=null,t.cloud._setSessionId(""),localStorage.removeItem("monacaCloudLoginToken")}),r.promise()},login:function(e,o){var r=this,i=new n.Deferred;return t.cloud._post("User.login",{username:e,password:o},i,{},function(e){r._oid=e.result.user._id}),i.promise()},autoLogin:function(){var e=new n.Deferred,o=localStorage.monacaCloudLoginToken||"",r=this;return t.cloud._post("User.autoLogin",{loginToken:o},e,{},function(e){r._oid=e.result.user._id}),e.promise()},logout:function(){var e=this,o=new n.Deferred;return t.cloud._post("User.logout",{},o,{},function(){e._oid=null,t.cloud._setSessionId(""),localStorage.removeItem("monacaCloudLoginToken")}),o.promise()},updatePassword:function(e,o){var r=new n.Deferred;return t.cloud._post("User.updatePassword",{oldPassword:e,newPassword:o},r),r.promise()},sendPasswordResetToken:function(e,o){var r=new n.Deferred;return t.cloud._post("User.sendPasswordResetToken",{username:e,options:o},r),r.promise()},resetPasswordAndLogin:function(e,o,r){var i=new n.Deferred,a=this;return t.cloud._post("User.resetPasswordAndLogin",{username:e,newPassword:o,token:r},i,{},function(e){a._oid=e.result.user._id}),i.promise()},getProperty:function(e){var o=new n.Deferred;return t.cloud._post("User.getProperties",{names:[e]},o,{},function(t,n,o,r){r.resolve(t.result.properties[e])}),o.promise()},getProperties:function(e){var o=new n.Deferred;return t.cloud._post("User.getProperties",{names:e},o,{},function(e,t,n,o){o.resolve(e.result.properties)}),o.promise()},saveProperty:function(e,o){var r=new n.Deferred,i={};return void 0!==e&&((i={properties:{}}).properties[e]=o),t.cloud._post("User.saveProperties",i,r),r.promise()},saveProperties:function(e){var o=new n.Deferred,r={};return void 0!==e&&(r.properties=e),t.cloud._post("User.saveProperties",r,o),o.promise()}}}(window);